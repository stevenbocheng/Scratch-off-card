(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function zE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sm={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function d2(){if(B_)return jl;B_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:c,ref:o!==void 0?o:null,props:u}}return jl.Fragment=t,jl.jsx=i,jl.jsxs=i,jl}var F_;function m2(){return F_||(F_=1,Sm.exports=d2()),Sm.exports}var V=m2(),wm={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function p2(){if(H_)return xt;H_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function R(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,O={};function F(L,J,ct){this.props=L,this.context=J,this.refs=O,this.updater=ct||N}F.prototype.isReactComponent={},F.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},F.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function X(){}X.prototype=F.prototype;function K(L,J,ct){this.props=L,this.context=J,this.refs=O,this.updater=ct||N}var st=K.prototype=new X;st.constructor=K,j(st,F.prototype),st.isPureReactComponent=!0;var rt=Array.isArray;function at(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(L,J,ct){var ht=ct.ref;return{$$typeof:n,type:L,key:J,ref:ht!==void 0?ht:null,props:ct}}function P(L,J){return x(L.type,J,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function U(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ct){return J[ct]})}var D=/\/+/g;function Gt(L,J){return typeof L=="object"&&L!==null&&L.key!=null?U(""+L.key):J.toString(36)}function re(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(at,at):(L.status="pending",L.then(function(J){L.status==="pending"&&(L.status="fulfilled",L.value=J)},function(J){L.status==="pending"&&(L.status="rejected",L.reason=J)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function $(L,J,ct,ht,ut){var gt=typeof L;(gt==="undefined"||gt==="boolean")&&(L=null);var _t=!1;if(L===null)_t=!0;else switch(gt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(L.$$typeof){case n:case t:_t=!0;break;case v:return _t=L._init,$(_t(L._payload),J,ct,ht,ut)}}if(_t)return ut=ut(L),_t=ht===""?"."+Gt(L,0):ht,rt(ut)?(ct="",_t!=null&&(ct=_t.replace(D,"$&/")+"/"),$(ut,J,ct,"",function(Le){return Le})):ut!=null&&(I(ut)&&(ut=P(ut,ct+(ut.key==null||L&&L.key===ut.key?"":(""+ut.key).replace(D,"$&/")+"/")+_t)),J.push(ut)),1;_t=0;var Vt=ht===""?".":ht+":";if(rt(L))for(var Qt=0;Qt<L.length;Qt++)ht=L[Qt],gt=Vt+Gt(ht,Qt),_t+=$(ht,J,ct,gt,ut);else if(Qt=R(L),typeof Qt=="function")for(L=Qt.call(L),Qt=0;!(ht=L.next()).done;)ht=ht.value,gt=Vt+Gt(ht,Qt++),_t+=$(ht,J,ct,gt,ut);else if(gt==="object"){if(typeof L.then=="function")return $(re(L),J,ct,ht,ut);throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return _t}function ot(L,J,ct){if(L==null)return L;var ht=[],ut=0;return $(L,ht,"","",function(gt){return J.call(ct,gt,ut++)}),ht}function ft(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(ct){(L._status===0||L._status===-1)&&(L._status=1,L._result=ct)},function(ct){(L._status===0||L._status===-1)&&(L._status=2,L._result=ct)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var Rt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Nt={map:ot,forEach:function(L,J,ct){ot(L,function(){J.apply(this,arguments)},ct)},count:function(L){var J=0;return ot(L,function(){J++}),J},toArray:function(L){return ot(L,function(J){return J})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return xt.Activity=T,xt.Children=Nt,xt.Component=F,xt.Fragment=i,xt.Profiler=o,xt.PureComponent=K,xt.StrictMode=r,xt.Suspense=p,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},xt.cache=function(L){return function(){return L.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(L,J,ct){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ht=j({},L.props),ut=L.key;if(J!=null)for(gt in J.key!==void 0&&(ut=""+J.key),J)!S.call(J,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&J.ref===void 0||(ht[gt]=J[gt]);var gt=arguments.length-2;if(gt===1)ht.children=ct;else if(1<gt){for(var _t=Array(gt),Vt=0;Vt<gt;Vt++)_t[Vt]=arguments[Vt+2];ht.children=_t}return x(L.type,ut,ht)},xt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},xt.createElement=function(L,J,ct){var ht,ut={},gt=null;if(J!=null)for(ht in J.key!==void 0&&(gt=""+J.key),J)S.call(J,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(ut[ht]=J[ht]);var _t=arguments.length-2;if(_t===1)ut.children=ct;else if(1<_t){for(var Vt=Array(_t),Qt=0;Qt<_t;Qt++)Vt[Qt]=arguments[Qt+2];ut.children=Vt}if(L&&L.defaultProps)for(ht in _t=L.defaultProps,_t)ut[ht]===void 0&&(ut[ht]=_t[ht]);return x(L,gt,ut)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(L){return{$$typeof:m,render:L}},xt.isValidElement=I,xt.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ft}},xt.memo=function(L,J){return{$$typeof:g,type:L,compare:J===void 0?null:J}},xt.startTransition=function(L){var J=C.T,ct={};C.T=ct;try{var ht=L(),ut=C.S;ut!==null&&ut(ct,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(at,Rt)}catch(gt){Rt(gt)}finally{J!==null&&ct.types!==null&&(J.types=ct.types),C.T=J}},xt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xt.use=function(L){return C.H.use(L)},xt.useActionState=function(L,J,ct){return C.H.useActionState(L,J,ct)},xt.useCallback=function(L,J){return C.H.useCallback(L,J)},xt.useContext=function(L){return C.H.useContext(L)},xt.useDebugValue=function(){},xt.useDeferredValue=function(L,J){return C.H.useDeferredValue(L,J)},xt.useEffect=function(L,J){return C.H.useEffect(L,J)},xt.useEffectEvent=function(L){return C.H.useEffectEvent(L)},xt.useId=function(){return C.H.useId()},xt.useImperativeHandle=function(L,J,ct){return C.H.useImperativeHandle(L,J,ct)},xt.useInsertionEffect=function(L,J){return C.H.useInsertionEffect(L,J)},xt.useLayoutEffect=function(L,J){return C.H.useLayoutEffect(L,J)},xt.useMemo=function(L,J){return C.H.useMemo(L,J)},xt.useOptimistic=function(L,J){return C.H.useOptimistic(L,J)},xt.useReducer=function(L,J,ct){return C.H.useReducer(L,J,ct)},xt.useRef=function(L){return C.H.useRef(L)},xt.useState=function(L){return C.H.useState(L)},xt.useSyncExternalStore=function(L,J,ct){return C.H.useSyncExternalStore(L,J,ct)},xt.useTransition=function(){return C.H.useTransition()},xt.version="19.2.4",xt}var q_;function Wp(){return q_||(q_=1,wm.exports=p2()),wm.exports}var it=Wp();const g2=zE(it);var xm={exports:{}},Bl={},Rm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function y2(){return G_||(G_=1,(function(n){function t($,ot){var ft=$.length;$.push(ot);t:for(;0<ft;){var Rt=ft-1>>>1,Nt=$[Rt];if(0<o(Nt,ot))$[Rt]=ot,$[ft]=Nt,ft=Rt;else break t}}function i($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ot=$[0],ft=$.pop();if(ft!==ot){$[0]=ft;t:for(var Rt=0,Nt=$.length,L=Nt>>>1;Rt<L;){var J=2*(Rt+1)-1,ct=$[J],ht=J+1,ut=$[ht];if(0>o(ct,ft))ht<Nt&&0>o(ut,ct)?($[Rt]=ut,$[ht]=ft,Rt=ht):($[Rt]=ct,$[J]=ft,Rt=J);else if(ht<Nt&&0>o(ut,ft))$[Rt]=ut,$[ht]=ft,Rt=ht;else break t}}return ot}function o($,ot){var ft=$.sortIndex-ot.sortIndex;return ft!==0?ft:$.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,T=null,b=3,R=!1,N=!1,j=!1,O=!1,F=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function st($){for(var ot=i(g);ot!==null;){if(ot.callback===null)r(g);else if(ot.startTime<=$)r(g),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=i(g)}}function rt($){if(j=!1,st($),!N)if(i(p)!==null)N=!0,at||(at=!0,U());else{var ot=i(g);ot!==null&&re(rt,ot.startTime-$)}}var at=!1,C=-1,S=5,x=-1;function P(){return O?!0:!(n.unstable_now()-x<S)}function I(){if(O=!1,at){var $=n.unstable_now();x=$;var ot=!0;try{t:{N=!1,j&&(j=!1,X(C),C=-1),R=!0;var ft=b;try{e:{for(st($),T=i(p);T!==null&&!(T.expirationTime>$&&P());){var Rt=T.callback;if(typeof Rt=="function"){T.callback=null,b=T.priorityLevel;var Nt=Rt(T.expirationTime<=$);if($=n.unstable_now(),typeof Nt=="function"){T.callback=Nt,st($),ot=!0;break e}T===i(p)&&r(p),st($)}else r(p);T=i(p)}if(T!==null)ot=!0;else{var L=i(g);L!==null&&re(rt,L.startTime-$),ot=!1}}break t}finally{T=null,b=ft,R=!1}ot=void 0}}finally{ot?U():at=!1}}}var U;if(typeof K=="function")U=function(){K(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Gt=D.port2;D.port1.onmessage=I,U=function(){Gt.postMessage(null)}}else U=function(){F(I,0)};function re($,ot){C=F(function(){$(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var ot=3;break;default:ot=b}var ft=b;b=ot;try{return $()}finally{b=ft}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function($,ot){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ft=b;b=$;try{return ot()}finally{b=ft}},n.unstable_scheduleCallback=function($,ot,ft){var Rt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Rt+ft:Rt):ft=Rt,$){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=ft+Nt,$={id:v++,callback:ot,priorityLevel:$,startTime:ft,expirationTime:Nt,sortIndex:-1},ft>Rt?($.sortIndex=ft,t(g,$),i(p)===null&&$===i(g)&&(j?(X(C),C=-1):j=!0,re(rt,ft-Rt))):($.sortIndex=Nt,t(p,$),N||R||(N=!0,at||(at=!0,U()))),$},n.unstable_shouldYield=P,n.unstable_wrapCallback=function($){var ot=b;return function(){var ft=b;b=ot;try{return $.apply(this,arguments)}finally{b=ft}}}})(Cm)),Cm}var K_;function v2(){return K_||(K_=1,Rm.exports=y2()),Rm.exports}var Dm={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function _2(){if(Y_)return rn;Y_=1;var n=Wp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},rn.flushSync=function(p){var g=c.T,v=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=g,r.p=v,r.d.f()}},rn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},rn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},rn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:R}):v==="script"&&r.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},rn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},rn.requestFormReset=function(p){r.d.r(p)},rn.unstable_batchedUpdates=function(p,g){return p(g)},rn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.4",rn}var Q_;function T2(){if(Q_)return Dm.exports;Q_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Dm.exports=_2(),Dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function E2(){if(X_)return Bl;X_=1;var n=v2(),t=Wp(),i=T2();function r(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function c(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function m(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function g(e){var s=e.alternate;if(!s){if(s=u(e),s===null)throw Error(r(188));return s!==e?null:e}for(var a=e,l=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:s}function v(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=v(e),s!==null)return s;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),K=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case F:return"Profiler";case O:return"StrictMode";case rt:return"Suspense";case at:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case K:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case st:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return s=e.displayName||null,s!==null?s:Gt(e.type)||"Memo";case S:s=e._payload,e=e._init;try{return Gt(e(s))}catch{}}return null}var re=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Rt=[],Nt=-1;function L(e){return{current:e}}function J(e){0>Nt||(e.current=Rt[Nt],Rt[Nt]=null,Nt--)}function ct(e,s){Nt++,Rt[Nt]=e.current,e.current=s}var ht=L(null),ut=L(null),gt=L(null),_t=L(null);function Vt(e,s){switch(ct(gt,s),ct(ut,e),ct(ht,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?c_(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=c_(s),e=h_(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ht),ct(ht,e)}function Qt(){J(ht),J(ut),J(gt)}function Le(e){e.memoizedState!==null&&ct(_t,e);var s=ht.current,a=h_(s,e.type);s!==a&&(ct(ut,e),ct(ht,a))}function zn(e){ut.current===e&&(J(ht),J(ut)),_t.current===e&&(J(_t),Ll._currentValue=ft)}var Ts,yi;function vi(e){if(Ts===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ts=s&&s[1]||"",yi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+e+yi}var Lo=!1;function Ar(e,s){if(!e||Lo)return"";Lo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Q){var G=Q}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(Q){G=Q}e.call(tt.prototype)}}else{try{throw Error()}catch(Q){G=Q}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var M=_.split(`
`),q=A.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===q.length)for(l=M.length-1,f=q.length-1;1<=l&&0<=f&&M[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==q[f]){var Z=`
`+M[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=f);break}}}finally{Lo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?vi(a):""}function ko(e,s){switch(e.tag){case 26:case 27:case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return e.child!==s&&s!==null?vi("Suspense Fallback"):vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Ar(e.type,!1);case 11:return Ar(e.type.render,!1);case 1:return Ar(e.type,!0);case 31:return vi("Activity");default:return""}}function Uo(e){try{var s="",a=null;do s+=ko(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,ke=n.unstable_scheduleCallback,Es=n.unstable_cancelCallback,xf=n.unstable_shouldYield,Ou=n.unstable_requestPaint,ln=n.unstable_now,Sr=n.unstable_getCurrentPriorityLevel,zo=n.unstable_ImmediatePriority,jo=n.unstable_UserBlockingPriority,bs=n.unstable_NormalPriority,Rf=n.unstable_LowPriority,Pu=n.unstable_IdlePriority,Lu=n.log,ku=n.unstable_setDisableYieldValue,ei=null,Qe=null;function jn(e){if(typeof Lu=="function"&&ku(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ei,e)}catch{}}var ve=Math.clz32?Math.clz32:zu,Uu=Math.log,pa=Math.LN2;function zu(e){return e>>>=0,e===0?32:31-(Uu(e)/pa|0)|0}var _i=256,wr=262144,we=4194304;function Ti(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ei(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=Ti(l):(_&=A,_!==0?f=Ti(_):a||(a=A&~e,a!==0&&(f=Ti(a))))):(A=l&~d,A!==0?f=Ti(A):_!==0?f=Ti(_):a||(a=l&~e,a!==0&&(f=Ti(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function ni(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Cf(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function bi(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function xr(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Df(e,s,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,M=e.expirationTimes,q=e.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-ve(a),tt=1<<Z;A[Z]=0,M[Z]=-1;var G=q[Z];if(G!==null)for(q[Z]=null,Z=0;Z<G.length;Z++){var Q=G[Z];Q!==null&&(Q.lane&=-536870913)}a&=~tt}l!==0&&Rr(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~s))}function Rr(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-ve(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Bo(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-ve(a),f=1<<l;f&s|e[l]&s&&(e[l]|=s),a&=~f}}function Fo(e,s){var a=s&-s;return a=(a&42)!==0?1:Cr(a),(a&(e.suspendedLanes|s))!==0?0:a}function Cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bu(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:O_(e.type))}function ii(e,s){var a=ot.p;try{return ot.p=e,s()}finally{ot.p=a}}var si=Math.random().toString(36).slice(2),xe="__reactFiber$"+si,He="__reactProps$"+si,Ai="__reactContainer$"+si,ga="__reactEvents$"+si,Vf="__reactListeners$"+si,Fu="__reactHandles$"+si,Hu="__reactResources$"+si,Si="__reactMarker$"+si;function ya(e){delete e[xe],delete e[He],delete e[ga],delete e[Vf],delete e[Fu]}function wi(e){var s=e[xe];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Ai]||a[xe]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=v_(e);e!==null;){if(a=e[xe])return a;e=v_(e)}return s}e=a,a=e.parentNode}return null}function Bn(e){if(e=e[xe]||e[Ai]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function xn(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(r(33))}function xi(e){var s=e[Hu];return s||(s=e[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Re(e){e[Si]=!0}var Ho=new Set,qo={};function Ri(e,s){Ci(e,s),Ci(e+"Capture",s)}function Ci(e,s){for(qo[e]=s,e=0;e<s.length;e++)Ho.add(s[e])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Yo={};function qu(e){return Se.call(Yo,e)?!0:Se.call(Ko,e)?!1:Go.test(e)?Yo[e]=!0:(Ko[e]=!0,!1)}function va(e,s,a){if(qu(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function Rn(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Ce(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function As(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Qo(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Xt(e){if(!e._valueTracker){var s=As(e)?"checked":"value";e._valueTracker=Qo(e,s,""+e[s])}}function Dr(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=As(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vr=/[\n"\\]/g;function gn(e){return e.replace(Vr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _a(e,s,a,l,f,d,_,A){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),s!=null?_==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+qe(s)):e.value!==""+qe(s)&&(e.value=""+qe(s)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),s!=null?Xo(e,_,qe(s)):a!=null?Xo(e,_,qe(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+qe(A):e.removeAttribute("name")}function Gu(e,s,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Xt(e);return}a=a!=null?""+qe(a):"",s=s!=null?""+qe(s):a,A||s===e.value||(e.value=s),e.defaultValue=s}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Xt(e)}function Xo(e,s,a){s==="number"&&Di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ss(e,s,a,l){if(e=e.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=s.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+qe(a),s=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}s!==null||e[f].disabled||(s=e[f])}s!==null&&(s.selected=!0)}}function Ku(e,s,a){if(s!=null&&(s=""+qe(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+qe(a):""}function ws(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(re(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=qe(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Xt(e)}function yn(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var Yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||Yu.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function Zo(e,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in s)l=s[f],s.hasOwnProperty(f)&&a[f]!==l&&$o(e,f,l)}else for(var d in s)s.hasOwnProperty(d)&&$o(e,d,s[d])}function Ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(e){return xs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ri(){}var Wo=null;function Fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,Vi=null;function Mr(e){var s=Bn(e);if(s&&(e=s.stateNode)){var a=e[He]||null;t:switch(e=s.stateNode,s.type){case"input":if(_a(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var f=l[He]||null;if(!f)throw Error(r(90));_a(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&Dr(l)}break t;case"textarea":Ku(e,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Ss(e,!!a.multiple,s,!1)}}}var ba=!1;function Cs(e,s,a){if(ba)return e(s,a);ba=!0;try{var l=e(s);return l}finally{if(ba=!1,(Rs!==null||Vi!==null)&&(Bc(),Rs&&(s=Rs,e=Vi,Vi=Rs=null,Mr(s),e)))for(s=0;s<e.length;s++)Mr(e[s])}}function ai(e,s){var a=e.stateNode;if(a===null)return null;var l=a[He]||null;if(l===null)return null;a=l[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Hn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{Nr=!1}var Mi=null,Jo=null,Ir=null;function tl(){if(Ir)return Ir;var e,s=Jo,a=s.length,l,f="value"in Mi?Mi.value:Mi.textContent,d=f.length;for(e=0;e<a&&s[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&s[a-l]===f[d-l];l++);return Ir=f.slice(e,1<l?1-l:void 0)}function Or(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function oi(){return!1}function Xe(e){function s(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$i:oi,this.isPropagationStopped=oi,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),s}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Xe(Zi),Ds=T({},Zi,{view:0,detail:0}),el=Xe(Ds),Vs,Aa,Ii,Sa=T({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(Vs=e.screenX-Ii.screenX,Aa=e.screenY-Ii.screenY):Aa=Vs=0,Ii=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),nl=Xe(Sa),Pr=T({},Sa,{dataTransfer:0}),Xu=Xe(Pr),$u=T({},Ds,{relatedTarget:0}),Lr=Xe($u),il=T({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zu=Xe(il),wa=T({},Zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wu=Xe(wa),Ju=T({},Zi,{data:0}),Oi=Xe(Ju),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ic(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=nc[e])?!!s[e]:!1}function Ms(){return ic}var un=T({},Ds,{key:function(e){if(e.key){var s=tc[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ec[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sc=Xe(un),rc=T({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Xe(rc),h=T({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),y=Xe(h),E=T({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Xe(E),B=T({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Xe(B),lt=T({},Zi,{newState:0,oldState:0}),Ct=Xe(lt),_e=[9,13,27,32],Kt=Hn&&"CompositionEvent"in window,ue=null;Hn&&"documentMode"in document&&(ue=document.documentMode);var qn=Hn&&"TextEvent"in window&&!ue,Pi=Hn&&(!Kt||ue&&8<ue&&11>=ue),li=" ",ui=!1;function kr(e,s){switch(e){case"keyup":return _e.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function kw(e,s){switch(e){case"compositionend":return xa(s);case"keypress":return s.which!==32?null:(ui=!0,li);case"textInput":return e=s.data,e===li&&ui?null:e;default:return null}}function Uw(e,s){if(Ra)return e==="compositionend"||!Kt&&kr(e,s)?(e=tl(),Ir=Jo=Mi=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Pi&&s.locale!=="ko"?null:s.data;default:return null}}var zw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!zw[e.type]:s==="textarea"}function by(e,s,a,l){Rs?Vi?Vi.push(l):Vi=[l]:Rs=l,s=Qc(s,"onChange"),0<s.length&&(a=new Ni("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var sl=null,rl=null;function jw(e){s_(e,0)}function ac(e){var s=xn(e);if(Dr(s))return e}function Ay(e,s){if(e==="change")return s}var Sy=!1;if(Hn){var Mf;if(Hn){var Nf="oninput"in document;if(!Nf){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),Nf=typeof wy.oninput=="function"}Mf=Nf}else Mf=!1;Sy=Mf&&(!document.documentMode||9<document.documentMode)}function xy(){sl&&(sl.detachEvent("onpropertychange",Ry),rl=sl=null)}function Ry(e){if(e.propertyName==="value"&&ac(rl)){var s=[];by(s,rl,e,Fn(e)),Cs(jw,s)}}function Bw(e,s,a){e==="focusin"?(xy(),sl=s,rl=a,sl.attachEvent("onpropertychange",Ry)):e==="focusout"&&xy()}function Fw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ac(rl)}function Hw(e,s){if(e==="click")return ac(s)}function qw(e,s){if(e==="input"||e==="change")return ac(s)}function Gw(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Cn=typeof Object.is=="function"?Object.is:Gw;function al(e,s){if(Cn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Se.call(s,f)||!Cn(e[f],s[f]))return!1}return!0}function Cy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dy(e,s){var a=Cy(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Cy(a)}}function Vy(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Vy(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function My(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Di(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=Di(e.document)}return s}function If(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var Kw=Hn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Of=null,ol=null,Pf=!1;function Ny(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pf||Ca==null||Ca!==Di(l)||(l=Ca,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Qc(Of,"onSelect"),0<l.length&&(s=new Ni("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=Ca)))}function Ur(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var Da={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Lf={},Iy={};Hn&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function zr(e){if(Lf[e])return Lf[e];if(!Da[e])return e;var s=Da[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Iy)return Lf[e]=s[a];return e}var Oy=zr("animationend"),Py=zr("animationiteration"),Ly=zr("animationstart"),Yw=zr("transitionrun"),Qw=zr("transitionstart"),Xw=zr("transitioncancel"),ky=zr("transitionend"),Uy=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function ci(e,s){Uy.set(e,s),Ri(s,[e])}var oc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gn=[],Va=0,Uf=0;function lc(){for(var e=Va,s=Uf=Va=0;s<e;){var a=Gn[s];Gn[s++]=null;var l=Gn[s];Gn[s++]=null;var f=Gn[s];Gn[s++]=null;var d=Gn[s];if(Gn[s++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&zy(a,f,d)}}function uc(e,s,a,l){Gn[Va++]=e,Gn[Va++]=s,Gn[Va++]=a,Gn[Va++]=l,Uf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function zf(e,s,a,l){return uc(e,s,a,l),cc(e)}function jr(e,s){return uc(e,null,null,s),cc(e)}function zy(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&s!==null&&(f=31-ve(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[s]:l.push(s),s.lane=a|536870912),d):null}function cc(e){if(50<Dl)throw Dl=0,Qd=null,Error(r(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Ma={};function $w(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,s,a,l){return new $w(e,s,a,l)}function jf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,s){var a=e.alternate;return a===null?(a=Dn(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function jy(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function hc(e,s,a,l,f,d){var _=0;if(l=e,typeof e=="function")jf(e)&&(_=1);else if(typeof e=="string")_=e2(e,a,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=Dn(31,a,s,f),e.elementType=x,e.lanes=d,e;case j:return Br(a.children,f,d,s);case O:_=8,f|=24;break;case F:return e=Dn(12,a,s,f|2),e.elementType=F,e.lanes=d,e;case rt:return e=Dn(13,a,s,f),e.elementType=rt,e.lanes=d,e;case at:return e=Dn(19,a,s,f),e.elementType=at,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:_=10;break t;case X:_=9;break t;case st:_=11;break t;case C:_=14;break t;case S:_=16,l=null;break t}_=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return s=Dn(_,a,s,f),s.elementType=e,s.type=l,s.lanes=d,s}function Br(e,s,a,l){return e=Dn(7,e,l,s),e.lanes=a,e}function Bf(e,s,a){return e=Dn(6,e,null,s),e.lanes=a,e}function By(e){var s=Dn(18,null,null,0);return s.stateNode=e,s}function Ff(e,s,a){return s=Dn(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Fy=new WeakMap;function Kn(e,s){if(typeof e=="object"&&e!==null){var a=Fy.get(e);return a!==void 0?a:(s={value:e,source:s,stack:Uo(s)},Fy.set(e,s),s)}return{value:e,source:s,stack:Uo(s)}}var Na=[],Ia=0,fc=null,ll=0,Yn=[],Qn=0,Ns=null,Li=1,ki="";function ts(e,s){Na[Ia++]=ll,Na[Ia++]=fc,fc=e,ll=s}function Hy(e,s,a){Yn[Qn++]=Li,Yn[Qn++]=ki,Yn[Qn++]=Ns,Ns=e;var l=Li;e=ki;var f=32-ve(l)-1;l&=~(1<<f),a+=1;var d=32-ve(s)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Li=1<<32-ve(s)+f|a<<f|l,ki=d+e}else Li=1<<d|a<<f|l,ki=e}function Hf(e){e.return!==null&&(ts(e,1),Hy(e,1,0))}function qf(e){for(;e===fc;)fc=Na[--Ia],Na[Ia]=null,ll=Na[--Ia],Na[Ia]=null;for(;e===Ns;)Ns=Yn[--Qn],Yn[Qn]=null,ki=Yn[--Qn],Yn[Qn]=null,Li=Yn[--Qn],Yn[Qn]=null}function qy(e,s){Yn[Qn++]=Li,Yn[Qn++]=ki,Yn[Qn++]=Ns,Li=s.id,ki=s.overflow,Ns=e}var $e=null,ae=null,zt=!1,Is=null,Xn=!1,Gf=Error(r(519));function Os(e){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Kn(s,e)),Gf}function Gy(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[xe]=e,s[He]=l,a){case"dialog":Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":case"embed":Ot("load",s);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Ot(Ml[a],s);break;case"source":Ot("error",s);break;case"img":case"image":case"link":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"input":Ot("invalid",s),Gu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",s);break;case"textarea":Ot("invalid",s),ws(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||l_(s.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",s),Ot("toggle",s)),l.onScroll!=null&&Ot("scroll",s),l.onScrollEnd!=null&&Ot("scrollend",s),l.onClick!=null&&(s.onclick=ri),s=!0):s=!1,s||Os(e,!0)}function Ky(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:$e=$e.return}}function Oa(e){if(e!==$e)return!1;if(!zt)return Ky(e),zt=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||um(e.type,e.memoizedProps)),a=!a),a&&ae&&Os(e),Ky(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=y_(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=y_(e)}else s===27?(s=ae,Qs(e.type)?(e=mm,mm=null,ae=e):ae=s):ae=$e?Zn(e.stateNode.nextSibling):null;return!0}function Fr(){ae=$e=null,zt=!1}function Kf(){var e=Is;return e!==null&&(En===null?En=e:En.push.apply(En,e),Is=null),e}function ul(e){Is===null?Is=[e]:Is.push(e)}var Yf=L(null),Hr=null,es=null;function Ps(e,s,a){ct(Yf,s._currentValue),s._currentValue=a}function ns(e){e._currentValue=Yf.current,J(Yf)}function Qf(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function Xf(e,s,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=f;for(var M=0;M<s.length;M++)if(A.context===s[M]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Qf(d.return,a,e),l||(_=null);break t}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Qf(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Pa(e,s,a,l){e=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;Cn(f.pendingProps.value,_.value)||(e!==null?e.push(A):e=[A])}}else if(f===_t.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ll):e=[Ll])}f=f.return}e!==null&&Xf(s,e,a,l),s.flags|=262144}function dc(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Hr=e,es=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return Yy(Hr,e)}function mc(e,s){return Hr===null&&qr(e),Yy(e,s)}function Yy(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},es===null){if(e===null)throw Error(r(308));es=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else es=es.next=s;return a}var Zw=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},Ww=n.unstable_scheduleCallback,Jw=n.unstable_NormalPriority,De={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new Zw,data:new Map,refCount:0}}function cl(e){e.refCount--,e.refCount===0&&Ww(Jw,function(){e.controller.abort()})}var hl=null,Zf=0,La=0,ka=null;function tx(e,s){if(hl===null){var a=hl=[];Zf=0,La=tm(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zf++,s.then(Qy,Qy),s}function Qy(){if(--Zf===0&&hl!==null){ka!==null&&(ka.status="fulfilled");var e=hl;hl=null,La=0,ka=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function ex(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Xy=$.S;$.S=function(e,s){Nv=ln(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&tx(e,s),Xy!==null&&Xy(e,s)};var Gr=L(null);function Wf(){var e=Gr.current;return e!==null?e:ne.pooledCache}function pc(e,s){s===null?ct(Gr,Gr.current):ct(Gr,s.pool)}function $y(){var e=Wf();return e===null?null:{parent:De._currentValue,pool:e}}var Ua=Error(r(460)),Jf=Error(r(474)),gc=Error(r(542)),yc={then:function(){}};function Zy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wy(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(ri,ri),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,t0(e),e;default:if(typeof s.status=="string")s.then(ri,ri);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=l}},function(l){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,t0(e),e}throw Yr=s,Ua}}function Kr(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Yr=a,Ua):a}}var Yr=null;function Jy(){if(Yr===null)throw Error(r(459));var e=Yr;return Yr=null,e}function t0(e){if(e===Ua||e===gc)throw Error(r(483))}var za=null,fl=0;function vc(e){var s=fl;return fl+=1,za===null&&(za=[]),Wy(za,e,s)}function dl(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function _c(e,s){throw s.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function e0(e){function s(z,k){if(e){var H=z.deletions;H===null?(z.deletions=[k],z.flags|=16):H.push(k)}}function a(z,k){if(!e)return null;for(;k!==null;)s(z,k),k=k.sibling;return null}function l(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=Ji(z,k),z.index=0,z.sibling=null,z}function d(z,k,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<k?(z.flags|=67108866,k):H):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function _(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function A(z,k,H,W){return k===null||k.tag!==6?(k=Bf(H,z.mode,W),k.return=z,k):(k=f(k,H),k.return=z,k)}function M(z,k,H,W){var Tt=H.type;return Tt===j?Z(z,k,H.props.children,W,H.key):k!==null&&(k.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===S&&Kr(Tt)===k.type)?(k=f(k,H.props),dl(k,H),k.return=z,k):(k=hc(H.type,H.key,H.props,null,z.mode,W),dl(k,H),k.return=z,k)}function q(z,k,H,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Ff(H,z.mode,W),k.return=z,k):(k=f(k,H.children||[]),k.return=z,k)}function Z(z,k,H,W,Tt){return k===null||k.tag!==7?(k=Br(H,z.mode,W,Tt),k.return=z,k):(k=f(k,H),k.return=z,k)}function tt(z,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Bf(""+k,z.mode,H),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case R:return H=hc(k.type,k.key,k.props,null,z.mode,H),dl(H,k),H.return=z,H;case N:return k=Ff(k,z.mode,H),k.return=z,k;case S:return k=Kr(k),tt(z,k,H)}if(re(k)||U(k))return k=Br(k,z.mode,H,null),k.return=z,k;if(typeof k.then=="function")return tt(z,vc(k),H);if(k.$$typeof===K)return tt(z,mc(z,k),H);_c(z,k)}return null}function G(z,k,H,W){var Tt=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Tt!==null?null:A(z,k,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return H.key===Tt?M(z,k,H,W):null;case N:return H.key===Tt?q(z,k,H,W):null;case S:return H=Kr(H),G(z,k,H,W)}if(re(H)||U(H))return Tt!==null?null:Z(z,k,H,W,null);if(typeof H.then=="function")return G(z,k,vc(H),W);if(H.$$typeof===K)return G(z,k,mc(z,H),W);_c(z,H)}return null}function Q(z,k,H,W,Tt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(H)||null,A(k,z,""+W,Tt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case R:return z=z.get(W.key===null?H:W.key)||null,M(k,z,W,Tt);case N:return z=z.get(W.key===null?H:W.key)||null,q(k,z,W,Tt);case S:return W=Kr(W),Q(z,k,H,W,Tt)}if(re(W)||U(W))return z=z.get(H)||null,Z(k,z,W,Tt,null);if(typeof W.then=="function")return Q(z,k,H,vc(W),Tt);if(W.$$typeof===K)return Q(z,k,H,mc(k,W),Tt);_c(k,W)}return null}function pt(z,k,H,W){for(var Tt=null,Ht=null,vt=k,Mt=k=0,Lt=null;vt!==null&&Mt<H.length;Mt++){vt.index>Mt?(Lt=vt,vt=null):Lt=vt.sibling;var qt=G(z,vt,H[Mt],W);if(qt===null){vt===null&&(vt=Lt);break}e&&vt&&qt.alternate===null&&s(z,vt),k=d(qt,k,Mt),Ht===null?Tt=qt:Ht.sibling=qt,Ht=qt,vt=Lt}if(Mt===H.length)return a(z,vt),zt&&ts(z,Mt),Tt;if(vt===null){for(;Mt<H.length;Mt++)vt=tt(z,H[Mt],W),vt!==null&&(k=d(vt,k,Mt),Ht===null?Tt=vt:Ht.sibling=vt,Ht=vt);return zt&&ts(z,Mt),Tt}for(vt=l(vt);Mt<H.length;Mt++)Lt=Q(vt,z,Mt,H[Mt],W),Lt!==null&&(e&&Lt.alternate!==null&&vt.delete(Lt.key===null?Mt:Lt.key),k=d(Lt,k,Mt),Ht===null?Tt=Lt:Ht.sibling=Lt,Ht=Lt);return e&&vt.forEach(function(Js){return s(z,Js)}),zt&&ts(z,Mt),Tt}function At(z,k,H,W){if(H==null)throw Error(r(151));for(var Tt=null,Ht=null,vt=k,Mt=k=0,Lt=null,qt=H.next();vt!==null&&!qt.done;Mt++,qt=H.next()){vt.index>Mt?(Lt=vt,vt=null):Lt=vt.sibling;var Js=G(z,vt,qt.value,W);if(Js===null){vt===null&&(vt=Lt);break}e&&vt&&Js.alternate===null&&s(z,vt),k=d(Js,k,Mt),Ht===null?Tt=Js:Ht.sibling=Js,Ht=Js,vt=Lt}if(qt.done)return a(z,vt),zt&&ts(z,Mt),Tt;if(vt===null){for(;!qt.done;Mt++,qt=H.next())qt=tt(z,qt.value,W),qt!==null&&(k=d(qt,k,Mt),Ht===null?Tt=qt:Ht.sibling=qt,Ht=qt);return zt&&ts(z,Mt),Tt}for(vt=l(vt);!qt.done;Mt++,qt=H.next())qt=Q(vt,z,Mt,qt.value,W),qt!==null&&(e&&qt.alternate!==null&&vt.delete(qt.key===null?Mt:qt.key),k=d(qt,k,Mt),Ht===null?Tt=qt:Ht.sibling=qt,Ht=qt);return e&&vt.forEach(function(f2){return s(z,f2)}),zt&&ts(z,Mt),Tt}function ee(z,k,H,W){if(typeof H=="object"&&H!==null&&H.type===j&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case R:t:{for(var Tt=H.key;k!==null;){if(k.key===Tt){if(Tt=H.type,Tt===j){if(k.tag===7){a(z,k.sibling),W=f(k,H.props.children),W.return=z,z=W;break t}}else if(k.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===S&&Kr(Tt)===k.type){a(z,k.sibling),W=f(k,H.props),dl(W,H),W.return=z,z=W;break t}a(z,k);break}else s(z,k);k=k.sibling}H.type===j?(W=Br(H.props.children,z.mode,W,H.key),W.return=z,z=W):(W=hc(H.type,H.key,H.props,null,z.mode,W),dl(W,H),W.return=z,z=W)}return _(z);case N:t:{for(Tt=H.key;k!==null;){if(k.key===Tt)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(z,k.sibling),W=f(k,H.children||[]),W.return=z,z=W;break t}else{a(z,k);break}else s(z,k);k=k.sibling}W=Ff(H,z.mode,W),W.return=z,z=W}return _(z);case S:return H=Kr(H),ee(z,k,H,W)}if(re(H))return pt(z,k,H,W);if(U(H)){if(Tt=U(H),typeof Tt!="function")throw Error(r(150));return H=Tt.call(H),At(z,k,H,W)}if(typeof H.then=="function")return ee(z,k,vc(H),W);if(H.$$typeof===K)return ee(z,k,mc(z,H),W);_c(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(z,k.sibling),W=f(k,H),W.return=z,z=W):(a(z,k),W=Bf(H,z.mode,W),W.return=z,z=W),_(z)):a(z,k)}return function(z,k,H,W){try{fl=0;var Tt=ee(z,k,H,W);return za=null,Tt}catch(vt){if(vt===Ua||vt===gc)throw vt;var Ht=Dn(29,vt,null,z.mode);return Ht.lanes=W,Ht.return=z,Ht}finally{}}}var Qr=e0(!0),n0=e0(!1),Ls=!1;function td(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ks(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Us(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var f=l.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),l.pending=s,s=cc(e),zy(e,null,a),s}return uc(e,l,s,a),cc(e)}function ml(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Bo(e,a)}}function nd(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var id=!1;function pl(){if(id){var e=ka;if(e!==null)throw e}}function gl(e,s,a,l){id=!1;var f=e.updateQueue;Ls=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var M=A,q=M.next;M.next=null,_===null?d=q:_.next=q,_=M;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==_&&(A===null?Z.firstBaseUpdate=q:A.next=q,Z.lastBaseUpdate=M))}if(d!==null){var tt=f.baseState;_=0,Z=q=M=null,A=d;do{var G=A.lane&-536870913,Q=G!==A.lane;if(Q?(Pt&G)===G:(l&G)===G){G!==0&&G===La&&(id=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var pt=e,At=A;G=s;var ee=a;switch(At.tag){case 1:if(pt=At.payload,typeof pt=="function"){tt=pt.call(ee,tt,G);break t}tt=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=At.payload,G=typeof pt=="function"?pt.call(ee,tt,G):pt,G==null)break t;tt=T({},tt,G);break t;case 2:Ls=!0}}G=A.callback,G!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(q=Z=Q,M=tt):Z=Z.next=Q,_|=G;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(M=tt),f.baseState=M,f.firstBaseUpdate=q,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),Hs|=_,e.lanes=_,e.memoizedState=tt}}function i0(e,s){if(typeof e!="function")throw Error(r(191,e));e.call(s)}function s0(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)i0(a[e],s)}var ja=L(null),Tc=L(0);function r0(e,s){e=hs,ct(Tc,e),ct(ja,s),hs=e|s.baseLanes}function sd(){ct(Tc,hs),ct(ja,ja.current)}function rd(){hs=Tc.current,J(ja),J(Tc)}var Vn=L(null),$n=null;function zs(e){var s=e.alternate;ct(Te,Te.current&1),ct(Vn,e),$n===null&&(s===null||ja.current!==null||s.memoizedState!==null)&&($n=e)}function ad(e){ct(Te,Te.current),ct(Vn,e),$n===null&&($n=e)}function a0(e){e.tag===22?(ct(Te,Te.current),ct(Vn,e),$n===null&&($n=e)):js()}function js(){ct(Te,Te.current),ct(Vn,Vn.current)}function Mn(e){J(Vn),$n===e&&($n=null),J(Te)}var Te=L(0);function Ec(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fm(a)||dm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var is=0,Dt=null,Jt=null,Ve=null,bc=!1,Ba=!1,Xr=!1,Ac=0,yl=0,Fa=null,nx=0;function de(){throw Error(r(321))}function od(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!Cn(e[a],s[a]))return!1;return!0}function ld(e,s,a,l,f,d){return is=d,Dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=e===null||e.memoizedState===null?H0:Ad,Xr=!1,d=a(l,f),Xr=!1,Ba&&(d=l0(s,a,l,f)),o0(e),d}function o0(e){$.H=Tl;var s=Jt!==null&&Jt.next!==null;if(is=0,Ve=Jt=Dt=null,bc=!1,yl=0,Fa=null,s)throw Error(r(300));e===null||Me||(e=e.dependencies,e!==null&&dc(e)&&(Me=!0))}function l0(e,s,a,l){Dt=e;var f=0;do{if(Ba&&(Fa=null),yl=0,Ba=!1,25<=f)throw Error(r(301));if(f+=1,Ve=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=q0,d=s(a,l)}while(Ba);return d}function ix(){var e=$.H,s=e.useState()[0];return s=typeof s.then=="function"?vl(s):s,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Dt.flags|=1024),s}function ud(){var e=Ac!==0;return Ac=0,e}function cd(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function hd(e){if(bc){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}bc=!1}is=0,Ve=Jt=Dt=null,Ba=!1,yl=Ac=0,Fa=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Dt.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ee(){if(Jt===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var s=Ve===null?Dt.memoizedState:Ve.next;if(s!==null)Ve=s,Jt=e;else{if(e===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ve===null?Dt.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Sc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var s=yl;return yl+=1,Fa===null&&(Fa=[]),e=Wy(Fa,e,s),s=Dt,(Ve===null?s.memoizedState:Ve.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?H0:Ad),e}function wc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===K)return Ze(e)}throw Error(r(438,String(e)))}function fd(e){var s=null,a=Dt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Sc(),Dt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=P;return s.index++,a}function ss(e,s){return typeof s=="function"?s(e):s}function xc(e){var s=Ee();return dd(s,Jt,e)}function dd(e,s,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{s=f.next;var A=_=null,M=null,q=s,Z=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Pt&tt)===tt:(is&tt)===tt){var G=q.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===La&&(Z=!0);else if((is&G)===G){q=q.next,G===La&&(Z=!0);continue}else tt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(A=M=tt,_=d):M=M.next=tt,Dt.lanes|=G,Hs|=G;tt=q.action,Xr&&a(d,tt),d=q.hasEagerState?q.eagerState:a(d,tt)}else G={lane:tt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(A=M=G,_=d):M=M.next=G,Dt.lanes|=tt,Hs|=tt;q=q.next}while(q!==null&&q!==s);if(M===null?_=d:M.next=A,!Cn(d,e.memoizedState)&&(Me=!0,Z&&(a=ka,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function md(e){var s=Ee(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);Cn(d,s.memoizedState)||(Me=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function u0(e,s,a){var l=Dt,f=Ee(),d=zt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!Cn((Jt||f).memoizedState,a);if(_&&(f.memoizedState=a,Me=!0),f=f.queue,yd(f0.bind(null,l,f,e),[e]),f.getSnapshot!==s||_||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},h0.bind(null,l,f,a,s),null),ne===null)throw Error(r(349));d||(is&127)!==0||c0(l,s,a)}return a}function c0(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Dt.updateQueue,s===null?(s=Sc(),Dt.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function h0(e,s,a,l){s.value=a,s.getSnapshot=l,d0(s)&&m0(e)}function f0(e,s,a){return a(function(){d0(s)&&m0(e)})}function d0(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!Cn(e,a)}catch{return!0}}function m0(e){var s=jr(e,2);s!==null&&bn(s,e,2)}function pd(e){var s=cn();if(typeof e=="function"){var a=e;if(e=a(),Xr){jn(!0);try{a()}finally{jn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},s}function p0(e,s,a,l){return e.baseState=a,dd(e,Jt,typeof l=="function"?l:ss)}function sx(e,s,a,l,f){if(Dc(e))throw Error(r(485));if(e=s.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,g0(s,d)):(d.next=a.next,s.pending=a.next=d)}}function g0(e,s){var a=s.action,l=s.payload,f=e.state;if(s.isTransition){var d=$.T,_={};$.T=_;try{var A=a(f,l),M=$.S;M!==null&&M(_,A),y0(e,s,A)}catch(q){gd(e,s,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),y0(e,s,d)}catch(q){gd(e,s,q)}}function y0(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){v0(e,s,l)},function(l){return gd(e,s,l)}):v0(e,s,a)}function v0(e,s,a){s.status="fulfilled",s.value=a,_0(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,g0(e,a)))}function gd(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,_0(s),s=s.next;while(s!==l)}e.action=null}function _0(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function T0(e,s){return s}function E0(e,s){if(zt){var a=ne.formState;if(a!==null){t:{var l=Dt;if(zt){if(ae){e:{for(var f=ae,d=Xn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Zn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ae=Zn(f.nextSibling),l=f.data==="F!";break t}}Os(l)}l=!1}l&&(s=a[0])}}return a=cn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T0,lastRenderedState:s},a.queue=l,a=j0.bind(null,Dt,l),l.dispatch=a,l=pd(!1),d=bd.bind(null,Dt,!1,l.queue),l=cn(),f={state:s,dispatch:null,action:e,pending:null},l.queue=f,a=sx.bind(null,Dt,f,d,a),f.dispatch=a,l.memoizedState=e,[s,a,!1]}function b0(e){var s=Ee();return A0(s,Jt,e)}function A0(e,s,a){if(s=dd(e,s,T0)[0],e=xc(ss)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=vl(s)}catch(_){throw _===Ua?gc:_}else l=s;s=Ee();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(Dt.flags|=2048,Ha(9,{destroy:void 0},rx.bind(null,f,a),null)),[l,d,e]}function rx(e,s){e.action=s}function S0(e){var s=Ee(),a=Jt;if(a!==null)return A0(s,a,e);Ee(),s=s.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function Ha(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Dt.updateQueue,s===null&&(s=Sc(),Dt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function w0(){return Ee().memoizedState}function Rc(e,s,a,l){var f=cn();Dt.flags|=e,f.memoizedState=Ha(1|s,{destroy:void 0},a,l===void 0?null:l)}function Cc(e,s,a,l){var f=Ee();l=l===void 0?null:l;var d=f.memoizedState.inst;Jt!==null&&l!==null&&od(l,Jt.memoizedState.deps)?f.memoizedState=Ha(s,d,a,l):(Dt.flags|=e,f.memoizedState=Ha(1|s,d,a,l))}function x0(e,s){Rc(8390656,8,e,s)}function yd(e,s){Cc(2048,8,e,s)}function ax(e){Dt.flags|=4;var s=Dt.updateQueue;if(s===null)s=Sc(),Dt.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function R0(e){var s=Ee().memoizedState;return ax({ref:s,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function C0(e,s){return Cc(4,2,e,s)}function D0(e,s){return Cc(4,4,e,s)}function V0(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function M0(e,s,a){a=a!=null?a.concat([e]):null,Cc(4,4,V0.bind(null,s,e),a)}function vd(){}function N0(e,s){var a=Ee();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&od(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function I0(e,s){var a=Ee();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&od(s,l[1]))return l[0];if(l=e(),Xr){jn(!0);try{e()}finally{jn(!1)}}return a.memoizedState=[l,s],l}function _d(e,s,a){return a===void 0||(is&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=Ov(),Dt.lanes|=e,Hs|=e,a)}function O0(e,s,a,l){return Cn(a,s)?a:ja.current!==null?(e=_d(e,a,l),Cn(e,s)||(Me=!0),e):(is&42)===0||(is&1073741824)!==0&&(Pt&261930)===0?(Me=!0,e.memoizedState=a):(e=Ov(),Dt.lanes|=e,Hs|=e,s)}function P0(e,s,a,l,f){var d=ot.p;ot.p=d!==0&&8>d?d:8;var _=$.T,A={};$.T=A,bd(e,!1,s,a);try{var M=f(),q=$.S;if(q!==null&&q(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=ex(M,l);_l(e,s,Z,On(e))}else _l(e,s,l,On(e))}catch(tt){_l(e,s,{then:function(){},status:"rejected",reason:tt},On())}finally{ot.p=d,_!==null&&A.types!==null&&(_.types=A.types),$.T=_}}function ox(){}function Td(e,s,a,l){if(e.tag!==5)throw Error(r(476));var f=L0(e).queue;P0(e,f,s,ft,a===null?ox:function(){return k0(e),a(l)})}function L0(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ft},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function k0(e){var s=L0(e);s.next===null&&(s=e.alternate.memoizedState),_l(e,s.next.queue,{},On())}function Ed(){return Ze(Ll)}function U0(){return Ee().memoizedState}function z0(){return Ee().memoizedState}function lx(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=On();e=ks(a);var l=Us(s,e,a);l!==null&&(bn(l,s,a),ml(l,s,a)),s={cache:$f()},e.payload=s;return}s=s.return}}function ux(e,s,a){var l=On();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Dc(e)?B0(s,a):(a=zf(e,s,a,l),a!==null&&(bn(a,e,l),F0(a,s,l)))}function j0(e,s,a){var l=On();_l(e,s,a,l)}function _l(e,s,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dc(e))B0(s,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,Cn(A,_))return uc(e,s,f,0),ne===null&&lc(),!1}catch{}finally{}if(a=zf(e,s,f,l),a!==null)return bn(a,e,l),F0(a,s,l),!0}return!1}function bd(e,s,a,l){if(l={lane:2,revertLane:tm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Dc(e)){if(s)throw Error(r(479))}else s=zf(e,a,l,2),s!==null&&bn(s,e,2)}function Dc(e){var s=e.alternate;return e===Dt||s!==null&&s===Dt}function B0(e,s){Ba=bc=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function F0(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,Bo(e,a)}}var Tl={readContext:Ze,use:wc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Tl.useEffectEvent=de;var H0={readContext:Ze,use:wc,useCallback:function(e,s){return cn().memoizedState=[e,s===void 0?null:s],e},useContext:Ze,useEffect:x0,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,Rc(4194308,4,V0.bind(null,s,e),a)},useLayoutEffect:function(e,s){return Rc(4194308,4,e,s)},useInsertionEffect:function(e,s){Rc(4,2,e,s)},useMemo:function(e,s){var a=cn();s=s===void 0?null:s;var l=e();if(Xr){jn(!0);try{e()}finally{jn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=cn();if(a!==void 0){var f=a(s);if(Xr){jn(!0);try{a(s)}finally{jn(!1)}}}else f=s;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=ux.bind(null,Dt,e),[l.memoizedState,e]},useRef:function(e){var s=cn();return e={current:e},s.memoizedState=e},useState:function(e){e=pd(e);var s=e.queue,a=j0.bind(null,Dt,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:vd,useDeferredValue:function(e,s){var a=cn();return _d(a,e,s)},useTransition:function(){var e=pd(!1);return e=P0.bind(null,Dt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Dt,f=cn();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),ne===null)throw Error(r(349));(Pt&127)!==0||c0(l,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,x0(f0.bind(null,l,d,e),[e]),l.flags|=2048,Ha(9,{destroy:void 0},h0.bind(null,l,d,a,s),null),a},useId:function(){var e=cn(),s=ne.identifierPrefix;if(zt){var a=ki,l=Li;a=(l&~(1<<32-ve(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Ac++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=nx++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:Ed,useFormState:E0,useActionState:E0,useOptimistic:function(e){var s=cn();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=bd.bind(null,Dt,!0,a),a.dispatch=s,[e,s]},useMemoCache:fd,useCacheRefresh:function(){return cn().memoizedState=lx.bind(null,Dt)},useEffectEvent:function(e){var s=cn(),a={impl:e};return s.memoizedState=a,function(){if((Yt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ad={readContext:Ze,use:wc,useCallback:N0,useContext:Ze,useEffect:yd,useImperativeHandle:M0,useInsertionEffect:C0,useLayoutEffect:D0,useMemo:I0,useReducer:xc,useRef:w0,useState:function(){return xc(ss)},useDebugValue:vd,useDeferredValue:function(e,s){var a=Ee();return O0(a,Jt.memoizedState,e,s)},useTransition:function(){var e=xc(ss)[0],s=Ee().memoizedState;return[typeof e=="boolean"?e:vl(e),s]},useSyncExternalStore:u0,useId:U0,useHostTransitionStatus:Ed,useFormState:b0,useActionState:b0,useOptimistic:function(e,s){var a=Ee();return p0(a,Jt,e,s)},useMemoCache:fd,useCacheRefresh:z0};Ad.useEffectEvent=R0;var q0={readContext:Ze,use:wc,useCallback:N0,useContext:Ze,useEffect:yd,useImperativeHandle:M0,useInsertionEffect:C0,useLayoutEffect:D0,useMemo:I0,useReducer:md,useRef:w0,useState:function(){return md(ss)},useDebugValue:vd,useDeferredValue:function(e,s){var a=Ee();return Jt===null?_d(a,e,s):O0(a,Jt.memoizedState,e,s)},useTransition:function(){var e=md(ss)[0],s=Ee().memoizedState;return[typeof e=="boolean"?e:vl(e),s]},useSyncExternalStore:u0,useId:U0,useHostTransitionStatus:Ed,useFormState:S0,useActionState:S0,useOptimistic:function(e,s){var a=Ee();return Jt!==null?p0(a,Jt,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:fd,useCacheRefresh:z0};q0.useEffectEvent=R0;function Sd(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:T({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var wd={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=On(),f=ks(l);f.payload=s,a!=null&&(f.callback=a),s=Us(e,f,l),s!==null&&(bn(s,e,l),ml(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=On(),f=ks(l);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Us(e,f,l),s!==null&&(bn(s,e,l),ml(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=On(),l=ks(a);l.tag=2,s!=null&&(l.callback=s),s=Us(e,l,a),s!==null&&(bn(s,e,a),ml(s,e,a))}};function G0(e,s,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):s.prototype&&s.prototype.isPureReactComponent?!al(a,l)||!al(f,d):!0}function K0(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&wd.enqueueReplaceState(s,s.state,null)}function $r(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function Y0(e){oc(e)}function Q0(e){console.error(e)}function X0(e){oc(e)}function Vc(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function $0(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xd(e,s,a){return a=ks(a),a.tag=3,a.payload={element:null},a.callback=function(){Vc(e,s)},a}function Z0(e){return e=ks(e),e.tag=3,e}function W0(e,s,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){$0(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){$0(s,a,l),typeof f!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function cx(e,s,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Pa(s,a,f,!0),a=Vn.current,a!==null){switch(a.tag){case 31:case 13:return $n===null?Fc():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===yc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Zd(e,l,f)),!1;case 22:return a.flags|=65536,l===yc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Zd(e,l,f)),!1}throw Error(r(435,a.tag))}return Zd(e,l,f),Fc(),!1}if(zt)return s=Vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,l!==Gf&&(e=Error(r(422),{cause:l}),ul(Kn(e,a)))):(l!==Gf&&(s=Error(r(423),{cause:l}),ul(Kn(s,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Kn(l,a),f=xd(e.stateNode,l,f),nd(e,f),me!==4&&(me=2)),!1;var d=Error(r(520),{cause:l});if(d=Kn(d,a),Cl===null?Cl=[d]:Cl.push(d),me!==4&&(me=2),s===null)return!0;l=Kn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=xd(a.stateNode,l,e),nd(a,e),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qs===null||!qs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Z0(f),W0(f,e,a,l),nd(a,f),!1}a=a.return}while(a!==null);return!1}var Rd=Error(r(461)),Me=!1;function We(e,s,a,l){s.child=e===null?n0(s,null,a,l):Qr(s,e.child,a,l)}function J0(e,s,a,l,f){a=a.render;var d=s.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return qr(s),l=ld(e,s,a,_,d,f),A=ud(),e!==null&&!Me?(cd(e,s,f),rs(e,s,f)):(zt&&A&&Hf(s),s.flags|=1,We(e,s,l,f),s.child)}function tv(e,s,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!jf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,ev(e,s,d,l,f)):(e=hc(a.type,null,l,s,s.mode,f),e.ref=s.ref,e.return=s,s.child=e)}if(d=e.child,!Pd(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,l)&&e.ref===s.ref)return rs(e,s,f)}return s.flags|=1,e=Ji(d,l),e.ref=s.ref,e.return=s,s.child=e}function ev(e,s,a,l,f){if(e!==null){var d=e.memoizedProps;if(al(d,l)&&e.ref===s.ref)if(Me=!1,s.pendingProps=l=d,Pd(e,f))(e.flags&131072)!==0&&(Me=!0);else return s.lanes=e.lanes,rs(e,s,f)}return Cd(e,s,a,l,f)}function nv(e,s,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=s.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,s.child=null;return iv(e,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&pc(s,d!==null?d.cachePool:null),d!==null?r0(s,d):sd(),a0(s);else return l=s.lanes=536870912,iv(e,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(pc(s,d.cachePool),r0(s,d),js(),s.memoizedState=null):(e!==null&&pc(s,null),sd(),js());return We(e,s,f,a),s.child}function El(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function iv(e,s,a,l,f){var d=Wf();return d=d===null?null:{parent:De._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},e!==null&&pc(s,null),sd(),a0(s),e!==null&&Pa(e,s,l,!0),s.childLanes=f,null}function Mc(e,s){return s=Ic({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function sv(e,s,a){return Qr(s,e.child,null,a),e=Mc(s,s.pendingProps),e.flags|=2,Mn(s),s.memoizedState=null,e}function hx(e,s,a){var l=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(zt){if(l.mode==="hidden")return e=Mc(s,l),s.lanes=536870912,El(null,e);if(ad(s),(e=ae)?(e=g_(e,Xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Li,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=By(e),a.return=s,s.child=a,$e=s,ae=null)):e=null,e===null)throw Os(s);return s.lanes=536870912,null}return Mc(s,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(ad(s),f)if(s.flags&256)s.flags&=-257,s=sv(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(r(558));else if(Me||Pa(e,s,a,!1),f=(a&e.childLanes)!==0,Me||f){if(l=ne,l!==null&&(_=Fo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,jr(e,_),bn(l,e,_),Rd;Fc(),s=sv(e,s,a)}else e=d.treeContext,ae=Zn(_.nextSibling),$e=s,zt=!0,Is=null,Xn=!1,e!==null&&qy(s,e),s=Mc(s,l),s.flags|=4096;return s}return e=Ji(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Nc(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Cd(e,s,a,l,f){return qr(s),a=ld(e,s,a,l,void 0,f),l=ud(),e!==null&&!Me?(cd(e,s,f),rs(e,s,f)):(zt&&l&&Hf(s),s.flags|=1,We(e,s,a,f),s.child)}function rv(e,s,a,l,f,d){return qr(s),s.updateQueue=null,a=l0(s,l,a,f),o0(e),l=ud(),e!==null&&!Me?(cd(e,s,d),rs(e,s,d)):(zt&&l&&Hf(s),s.flags|=1,We(e,s,a,d),s.child)}function av(e,s,a,l,f){if(qr(s),s.stateNode===null){var d=Ma,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ze(_)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wd,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},td(s),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ze(_):Ma,d.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Sd(s,a,_,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&wd.enqueueReplaceState(d,d.state,null),gl(s,l,d,f),pl(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){d=s.stateNode;var A=s.memoizedProps,M=$r(a,A);d.props=M;var q=d.context,Z=a.contextType;_=Ma,typeof Z=="object"&&Z!==null&&(_=Ze(Z));var tt=a.getDerivedStateFromProps;Z=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||q!==_)&&K0(s,d,l,_),Ls=!1;var G=s.memoizedState;d.state=G,gl(s,l,d,f),pl(),q=s.memoizedState,A||G!==q||Ls?(typeof tt=="function"&&(Sd(s,a,tt,l),q=s.memoizedState),(M=Ls||G0(s,a,M,l,G,q,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=q),d.props=l,d.state=q,d.context=_,l=M):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,ed(e,s),_=s.memoizedProps,Z=$r(a,_),d.props=Z,tt=s.pendingProps,G=d.context,q=a.contextType,M=Ma,typeof q=="object"&&q!==null&&(M=Ze(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||G!==M)&&K0(s,d,l,M),Ls=!1,G=s.memoizedState,d.state=G,gl(s,l,d,f),pl();var Q=s.memoizedState;_!==tt||G!==Q||Ls||e!==null&&e.dependencies!==null&&dc(e.dependencies)?(typeof A=="function"&&(Sd(s,a,A,l),Q=s.memoizedState),(Z=Ls||G0(s,a,Z,l,G,Q,M)||e!==null&&e.dependencies!==null&&dc(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,M)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Q),d.props=l,d.state=Q,d.context=M,l=Z):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(s.flags|=1024),l=!1)}return d=l,Nc(e,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,e!==null&&l?(s.child=Qr(s,e.child,null,f),s.child=Qr(s,null,a,f)):We(e,s,a,f),s.memoizedState=d.state,e=s.child):e=rs(e,s,f),e}function ov(e,s,a,l){return Fr(),s.flags|=256,We(e,s,a,l),s.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vd(e){return{baseLanes:e,cachePool:$y()}}function Md(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=In),e}function lv(e,s,a){var l=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,e===null){if(zt){if(f?zs(s):js(),(e=ae)?(e=g_(e,Xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Ns!==null?{id:Li,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},a=By(e),a.return=s,s.child=a,$e=s,ae=null)):e=null,e===null)throw Os(s);return dm(e)?s.lanes=32:s.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(js(),f=s.mode,A=Ic({mode:"hidden",children:A},f),l=Br(l,f,a,null),A.return=s,l.return=s,A.sibling=l,s.child=A,l=s.child,l.memoizedState=Vd(a),l.childLanes=Md(e,_,a),s.memoizedState=Dd,El(null,l)):(zs(s),Nd(s,A))}var M=e.memoizedState;if(M!==null&&(A=M.dehydrated,A!==null)){if(d)s.flags&256?(zs(s),s.flags&=-257,s=Id(e,s,a)):s.memoizedState!==null?(js(),s.child=e.child,s.flags|=128,s=null):(js(),A=l.fallback,f=s.mode,l=Ic({mode:"visible",children:l.children},f),A=Br(A,f,a,null),A.flags|=2,l.return=s,A.return=s,l.sibling=A,s.child=l,Qr(s,e.child,null,a),l=s.child,l.memoizedState=Vd(a),l.childLanes=Md(e,_,a),s.memoizedState=Dd,s=El(null,l));else if(zs(s),dm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(r(419)),l.stack="",l.digest=_,ul({value:l,source:null,stack:null}),s=Id(e,s,a)}else if(Me||Pa(e,s,a,!1),_=(a&e.childLanes)!==0,Me||_){if(_=ne,_!==null&&(l=Fo(_,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,jr(e,l),bn(_,e,l),Rd;fm(A)||Fc(),s=Id(e,s,a)}else fm(A)?(s.flags|=192,s.child=e.child,s=null):(e=M.treeContext,ae=Zn(A.nextSibling),$e=s,zt=!0,Is=null,Xn=!1,e!==null&&qy(s,e),s=Nd(s,l.children),s.flags|=4096);return s}return f?(js(),A=l.fallback,f=s.mode,M=e.child,q=M.sibling,l=Ji(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,q!==null?A=Ji(q,A):(A=Br(A,f,a,null),A.flags|=2),A.return=s,l.return=s,l.sibling=A,s.child=l,El(null,l),l=s.child,A=e.child.memoizedState,A===null?A=Vd(a):(f=A.cachePool,f!==null?(M=De._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=$y(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Md(e,_,a),s.memoizedState=Dd,El(e.child,l)):(zs(s),a=e.child,e=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(_=s.deletions,_===null?(s.deletions=[e],s.flags|=16):_.push(e)),s.child=a,s.memoizedState=null,a)}function Nd(e,s){return s=Ic({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Ic(e,s){return e=Dn(22,e,null,s),e.lanes=0,e}function Id(e,s,a){return Qr(s,e.child,null,a),e=Nd(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function uv(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),Qf(e.return,s,a)}function Od(e,s,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function cv(e,s,a){var l=s.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Te.current,A=(_&2)!==0;if(A?(_=_&1|2,s.flags|=128):_&=1,ct(Te,_),We(e,s,l,a),l=zt?ll:0,!A&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uv(e,a,s);else if(e.tag===19)uv(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)e=a.alternate,e!==null&&Ec(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Od(s,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(e=f.alternate,e!==null&&Ec(e)===null){s.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Od(s,!0,a,null,d,l);break;case"together":Od(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function rs(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),Hs|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(Pa(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,a=Ji(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Ji(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Pd(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&dc(e)))}function fx(e,s,a){switch(s.tag){case 3:Vt(s,s.stateNode.containerInfo),Ps(s,De,e.memoizedState.cache),Fr();break;case 27:case 5:Le(s);break;case 4:Vt(s,s.stateNode.containerInfo);break;case 10:Ps(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ad(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(zs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?lv(e,s,a):(zs(s),e=rs(e,s,a),e!==null?e.sibling:null);zs(s);break;case 19:var f=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Pa(e,s,a,!1),l=(a&s.childLanes)!==0),f){if(l)return cv(e,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ct(Te,Te.current),l)break;return null;case 22:return s.lanes=0,nv(e,s,a,s.pendingProps);case 24:Ps(s,De,e.memoizedState.cache)}return rs(e,s,a)}function hv(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)Me=!0;else{if(!Pd(e,a)&&(s.flags&128)===0)return Me=!1,fx(e,s,a);Me=(e.flags&131072)!==0}else Me=!1,zt&&(s.flags&1048576)!==0&&Hy(s,ll,s.index);switch(s.lanes=0,s.tag){case 16:t:{var l=s.pendingProps;if(e=Kr(s.elementType),s.type=e,typeof e=="function")jf(e)?(l=$r(e,l),s.tag=1,s=av(null,s,e,l,a)):(s.tag=0,s=Cd(null,s,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===st){s.tag=11,s=J0(null,s,e,l,a);break t}else if(f===C){s.tag=14,s=tv(null,s,e,l,a);break t}}throw s=Gt(e)||e,Error(r(306,s,""))}}return s;case 0:return Cd(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,f=$r(l,s.pendingProps),av(e,s,l,f,a);case 3:t:{if(Vt(s,s.stateNode.containerInfo),e===null)throw Error(r(387));l=s.pendingProps;var d=s.memoizedState;f=d.element,ed(e,s),gl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Ps(s,De,l),l!==d.cache&&Xf(s,[De],a,!0),pl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=ov(e,s,l,a);break t}else if(l!==f){f=Kn(Error(r(424)),s),ul(f),s=ov(e,s,l,a);break t}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Zn(e.firstChild),$e=s,zt=!0,Is=null,Xn=!0,a=n0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fr(),l===f){s=rs(e,s,a);break t}We(e,s,l,a)}s=s.child}return s;case 26:return Nc(e,s),e===null?(a=b_(s.type,null,s.pendingProps,null))?s.memoizedState=a:zt||(a=s.type,e=s.pendingProps,l=Xc(gt.current).createElement(a),l[xe]=s,l[He]=e,Je(l,a,e),Re(l),s.stateNode=l):s.memoizedState=b_(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return Le(s),e===null&&zt&&(l=s.stateNode=__(s.type,s.pendingProps,gt.current),$e=s,Xn=!0,f=ae,Qs(s.type)?(mm=f,ae=Zn(l.firstChild)):ae=f),We(e,s,s.pendingProps.children,a),Nc(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&zt&&((f=l=ae)&&(l=Fx(l,s.type,s.pendingProps,Xn),l!==null?(s.stateNode=l,$e=s,ae=Zn(l.firstChild),Xn=!1,f=!0):f=!1),f||Os(s)),Le(s),f=s.type,d=s.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,um(f,d)?l=null:_!==null&&um(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=ld(e,s,ix,null,null,a),Ll._currentValue=f),Nc(e,s),We(e,s,l,a),s.child;case 6:return e===null&&zt&&((e=a=ae)&&(a=Hx(a,s.pendingProps,Xn),a!==null?(s.stateNode=a,$e=s,ae=null,e=!0):e=!1),e||Os(s)),null;case 13:return lv(e,s,a);case 4:return Vt(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=Qr(s,null,l,a):We(e,s,l,a),s.child;case 11:return J0(e,s,s.type,s.pendingProps,a);case 7:return We(e,s,s.pendingProps,a),s.child;case 8:return We(e,s,s.pendingProps.children,a),s.child;case 12:return We(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ps(s,s.type,l.value),We(e,s,l.children,a),s.child;case 9:return f=s.type._context,l=s.pendingProps.children,qr(s),f=Ze(f),l=l(f),s.flags|=1,We(e,s,l,a),s.child;case 14:return tv(e,s,s.type,s.pendingProps,a);case 15:return ev(e,s,s.type,s.pendingProps,a);case 19:return cv(e,s,a);case 31:return hx(e,s,a);case 22:return nv(e,s,a,s.pendingProps);case 24:return qr(s),l=Ze(De),e===null?(f=Wf(),f===null&&(f=ne,d=$f(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:l,cache:f},td(s),Ps(s,De,f)):((e.lanes&a)!==0&&(ed(e,s),gl(s,null,null,a),pl()),f=e.memoizedState,d=s.memoizedState,f.parent!==l?(f={parent:l,cache:l},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ps(s,De,l)):(l=d.cache,Ps(s,De,l),l!==f.cache&&Xf(s,[De],a,!0))),We(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function as(e){e.flags|=4}function Ld(e,s,a,l,f){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Uv())e.flags|=8192;else throw Yr=yc,Jf}else e.flags&=-16777217}function fv(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!R_(s))if(Uv())e.flags|=8192;else throw Yr=yc,Jf}function Oc(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?ju():536870912,e.lanes|=s,Ya|=s)}function bl(e,s){if(!zt)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function dx(e,s,a){var l=s.pendingProps;switch(qf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(s),null;case 1:return oe(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ns(De),Qt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oa(s)?as(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kf())),oe(s),null;case 26:var f=s.type,d=s.memoizedState;return e===null?(as(s),d!==null?(oe(s),fv(s,d)):(oe(s),Ld(s,f,null,l,a))):d?d!==e.memoizedState?(as(s),oe(s),fv(s,d)):(oe(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&as(s),oe(s),Ld(s,f,e,l,a)),null;case 27:if(zn(s),a=gt.current,f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&as(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return oe(s),null}e=ht.current,Oa(s)?Gy(s):(e=__(f,l,a),s.stateNode=e,as(s))}return oe(s),null;case 5:if(zn(s),f=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&as(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return oe(s),null}if(d=ht.current,Oa(s))Gy(s);else{var _=Xc(gt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[xe]=s,d[He]=l;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;t:switch(Je(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&as(s)}}return oe(s),Ld(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&as(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(e=gt.current,Oa(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,f=$e,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[xe]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||l_(e.nodeValue,a)),e||Os(s,!0)}else e=Xc(e).createTextNode(l),e[xe]=s,s.stateNode=e}return oe(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=Oa(s),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[xe]=s}else Fr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;oe(s),e=!1}else a=Kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(Mn(s),s):(Mn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return oe(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Oa(s),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[xe]=s}else Fr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;oe(s),f=!1}else f=Kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Mn(s),s):(Mn(s),null)}return Mn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),Oc(s,s.updateQueue),oe(s),null);case 4:return Qt(),e===null&&sm(s.stateNode.containerInfo),oe(s),null;case 10:return ns(s.type),oe(s),null;case 19:if(J(Te),l=s.memoizedState,l===null)return oe(s),null;if(f=(s.flags&128)!==0,d=l.rendering,d===null)if(f)bl(l,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(d=Ec(e),d!==null){for(s.flags|=128,bl(l,!1),e=d.updateQueue,s.updateQueue=e,Oc(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)jy(a,e),a=a.sibling;return ct(Te,Te.current&1|2),zt&&ts(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&ln()>zc&&(s.flags|=128,f=!0,bl(l,!1),s.lanes=4194304)}else{if(!f)if(e=Ec(d),e!==null){if(s.flags|=128,f=!0,e=e.updateQueue,s.updateQueue=e,Oc(s,e),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!zt)return oe(s),null}else 2*ln()-l.renderingStartTime>zc&&a!==536870912&&(s.flags|=128,f=!0,bl(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(e=l.last,e!==null?e.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ln(),e.sibling=null,a=Te.current,ct(Te,f?a&1|2:a&1),zt&&ts(s,l.treeForkCount),e):(oe(s),null);case 22:case 23:return Mn(s),rd(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(oe(s),s.subtreeFlags&6&&(s.flags|=8192)):oe(s),a=s.updateQueue,a!==null&&Oc(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&J(Gr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ns(De),oe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function mx(e,s){switch(qf(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return ns(De),Qt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return zn(s),null;case 31:if(s.memoizedState!==null){if(Mn(s),s.alternate===null)throw Error(r(340));Fr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Mn(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Fr()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return J(Te),null;case 4:return Qt(),null;case 10:return ns(s.type),null;case 22:case 23:return Mn(s),rd(),e!==null&&J(Gr),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return ns(De),null;case 25:return null;default:return null}}function dv(e,s){switch(qf(s),s.tag){case 3:ns(De),Qt();break;case 26:case 27:case 5:zn(s);break;case 4:Qt();break;case 31:s.memoizedState!==null&&Mn(s);break;case 13:Mn(s);break;case 19:J(Te);break;case 10:ns(s.type);break;case 22:case 23:Mn(s),rd(),e!==null&&J(Gr);break;case 24:ns(De)}}function Al(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){Zt(s,s.return,A)}}function Bs(e,s,a){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=s;var M=a,q=A;try{q()}catch(Z){Zt(f,M,Z)}}}l=l.next}while(l!==d)}}catch(Z){Zt(s,s.return,Z)}}function mv(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{s0(s,a)}catch(l){Zt(e,e.return,l)}}}function pv(e,s,a){a.props=$r(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,s,l)}}function Sl(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Zt(e,s,f)}}function Ui(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Zt(e,s,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Zt(e,s,f)}else a.current=null}function gv(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Zt(e,e.return,f)}}function kd(e,s,a){try{var l=e.stateNode;Lx(l,e.type,a,s),l[He]=s}catch(f){Zt(e,e.return,f)}}function yv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qs(e.type)||e.tag===4}function Ud(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||yv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zd(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ri));else if(l!==4&&(l===27&&Qs(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for(zd(e,s,a),e=e.sibling;e!==null;)zd(e,s,a),e=e.sibling}function Pc(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&Qs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Pc(e,s,a),e=e.sibling;e!==null;)Pc(e,s,a),e=e.sibling}function vv(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Je(s,l,a),s[xe]=e,s[He]=a}catch(d){Zt(e,e.return,d)}}var os=!1,Ne=!1,jd=!1,_v=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function px(e,s){if(e=e.containerInfo,om=nh,e=My(e),If(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,A=-1,M=-1,q=0,Z=0,tt=e,G=null;e:for(;;){for(var Q;tt!==a||f!==0&&tt.nodeType!==3||(A=_+f),tt!==d||l!==0&&tt.nodeType!==3||(M=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(Q=tt.firstChild)!==null;)G=tt,tt=Q;for(;;){if(tt===e)break e;if(G===a&&++q===f&&(A=_),G===d&&++Z===l&&(M=_),(Q=tt.nextSibling)!==null)break;tt=G,G=tt.parentNode}tt=Q}a=A===-1||M===-1?null:{start:A,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(lm={focusedElem:e,selectionRange:a},nh=!1,Ge=s;Ge!==null;)if(s=Ge,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,Ge=e;else for(;Ge!==null;){switch(s=Ge,d=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pt=$r(a.type,f);e=l.getSnapshotBeforeUpdate(pt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){Zt(a,a.return,At)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)hm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=s.sibling,e!==null){e.return=s.return,Ge=e;break}Ge=s.return}}function Tv(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:us(e,a),l&4&&Al(5,a);break;case 1:if(us(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(_){Zt(a,a.return,_)}else{var f=$r(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(f,s,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(a,a.return,_)}}l&64&&mv(a),l&512&&Sl(a,a.return);break;case 3:if(us(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{s0(e,s)}catch(_){Zt(a,a.return,_)}}break;case 27:s===null&&l&4&&vv(a);case 26:case 5:us(e,a),s===null&&l&4&&gv(a),l&512&&Sl(a,a.return);break;case 12:us(e,a);break;case 31:us(e,a),l&4&&Av(e,a);break;case 13:us(e,a),l&4&&Sv(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Sx.bind(null,a),qx(e,a))));break;case 22:if(l=a.memoizedState!==null||os,!l){s=s!==null&&s.memoizedState!==null||Ne,f=os;var d=Ne;os=l,(Ne=s)&&!d?cs(e,a,(a.subtreeFlags&8772)!==0):us(e,a),os=f,Ne=d}break;case 30:break;default:us(e,a)}}function Ev(e){var s=e.alternate;s!==null&&(e.alternate=null,Ev(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&ya(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,vn=!1;function ls(e,s,a){for(a=a.child;a!==null;)bv(e,s,a),a=a.sibling}function bv(e,s,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ei,a)}catch{}switch(a.tag){case 26:Ne||Ui(a,s),ls(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||Ui(a,s);var l=ce,f=vn;Qs(a.type)&&(ce=a.stateNode,vn=!1),ls(e,s,a),Il(a.stateNode),ce=l,vn=f;break;case 5:Ne||Ui(a,s);case 6:if(l=ce,f=vn,ce=null,ls(e,s,a),ce=l,vn=f,ce!==null)if(vn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(d){Zt(a,s,d)}else try{ce.removeChild(a.stateNode)}catch(d){Zt(a,s,d)}break;case 18:ce!==null&&(vn?(e=ce,m_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),eo(e)):m_(ce,a.stateNode));break;case 4:l=ce,f=vn,ce=a.stateNode.containerInfo,vn=!0,ls(e,s,a),ce=l,vn=f;break;case 0:case 11:case 14:case 15:Bs(2,a,s),Ne||Bs(4,a,s),ls(e,s,a);break;case 1:Ne||(Ui(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&pv(a,s,l)),ls(e,s,a);break;case 21:ls(e,s,a);break;case 22:Ne=(l=Ne)||a.memoizedState!==null,ls(e,s,a),Ne=l;break;default:ls(e,s,a)}}function Av(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{eo(e)}catch(a){Zt(s,s.return,a)}}}function Sv(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{eo(e)}catch(a){Zt(s,s.return,a)}}function gx(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new _v),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new _v),s;default:throw Error(r(435,e.tag))}}function Lc(e,s){var a=gx(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var f=wx.bind(null,e,l);l.then(f,f)}})}function _n(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=s,A=_;t:for(;A!==null;){switch(A.tag){case 27:if(Qs(A.type)){ce=A.stateNode,vn=!1;break t}break;case 5:ce=A.stateNode,vn=!1;break t;case 3:case 4:ce=A.stateNode.containerInfo,vn=!0;break t}A=A.return}if(ce===null)throw Error(r(160));bv(d,_,f),ce=null,vn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)wv(s,e),s=s.sibling}var hi=null;function wv(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(s,e),Tn(e),l&4&&(Bs(3,e,e.return),Al(3,e),Bs(5,e,e.return));break;case 1:_n(s,e),Tn(e),l&512&&(Ne||a===null||Ui(a,a.return)),l&64&&os&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=hi;if(_n(s,e),Tn(e),l&512&&(Ne||a===null||Ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Si]||d[xe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Je(d,l,a),d[xe]=e,Re(d),l=d;break t;case"link":var _=w_("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break e}}d=f.createElement(l),Je(d,l,a),f.head.appendChild(d);break;case"meta":if(_=w_("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break e}}d=f.createElement(l),Je(d,l,a),f.head.appendChild(d);break;default:throw Error(r(468,l))}d[xe]=e,Re(d),l=d}e.stateNode=l}else x_(f,e.type,e.stateNode);else e.stateNode=S_(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?x_(f,e.type,e.stateNode):S_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&kd(e,e.memoizedProps,a.memoizedProps)}break;case 27:_n(s,e),Tn(e),l&512&&(Ne||a===null||Ui(a,a.return)),a!==null&&l&4&&kd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_n(s,e),Tn(e),l&512&&(Ne||a===null||Ui(a,a.return)),e.flags&32){f=e.stateNode;try{yn(f,"")}catch(pt){Zt(e,e.return,pt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,kd(e,f,a!==null?a.memoizedProps:f)),l&1024&&(jd=!0);break;case 6:if(_n(s,e),Tn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(pt){Zt(e,e.return,pt)}}break;case 3:if(Wc=null,f=hi,hi=$c(s.containerInfo),_n(s,e),hi=f,Tn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(s.containerInfo)}catch(pt){Zt(e,e.return,pt)}jd&&(jd=!1,xv(e));break;case 4:l=hi,hi=$c(e.stateNode.containerInfo),_n(s,e),Tn(e),hi=l;break;case 12:_n(s,e),Tn(e);break;case 31:_n(s,e),Tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lc(e,l)));break;case 13:_n(s,e),Tn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uc=ln()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lc(e,l)));break;case 22:f=e.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,q=os,Z=Ne;if(os=q||f,Ne=Z||M,_n(s,e),Ne=Z,os=q,Tn(e),l&8192)t:for(s=e.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||M||os||Ne||Zr(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){M=a=s;try{if(d=M.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=M.stateNode;var tt=M.memoizedProps.style,G=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(pt){Zt(M,M.return,pt)}}}else if(s.tag===6){if(a===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(pt){Zt(M,M.return,pt)}}}else if(s.tag===18){if(a===null){M=s;try{var Q=M.stateNode;f?p_(Q,!0):p_(M.stateNode,!1)}catch(pt){Zt(M,M.return,pt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lc(e,a))));break;case 19:_n(s,e),Tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Lc(e,l)));break;case 30:break;case 21:break;default:_n(s,e),Tn(e)}}function Tn(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(yv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Ud(e);Pc(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(yn(_,""),a.flags&=-33);var A=Ud(e);Pc(e,A,_);break;case 3:case 4:var M=a.stateNode.containerInfo,q=Ud(e);zd(e,q,M);break;default:throw Error(r(161))}}catch(Z){Zt(e,e.return,Z)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function xv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;xv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function us(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Tv(e,s.alternate,s),s=s.sibling}function Zr(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:Bs(4,s,s.return),Zr(s);break;case 1:Ui(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&pv(s,s.return,a),Zr(s);break;case 27:Il(s.stateNode);case 26:case 5:Ui(s,s.return),Zr(s);break;case 22:s.memoizedState===null&&Zr(s);break;case 30:Zr(s);break;default:Zr(s)}e=e.sibling}}function cs(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,f=e,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:cs(f,d,a),Al(4,d);break;case 1:if(cs(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Zt(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)i0(M[f],A)}catch(q){Zt(l,l.return,q)}}a&&_&64&&mv(d),Sl(d,d.return);break;case 27:vv(d);case 26:case 5:cs(f,d,a),a&&l===null&&_&4&&gv(d),Sl(d,d.return);break;case 12:cs(f,d,a);break;case 31:cs(f,d,a),a&&_&4&&Av(f,d);break;case 13:cs(f,d,a),a&&_&4&&Sv(f,d);break;case 22:d.memoizedState===null&&cs(f,d,a),Sl(d,d.return);break;case 30:break;default:cs(f,d,a)}s=s.sibling}}function Bd(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&cl(a))}function Fd(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&cl(e))}function fi(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Rv(e,s,a,l),s=s.sibling}function Rv(e,s,a,l){var f=s.flags;switch(s.tag){case 0:case 11:case 15:fi(e,s,a,l),f&2048&&Al(9,s);break;case 1:fi(e,s,a,l);break;case 3:fi(e,s,a,l),f&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&cl(e)));break;case 12:if(f&2048){fi(e,s,a,l),e=s.stateNode;try{var d=s.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Zt(s,s.return,M)}}else fi(e,s,a,l);break;case 31:fi(e,s,a,l);break;case 13:fi(e,s,a,l);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?fi(e,s,a,l):wl(e,s):d._visibility&2?fi(e,s,a,l):(d._visibility|=2,qa(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Bd(_,s);break;case 24:fi(e,s,a,l),f&2048&&Fd(s.alternate,s);break;default:fi(e,s,a,l)}}function qa(e,s,a,l,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=e,_=s,A=a,M=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,A,M,f),Al(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?qa(d,_,A,M,f):wl(d,_):(Z._visibility|=2,qa(d,_,A,M,f)),f&&q&2048&&Bd(_.alternate,_);break;case 24:qa(d,_,A,M,f),f&&q&2048&&Fd(_.alternate,_);break;default:qa(d,_,A,M,f)}s=s.sibling}}function wl(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&Bd(l.alternate,l);break;case 24:wl(a,l),f&2048&&Fd(l.alternate,l);break;default:wl(a,l)}s=s.sibling}}var xl=8192;function Ga(e,s,a){if(e.subtreeFlags&xl)for(e=e.child;e!==null;)Cv(e,s,a),e=e.sibling}function Cv(e,s,a){switch(e.tag){case 26:Ga(e,s,a),e.flags&xl&&e.memoizedState!==null&&n2(a,hi,e.memoizedState,e.memoizedProps);break;case 5:Ga(e,s,a);break;case 3:case 4:var l=hi;hi=$c(e.stateNode.containerInfo),Ga(e,s,a),hi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=xl,xl=16777216,Ga(e,s,a),xl=l):Ga(e,s,a));break;default:Ga(e,s,a)}}function Dv(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Rl(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ge=l,Mv(l,e)}Dv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vv(e),e=e.sibling}function Vv(e){switch(e.tag){case 0:case 11:case 15:Rl(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:Rl(e);break;case 12:Rl(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,kc(e)):Rl(e);break;default:Rl(e)}}function kc(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ge=l,Mv(l,e)}Dv(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:Bs(8,s,s.return),kc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,kc(s));break;default:kc(s)}e=e.sibling}}function Mv(e,s){for(;Ge!==null;){var a=Ge;switch(a.tag){case 0:case 11:case 15:Bs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ge=l;else t:for(a=e;Ge!==null;){l=Ge;var f=l.sibling,d=l.return;if(Ev(l),l===a){Ge=null;break t}if(f!==null){f.return=d,Ge=f;break t}Ge=d}}}var yx={getCacheForType:function(e){var s=Ze(De),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return Ze(De).controller.signal}},vx=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,It=null,Pt=0,$t=0,Nn=null,Fs=!1,Ka=!1,Hd=!1,hs=0,me=0,Hs=0,Wr=0,qd=0,In=0,Ya=0,Cl=null,En=null,Gd=!1,Uc=0,Nv=0,zc=1/0,jc=null,qs=null,Ue=0,Gs=null,Qa=null,fs=0,Kd=0,Yd=null,Iv=null,Dl=0,Qd=null;function On(){return(Yt&2)!==0&&Pt!==0?Pt&-Pt:$.T!==null?tm():Bu()}function Ov(){if(In===0)if((Pt&536870912)===0||zt){var e=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),In=e}else In=536870912;return e=Vn.current,e!==null&&(e.flags|=32),In}function bn(e,s,a){(e===ne&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),Ks(e,Pt,In,!1)),xr(e,a),((Yt&2)===0||e!==ne)&&(e===ne&&((Yt&2)===0&&(Wr|=a),me===4&&Ks(e,Pt,In,!1)),zi(e))}function Pv(e,s,a){if((Yt&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||ni(e,s),f=l?Ex(e,s):$d(e,s,!0),d=l;do{if(f===0){Ka&&!l&&Ks(e,s,0,!1);break}else{if(a=e.current.alternate,d&&!_x(a)){f=$d(e,s,!1),d=!1;continue}if(f===2){if(d=s,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var A=e;f=Cl;var M=A.current.memoizedState.isDehydrated;if(M&&(Xa(A,_).flags|=256),_=$d(A,_,!1),_!==2){if(Hd&&!M){A.errorRecoveryDisabledLanes|=d,Wr|=d,f=4;break t}d=En,En=f,d!==null&&(En===null?En=d:En.push.apply(En,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Xa(e,0),Ks(e,s,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ks(l,s,In,!Fs);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Uc+300-ln(),10<f)){if(Ks(l,s,In,!Fs),Ei(l,0,!0)!==0)break t;fs=s,l.timeoutHandle=f_(Lv.bind(null,l,a,En,jc,Gd,s,In,Wr,Ya,Fs,d,"Throttled",-0,0),f);break t}Lv(l,a,En,jc,Gd,s,In,Wr,Ya,Fs,d,null,-0,0)}}break}while(!0);zi(e)}function Lv(e,s,a,l,f,d,_,A,M,q,Z,tt,G,Q){if(e.timeoutHandle=-1,tt=s.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},Cv(s,d,tt);var pt=(d&62914560)===d?Uc-ln():(d&4194048)===d?Nv-ln():0;if(pt=i2(tt,pt),pt!==null){fs=d,e.cancelPendingCommit=pt(qv.bind(null,e,s,d,a,l,f,_,A,M,Z,tt,null,G,Q)),Ks(e,d,_,!q);return}}qv(e,s,d,a,l,f,_,A,M)}function _x(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Cn(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ks(e,s,a,l){s&=~qd,s&=~Wr,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var f=s;0<f;){var d=31-ve(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Rr(e,a,s)}function Bc(){return(Yt&6)===0?(Vl(0),!1):!0}function Xd(){if(It!==null){if($t===0)var e=It.return;else e=It,es=Hr=null,hd(e),za=null,fl=0,e=It;for(;e!==null;)dv(e.alternate,e),e=e.return;It=null}}function Xa(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),fs=0,Xd(),ne=e,It=a=Ji(e.current,null),Pt=s,$t=0,Nn=null,Fs=!1,Ka=ni(e,s),Hd=!1,Ya=In=qd=Wr=Hs=me=0,En=Cl=null,Gd=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var f=31-ve(l),d=1<<f;s|=e[f],l&=~d}return hs=s,lc(),a}function kv(e,s){Dt=null,$.H=Tl,s===Ua||s===gc?(s=Jy(),$t=3):s===Jf?(s=Jy(),$t=4):$t=s===Rd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Nn=s,It===null&&(me=1,Vc(e,Kn(s,e.current)))}function Uv(){var e=Vn.current;return e===null?!0:(Pt&4194048)===Pt?$n===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===$n:!1}function zv(){var e=$.H;return $.H=Tl,e===null?Tl:e}function jv(){var e=$.A;return $.A=yx,e}function Fc(){me=4,Fs||(Pt&4194048)!==Pt&&Vn.current!==null||(Ka=!0),(Hs&134217727)===0&&(Wr&134217727)===0||ne===null||Ks(ne,Pt,In,!1)}function $d(e,s,a){var l=Yt;Yt|=2;var f=zv(),d=jv();(ne!==e||Pt!==s)&&(jc=null,Xa(e,s)),s=!1;var _=me;t:do try{if($t!==0&&It!==null){var A=It,M=Nn;switch($t){case 8:Xd(),_=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(s=!0);var q=$t;if($t=0,Nn=null,$a(e,A,M,q),a&&Ka){_=0;break t}break;default:q=$t,$t=0,Nn=null,$a(e,A,M,q)}}Tx(),_=me;break}catch(Z){kv(e,Z)}while(!0);return s&&e.shellSuspendCounter++,es=Hr=null,Yt=l,$.H=f,$.A=d,It===null&&(ne=null,Pt=0,lc()),_}function Tx(){for(;It!==null;)Bv(It)}function Ex(e,s){var a=Yt;Yt|=2;var l=zv(),f=jv();ne!==e||Pt!==s?(jc=null,zc=ln()+500,Xa(e,s)):Ka=ni(e,s);t:do try{if($t!==0&&It!==null){s=It;var d=Nn;e:switch($t){case 1:$t=0,Nn=null,$a(e,s,d,1);break;case 2:case 9:if(Zy(d)){$t=0,Nn=null,Fv(s);break}s=function(){$t!==2&&$t!==9||ne!==e||($t=7),zi(e)},d.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Zy(d)?($t=0,Nn=null,Fv(s)):($t=0,Nn=null,$a(e,s,d,7));break;case 5:var _=null;switch(It.tag){case 26:_=It.memoizedState;case 5:case 27:var A=It;if(_?R_(_):A.stateNode.complete){$t=0,Nn=null;var M=A.sibling;if(M!==null)It=M;else{var q=A.return;q!==null?(It=q,Hc(q)):It=null}break e}}$t=0,Nn=null,$a(e,s,d,5);break;case 6:$t=0,Nn=null,$a(e,s,d,6);break;case 8:Xd(),me=6;break t;default:throw Error(r(462))}}bx();break}catch(Z){kv(e,Z)}while(!0);return es=Hr=null,$.H=l,$.A=f,Yt=a,It!==null?0:(ne=null,Pt=0,lc(),me)}function bx(){for(;It!==null&&!xf();)Bv(It)}function Bv(e){var s=hv(e.alternate,e,hs);e.memoizedProps=e.pendingProps,s===null?Hc(e):It=s}function Fv(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=rv(a,s,s.pendingProps,s.type,void 0,Pt);break;case 11:s=rv(a,s,s.pendingProps,s.type.render,s.ref,Pt);break;case 5:hd(s);default:dv(a,s),s=It=jy(s,hs),s=hv(a,s,hs)}e.memoizedProps=e.pendingProps,s===null?Hc(e):It=s}function $a(e,s,a,l){es=Hr=null,hd(s),za=null,fl=0;var f=s.return;try{if(cx(e,f,s,a,Pt)){me=1,Vc(e,Kn(a,e.current)),It=null;return}}catch(d){if(f!==null)throw It=f,d;me=1,Vc(e,Kn(a,e.current)),It=null;return}s.flags&32768?(zt||l===1?e=!0:Ka||(Pt&536870912)!==0?e=!1:(Fs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hv(s,e)):Hc(s)}function Hc(e){var s=e;do{if((s.flags&32768)!==0){Hv(s,Fs);return}e=s.return;var a=dx(s.alternate,s,hs);if(a!==null){It=a;return}if(s=s.sibling,s!==null){It=s;return}It=s=e}while(s!==null);me===0&&(me=5)}function Hv(e,s){do{var a=mx(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);me=6,It=null}function qv(e,s,a,l,f,d,_,A,M){e.cancelPendingCommit=null;do qc();while(Ue!==0);if((Yt&6)!==0)throw Error(r(327));if(s!==null){if(s===e.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Uf,Df(e,a,d,_,A,M),e===ne&&(It=ne=null,Pt=0),Qa=s,Gs=e,fs=a,Kd=d,Yd=f,Iv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xx(bs,function(){return Xv(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ot.p,ot.p=2,_=Yt,Yt|=4;try{px(e,s,a)}finally{Yt=_,ot.p=f,$.T=l}}Ue=1,Gv(),Kv(),Yv()}}function Gv(){if(Ue===1){Ue=0;var e=Gs,s=Qa,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ot.p;ot.p=2;var f=Yt;Yt|=4;try{wv(s,e);var d=lm,_=My(e.containerInfo),A=d.focusedElem,M=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&Vy(A.ownerDocument.documentElement,A)){if(M!==null&&If(A)){var q=M.start,Z=M.end;if(Z===void 0&&(Z=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(Z,A.value.length);else{var tt=A.ownerDocument||document,G=tt&&tt.defaultView||window;if(G.getSelection){var Q=G.getSelection(),pt=A.textContent.length,At=Math.min(M.start,pt),ee=M.end===void 0?At:Math.min(M.end,pt);!Q.extend&&At>ee&&(_=ee,ee=At,At=_);var z=Dy(A,At),k=Dy(A,ee);if(z&&k&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var H=tt.createRange();H.setStart(z.node,z.offset),Q.removeAllRanges(),At>ee?(Q.addRange(H),Q.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),Q.addRange(H))}}}}for(tt=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&tt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<tt.length;A++){var W=tt[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}nh=!!om,lm=om=null}finally{Yt=f,ot.p=l,$.T=a}}e.current=s,Ue=2}}function Kv(){if(Ue===2){Ue=0;var e=Gs,s=Qa,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ot.p;ot.p=2;var f=Yt;Yt|=4;try{Tv(e,s.alternate,s)}finally{Yt=f,ot.p=l,$.T=a}}Ue=3}}function Yv(){if(Ue===4||Ue===3){Ue=0,Ou();var e=Gs,s=Qa,a=fs,l=Iv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ue=5:(Ue=0,Qa=Gs=null,Qv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(qs=null),Xi(a),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ei,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=$.T,f=ot.p,ot.p=2,$.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{$.T=s,ot.p=f}}(fs&3)!==0&&qc(),zi(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Qd?Dl++:(Dl=0,Qd=e):Dl=0,Vl(0)}}function Qv(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,cl(s)))}function qc(){return Gv(),Kv(),Yv(),Xv()}function Xv(){if(Ue!==5)return!1;var e=Gs,s=Kd;Kd=0;var a=Xi(fs),l=$.T,f=ot.p;try{ot.p=32>a?32:a,$.T=null,a=Yd,Yd=null;var d=Gs,_=fs;if(Ue=0,Qa=Gs=null,fs=0,(Yt&6)!==0)throw Error(r(331));var A=Yt;if(Yt|=4,Vv(d.current),Rv(d,d.current,_,a),Yt=A,Vl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ei,d)}catch{}return!0}finally{ot.p=f,$.T=l,Qv(e,s)}}function $v(e,s,a){s=Kn(a,s),s=xd(e.stateNode,s,2),e=Us(e,s,2),e!==null&&(xr(e,2),zi(e))}function Zt(e,s,a){if(e.tag===3)$v(e,e,a);else for(;s!==null;){if(s.tag===3){$v(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qs===null||!qs.has(l))){e=Kn(a,e),a=Z0(2),l=Us(s,a,2),l!==null&&(W0(a,l,s,e),xr(l,2),zi(l));break}}s=s.return}}function Zd(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new vx;var f=new Set;l.set(s,f)}else f=l.get(s),f===void 0&&(f=new Set,l.set(s,f));f.has(a)||(Hd=!0,f.add(a),e=Ax.bind(null,e,s,a),s.then(e,e))}function Ax(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Pt&a)===a&&(me===4||me===3&&(Pt&62914560)===Pt&&300>ln()-Uc?(Yt&2)===0&&Xa(e,0):qd|=a,Ya===Pt&&(Ya=0)),zi(e)}function Zv(e,s){s===0&&(s=ju()),e=jr(e,s),e!==null&&(xr(e,s),zi(e))}function Sx(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),Zv(e,a)}function wx(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Zv(e,a)}function xx(e,s){return ke(e,s)}var Gc=null,Za=null,Wd=!1,Kc=!1,Jd=!1,Ys=0;function zi(e){e!==Za&&e.next===null&&(Za===null?Gc=Za=e:Za=Za.next=e),Kc=!0,Wd||(Wd=!0,Cx())}function Vl(e,s){if(!Jd&&Kc){Jd=!0;do for(var a=!1,l=Gc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-ve(42|e)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,e_(l,d))}else d=Pt,d=Ei(l,l===ne?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ni(l,d)||(a=!0,e_(l,d));l=l.next}while(a);Jd=!1}}function Rx(){Wv()}function Wv(){Kc=Wd=!1;var e=0;Ys!==0&&Ux()&&(e=Ys);for(var s=ln(),a=null,l=Gc;l!==null;){var f=l.next,d=Jv(l,s);d===0?(l.next=null,a===null?Gc=f:a.next=f,f===null&&(Za=a)):(a=l,(e!==0||(d&3)!==0)&&(Kc=!0)),l=f}Ue!==0&&Ue!==5||Vl(e),Ys!==0&&(Ys=0)}function Jv(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ve(d),A=1<<_,M=f[_];M===-1?((A&a)===0||(A&l)!==0)&&(f[_]=Cf(A,s)):M<=s&&(e.expiredLanes|=A),d&=~A}if(s=ne,a=Pt,a=Ei(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&($t===2||$t===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Es(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ni(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&Es(l),Xi(a)){case 2:case 8:a=jo;break;case 32:a=bs;break;case 268435456:a=Pu;break;default:a=bs}return l=t_.bind(null,e),a=ke(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&Es(l),e.callbackPriority=2,e.callbackNode=null,2}function t_(e,s){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(qc()&&e.callbackNode!==a)return null;var l=Pt;return l=Ei(e,e===ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Pv(e,l,s),Jv(e,ln()),e.callbackNode!=null&&e.callbackNode===a?t_.bind(null,e):null)}function e_(e,s){if(qc())return null;Pv(e,s,!0)}function Cx(){jx(function(){(Yt&6)!==0?ke(zo,Rx):Wv()})}function tm(){if(Ys===0){var e=La;e===0&&(e=_i,_i<<=1,(_i&261888)===0&&(_i=256)),Ys=e}return Ys}function n_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ea(""+e)}function i_(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function Dx(e,s,a,l,f){if(s==="submit"&&a&&a.stateNode===f){var d=n_((f[He]||null).action),_=l.submitter;_&&(s=(s=_[He]||null)?n_(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var A=new Ni("action","action",null,l,f);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ys!==0){var M=_?i_(f,_):new FormData(f);Td(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(A.preventDefault(),M=_?i_(f,_):new FormData(f),Td(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var em=0;em<kf.length;em++){var nm=kf[em],Vx=nm.toLowerCase(),Mx=nm[0].toUpperCase()+nm.slice(1);ci(Vx,"on"+Mx)}ci(Oy,"onAnimationEnd"),ci(Py,"onAnimationIteration"),ci(Ly,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(Yw,"onTransitionRun"),ci(Qw,"onTransitionStart"),ci(Xw,"onTransitionCancel"),ci(ky,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function s_(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(s)for(var _=l.length-1;0<=_;_--){var A=l[_],M=A.instance,q=A.currentTarget;if(A=A.listener,M!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=q;try{d(f)}catch(Z){oc(Z)}f.currentTarget=null,d=M}else for(_=0;_<l.length;_++){if(A=l[_],M=A.instance,q=A.currentTarget,A=A.listener,M!==d&&f.isPropagationStopped())break t;d=A,f.currentTarget=q;try{d(f)}catch(Z){oc(Z)}f.currentTarget=null,d=M}}}}function Ot(e,s){var a=s[ga];a===void 0&&(a=s[ga]=new Set);var l=e+"__bubble";a.has(l)||(r_(s,e,2,!1),a.add(l))}function im(e,s,a){var l=0;s&&(l|=4),r_(a,e,l,s)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function sm(e){if(!e[Yc]){e[Yc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(Nx.has(a)||im(a,!1,e),im(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Yc]||(s[Yc]=!0,im("selectionchange",!1,s))}}function r_(e,s,a,l){switch(O_(s)){case 2:var f=a2;break;case 8:f=o2;break;default:f=_m}a=f.bind(null,s,a,e),f=void 0,!Nr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(s,a,{capture:!0,passive:f}):e.addEventListener(s,a,!0):f!==void 0?e.addEventListener(s,a,{passive:f}):e.addEventListener(s,a,!1)}function rm(e,s,a,l,f){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=wi(A),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=d=_;continue t}A=A.parentNode}}l=l.return}Cs(function(){var q=d,Z=Fn(a),tt=[];t:{var G=Uy.get(e);if(G!==void 0){var Q=Ni,pt=e;switch(e){case"keypress":if(Or(a)===0)break t;case"keydown":case"keyup":Q=sc;break;case"focusin":pt="focus",Q=Lr;break;case"focusout":pt="blur",Q=Lr;break;case"beforeblur":case"afterblur":Q=Lr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Oy:case Py:case Ly:Q=Zu;break;case ky:Q=w;break;case"scroll":case"scrollend":Q=el;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Wi;break;case"toggle":case"beforetoggle":Q=Ct}var At=(s&4)!==0,ee=!At&&(e==="scroll"||e==="scrollend"),z=At?G!==null?G+"Capture":null:G;At=[];for(var k=q,H;k!==null;){var W=k;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||z===null||(W=ai(k,z),W!=null&&At.push(Nl(k,W,H))),ee)break;k=k.return}0<At.length&&(G=new Q(G,pt,null,a,Z),tt.push({event:G,listeners:At}))}}if((s&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",G&&a!==Wo&&(pt=a.relatedTarget||a.fromElement)&&(wi(pt)||pt[Ai]))break t;if((Q||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(pt=a.relatedTarget||a.toElement,Q=q,pt=pt?wi(pt):null,pt!==null&&(ee=u(pt),At=pt.tag,pt!==ee||At!==5&&At!==27&&At!==6)&&(pt=null)):(Q=null,pt=q),Q!==pt)){if(At=nl,W="onMouseLeave",z="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(At=Wi,W="onPointerLeave",z="onPointerEnter",k="pointer"),ee=Q==null?G:xn(Q),H=pt==null?G:xn(pt),G=new At(W,k+"leave",Q,a,Z),G.target=ee,G.relatedTarget=H,W=null,wi(Z)===q&&(At=new At(z,k+"enter",pt,a,Z),At.target=H,At.relatedTarget=ee,W=At),ee=W,Q&&pt)e:{for(At=Ix,z=Q,k=pt,H=0,W=z;W;W=At(W))H++;W=0;for(var Tt=k;Tt;Tt=At(Tt))W++;for(;0<H-W;)z=At(z),H--;for(;0<W-H;)k=At(k),W--;for(;H--;){if(z===k||k!==null&&z===k.alternate){At=z;break e}z=At(z),k=At(k)}At=null}else At=null;Q!==null&&a_(tt,G,Q,At,!1),pt!==null&&ee!==null&&a_(tt,ee,pt,At,!0)}}t:{if(G=q?xn(q):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Ht=Ay;else if(Ey(G))if(Sy)Ht=qw;else{Ht=Fw;var vt=Bw}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Ta(q.elementType)&&(Ht=Ay):Ht=Hw;if(Ht&&(Ht=Ht(e,q))){by(tt,Ht,a,Z);break t}vt&&vt(e,G,q),e==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&Xo(G,"number",G.value)}switch(vt=q?xn(q):window,e){case"focusin":(Ey(vt)||vt.contentEditable==="true")&&(Ca=vt,Of=q,ol=null);break;case"focusout":ol=Of=Ca=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Ny(tt,a,Z);break;case"selectionchange":if(Kw)break;case"keydown":case"keyup":Ny(tt,a,Z)}var Mt;if(Kt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ra?kr(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Pi&&a.locale!=="ko"&&(Ra||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ra&&(Mt=tl()):(Mi=Z,Jo="value"in Mi?Mi.value:Mi.textContent,Ra=!0)),vt=Qc(q,Lt),0<vt.length&&(Lt=new Oi(Lt,e,null,a,Z),tt.push({event:Lt,listeners:vt}),Mt?Lt.data=Mt:(Mt=xa(a),Mt!==null&&(Lt.data=Mt)))),(Mt=qn?kw(e,a):Uw(e,a))&&(Lt=Qc(q,"onBeforeInput"),0<Lt.length&&(vt=new Oi("onBeforeInput","beforeinput",null,a,Z),tt.push({event:vt,listeners:Lt}),vt.data=Mt)),Dx(tt,e,q,a,Z)}s_(tt,s)})}function Nl(e,s,a){return{instance:e,listener:s,currentTarget:a}}function Qc(e,s){for(var a=s+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ai(e,a),f!=null&&l.unshift(Nl(e,f,d)),f=ai(e,s),f!=null&&l.push(Nl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function Ix(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function a_(e,s,a,l,f){for(var d=s._reactName,_=[];a!==null&&a!==l;){var A=a,M=A.alternate,q=A.stateNode;if(A=A.tag,M!==null&&M===l)break;A!==5&&A!==26&&A!==27||q===null||(M=q,f?(q=ai(a,d),q!=null&&_.unshift(Nl(a,q,M))):f||(q=ai(a,d),q!=null&&_.push(Nl(a,q,M)))),a=a.return}_.length!==0&&e.push({event:s,listeners:_})}var Ox=/\r\n?/g,Px=/\u0000|\uFFFD/g;function o_(e){return(typeof e=="string"?e:""+e).replace(Ox,`
`).replace(Px,"")}function l_(e,s){return s=o_(s),o_(e)===s}function te(e,s,a,l,f,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||yn(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&yn(e,""+l);break;case"className":Rn(e,"class",l);break;case"tabIndex":Rn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(e,a,l);break;case"style":Zo(e,l,d);break;case"data":if(s!=="object"){Rn(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ea(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&te(e,s,"name",f.name,f,null),te(e,s,"formEncType",f.formEncType,f,null),te(e,s,"formMethod",f.formMethod,f,null),te(e,s,"formTarget",f.formTarget,f,null)):(te(e,s,"encType",f.encType,f,null),te(e,s,"method",f.method,f,null),te(e,s,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ea(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ri);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ea(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),va(e,"popover",l);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qu.get(a)||a,va(e,a,l))}}function am(e,s,a,l,f,d){switch(a){case"style":Zo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?yn(e,l):(typeof l=="number"||typeof l=="bigint")&&yn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=e[He]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(s,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):va(e,a,l)}}}function Je(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:te(e,s,d,_,a,null)}}f&&te(e,s,"srcSet",a.srcSet,a,null),l&&te(e,s,"src",a.src,a,null);return;case"input":Ot("invalid",e);var A=d=_=f=null,M=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":M=Z;break;case"defaultChecked":q=Z;break;case"value":d=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:te(e,s,l,Z,a,null)}}Gu(e,d,A,M,q,_,f,!1);return;case"select":Ot("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:te(e,s,f,A,a,null)}s=d,a=_,e.multiple=!!l,s!=null?Ss(e,!!l,s,!1):a!=null&&Ss(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:te(e,s,_,A,a,null)}ws(e,l,f,d);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(e,s,M,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Ot(Ml[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:te(e,s,q,l,a,null)}return;default:if(Ta(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&am(e,s,Z,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&te(e,s,A,l,a,null))}function Lx(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,M=null,q=null,Z=null;for(Q in a){var tt=a[Q];if(a.hasOwnProperty(Q)&&tt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":M=tt;default:l.hasOwnProperty(Q)||te(e,s,Q,null,l,tt)}}for(var G in l){var Q=l[G];if(tt=a[G],l.hasOwnProperty(G)&&(Q!=null||tt!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":q=Q;break;case"defaultChecked":Z=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==tt&&te(e,s,G,Q,l,tt)}}_a(e,_,A,M,q,Z,d,f);return;case"select":Q=_=A=G=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":Q=M;default:l.hasOwnProperty(d)||te(e,s,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":G=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==M&&te(e,s,f,d,l,M)}s=A,a=_,l=Q,G!=null?Ss(e,!!a,G,!1):!!l!=!!a&&(s!=null?Ss(e,!!a,s,!0):Ss(e,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:te(e,s,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&te(e,s,_,f,l,d)}Ku(e,G,Q);return;case"option":for(var pt in a)if(G=a[pt],a.hasOwnProperty(pt)&&G!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:te(e,s,pt,null,l,G)}for(M in l)if(G=l[M],Q=a[M],l.hasOwnProperty(M)&&G!==Q&&(G!=null||Q!=null))switch(M){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:te(e,s,M,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)G=a[At],a.hasOwnProperty(At)&&G!=null&&!l.hasOwnProperty(At)&&te(e,s,At,null,l,G);for(q in l)if(G=l[q],Q=a[q],l.hasOwnProperty(q)&&G!==Q&&(G!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:te(e,s,q,G,l,Q)}return;default:if(Ta(s)){for(var ee in a)G=a[ee],a.hasOwnProperty(ee)&&G!==void 0&&!l.hasOwnProperty(ee)&&am(e,s,ee,void 0,l,G);for(Z in l)G=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||G===Q||G===void 0&&Q===void 0||am(e,s,Z,G,l,Q);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&te(e,s,z,null,l,G);for(tt in l)G=l[tt],Q=a[tt],!l.hasOwnProperty(tt)||G===Q||G==null&&Q==null||te(e,s,tt,G,l,Q)}function u_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&u_(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],q=M.startTime;if(q>A)break;var Z=M.transferSize,tt=M.initiatorType;Z&&u_(tt)&&(M=M.responseEnd,_+=Z*(M<A?1:(A-q)/(M-q)))}if(--l,s+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var om=null,lm=null;function Xc(e){return e.nodeType===9?e:e.ownerDocument}function c_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function um(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cm=null;function Ux(){var e=window.event;return e&&e.type==="popstate"?e===cm?!1:(cm=e,!0):(cm=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,zx=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,jx=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(e){return d_.resolve(null).then(e).catch(Bx)}:f_;function Bx(e){setTimeout(function(){throw e})}function Qs(e){return e==="head"}function m_(e,s){var a=s,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),eo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Il(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[Si]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Il(e.ownerDocument.body);a=f}while(a);eo(s)}function p_(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function hm(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Fx(e,s,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Si])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Zn(e.nextSibling),e===null)break}return null}function Hx(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zn(e.nextSibling),e===null))return null;return e}function g_(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Zn(e.nextSibling),e===null))return null;return e}function fm(e){return e.data==="$?"||e.data==="$~"}function dm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qx(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Zn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var mm=null;function y_(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return Zn(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function v_(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function __(e,s,a){switch(s=Xc(a),e){case"html":if(e=s.documentElement,!e)throw Error(r(452));return e;case"head":if(e=s.head,!e)throw Error(r(453));return e;case"body":if(e=s.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Il(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);ya(e)}var Wn=new Map,T_=new Set;function $c(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ds=ot.d;ot.d={f:Gx,r:Kx,D:Yx,C:Qx,L:Xx,m:$x,X:Wx,S:Zx,M:Jx};function Gx(){var e=ds.f(),s=Bc();return e||s}function Kx(e){var s=Bn(e);s!==null&&s.tag===5&&s.type==="form"?k0(s):ds.r(e)}var Wa=typeof document>"u"?null:document;function E_(e,s,a){var l=Wa;if(l&&typeof s=="string"&&s){var f=gn(s);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),T_.has(f)||(T_.add(f),e={rel:e,crossOrigin:a,href:s},l.querySelector(f)===null&&(s=l.createElement("link"),Je(s,"link",e),Re(s),l.head.appendChild(s)))}}function Yx(e){ds.D(e),E_("dns-prefetch",e,null)}function Qx(e,s){ds.C(e,s),E_("preconnect",e,s)}function Xx(e,s,a){ds.L(e,s,a);var l=Wa;if(l&&e&&s){var f='link[rel="preload"][as="'+gn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+gn(a.imageSizes)+'"]')):f+='[href="'+gn(e)+'"]';var d=f;switch(s){case"style":d=Ja(e);break;case"script":d=to(e)}Wn.has(d)||(e=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),Wn.set(d,e),l.querySelector(f)!==null||s==="style"&&l.querySelector(Ol(d))||s==="script"&&l.querySelector(Pl(d))||(s=l.createElement("link"),Je(s,"link",e),Re(s),l.head.appendChild(s)))}}function $x(e,s){ds.m(e,s);var a=Wa;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(e)}if(!Wn.has(d)&&(e=T({rel:"modulepreload",href:e},s),Wn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),Je(l,"link",e),Re(l),a.head.appendChild(l)}}}function Zx(e,s,a){ds.S(e,s,a);var l=Wa;if(l&&e){var f=xi(l).hoistableStyles,d=Ja(e);s=s||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Ol(d)))A.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":s},a),(a=Wn.get(d))&&pm(e,a);var M=_=l.createElement("link");Re(M),Je(M,"link",e),M._p=new Promise(function(q,Z){M.onload=q,M.onerror=Z}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Zc(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function Wx(e,s){ds.X(e,s);var a=Wa;if(a&&e){var l=xi(a).hoistableScripts,f=to(e),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(e=T({src:e,async:!0},s),(s=Wn.get(f))&&gm(e,s),d=a.createElement("script"),Re(d),Je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Jx(e,s){ds.M(e,s);var a=Wa;if(a&&e){var l=xi(a).hoistableScripts,f=to(e),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(e=T({src:e,async:!0,type:"module"},s),(s=Wn.get(f))&&gm(e,s),d=a.createElement("script"),Re(d),Je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function b_(e,s,a,l){var f=(f=gt.current)?$c(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ja(a.href),a=xi(f).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ja(a.href);var d=xi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Ol(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Wn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(e,a),d||t2(f,e,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=to(a),a=xi(f).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ja(e){return'href="'+gn(e)+'"'}function Ol(e){return'link[rel="stylesheet"]['+e+"]"}function A_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function t2(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Je(s,"link",a),Re(s),e.head.appendChild(s))}function to(e){return'[src="'+gn(e)+'"]'}function Pl(e){return"script[async]"+e}function S_(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+gn(a.href)+'"]');if(l)return s.instance=l,Re(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Re(l),Je(l,"style",f),Zc(l,a.precedence,e),s.instance=l;case"stylesheet":f=Ja(a.href);var d=e.querySelector(Ol(f));if(d)return s.state.loading|=4,s.instance=d,Re(d),d;l=A_(a),(f=Wn.get(f))&&pm(l,f),d=(e.ownerDocument||e).createElement("link"),Re(d);var _=d;return _._p=new Promise(function(A,M){_.onload=A,_.onerror=M}),Je(d,"link",l),s.state.loading|=4,Zc(d,a.precedence,e),s.instance=d;case"script":return d=to(a.src),(f=e.querySelector(Pl(d)))?(s.instance=f,Re(f),f):(l=a,(f=Wn.get(d))&&(l=T({},a),gm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Re(f),Je(f,"link",l),e.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Zc(l,a.precedence,e));return s.instance}function Zc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===s)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function pm(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function gm(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Wc=null;function w_(e,s,a){if(Wc===null){var l=new Map,f=Wc=new Map;f.set(a,l)}else f=Wc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[Si]||d[xe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=e+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function x_(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function e2(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function R_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function n2(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ja(l.href),d=s.querySelector(Ol(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Jc.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=d,Re(d);return}d=s.ownerDocument||s,l=A_(l),(f=Wn.get(f))&&pm(l,f),d=d.createElement("link"),Re(d);var _=d;_._p=new Promise(function(A,M){_.onload=A,_.onerror=M}),Je(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Jc.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var ym=0;function i2(e,s){return e.stylesheets&&e.count===0&&eh(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&eh(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+s);0<e.imgBytes&&ym===0&&(ym=62500*kx());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&eh(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>ym?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var th=null;function eh(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,th=new Map,s.forEach(s2,e),th=null,Jc.call(e))}function s2(e,s){if(!(s.state.loading&4)){var a=th.get(e);if(a)var l=a.get(null);else{a=new Map,th.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=s.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Jc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),s.state.loading|=4}}var Ll={$$typeof:K,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function r2(e,s,a,l,f,d,_,A,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function C_(e,s,a,l,f,d,_,A,M,q,Z,tt){return e=new r2(e,s,a,_,M,q,Z,tt,A),s=1,d===!0&&(s|=24),d=Dn(3,null,null,s),e.current=d,d.stateNode=e,s=$f(),s.refCount++,e.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},td(d),e}function D_(e){return e?(e=Ma,e):Ma}function V_(e,s,a,l,f,d){f=D_(f),l.context===null?l.context=f:l.pendingContext=f,l=ks(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Us(e,l,s),a!==null&&(bn(a,e,s),ml(a,e,s))}function M_(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function vm(e,s){M_(e,s),(e=e.alternate)&&M_(e,s)}function N_(e){if(e.tag===13||e.tag===31){var s=jr(e,67108864);s!==null&&bn(s,e,67108864),vm(e,67108864)}}function I_(e){if(e.tag===13||e.tag===31){var s=On();s=Cr(s);var a=jr(e,s);a!==null&&bn(a,e,s),vm(e,s)}}var nh=!0;function a2(e,s,a,l){var f=$.T;$.T=null;var d=ot.p;try{ot.p=2,_m(e,s,a,l)}finally{ot.p=d,$.T=f}}function o2(e,s,a,l){var f=$.T;$.T=null;var d=ot.p;try{ot.p=8,_m(e,s,a,l)}finally{ot.p=d,$.T=f}}function _m(e,s,a,l){if(nh){var f=Tm(l);if(f===null)rm(e,s,l,ih,a),P_(e,l);else if(u2(f,e,s,a,l))l.stopPropagation();else if(P_(e,l),s&4&&-1<l2.indexOf(e)){for(;f!==null;){var d=Bn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Ti(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var M=1<<31-ve(_);A.entanglements[1]|=M,_&=~M}zi(d),(Yt&6)===0&&(zc=ln()+500,Vl(0))}}break;case 31:case 13:A=jr(d,2),A!==null&&bn(A,d,2),Bc(),vm(d,2)}if(d=Tm(l),d===null&&rm(e,s,l,ih,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else rm(e,s,l,null,a)}}function Tm(e){return e=Fn(e),Em(e)}var ih=null;function Em(e){if(ih=null,e=wi(e),e!==null){var s=u(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=c(s),e!==null)return e;e=null}else if(a===31){if(e=m(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return ih=e,null}function O_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case zo:return 2;case jo:return 8;case bs:case Rf:return 32;case Pu:return 268435456;default:return 32}default:return 32}}var bm=!1,Xs=null,$s=null,Zs=null,kl=new Map,Ul=new Map,Ws=[],l2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(e,s){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":kl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(s.pointerId)}}function zl(e,s,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Bn(s),s!==null&&N_(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),e)}function u2(e,s,a,l,f){switch(s){case"focusin":return Xs=zl(Xs,e,s,a,l,f),!0;case"dragenter":return $s=zl($s,e,s,a,l,f),!0;case"mouseover":return Zs=zl(Zs,e,s,a,l,f),!0;case"pointerover":var d=f.pointerId;return kl.set(d,zl(kl.get(d)||null,e,s,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ul.set(d,zl(Ul.get(d)||null,e,s,a,l,f)),!0}return!1}function L_(e){var s=wi(e.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){e.blockedOn=s,ii(e.priority,function(){I_(a)});return}}else if(s===31){if(s=m(a),s!==null){e.blockedOn=s,ii(e.priority,function(){I_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sh(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Tm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Wo=l,a.target.dispatchEvent(l),Wo=null}else return s=Bn(a),s!==null&&N_(s),e.blockedOn=a,!1;s.shift()}return!0}function k_(e,s,a){sh(e)&&a.delete(s)}function c2(){bm=!1,Xs!==null&&sh(Xs)&&(Xs=null),$s!==null&&sh($s)&&($s=null),Zs!==null&&sh(Zs)&&(Zs=null),kl.forEach(k_),Ul.forEach(k_)}function rh(e,s){e.blockedOn===s&&(e.blockedOn=null,bm||(bm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,c2)))}var ah=null;function U_(e){ah!==e&&(ah=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ah===e&&(ah=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],f=e[s+2];if(typeof l!="function"){if(Em(l||a)===null)continue;break}var d=Bn(a);d!==null&&(e.splice(s,3),s-=3,Td(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function eo(e){function s(M){return rh(M,e)}Xs!==null&&rh(Xs,e),$s!==null&&rh($s,e),Zs!==null&&rh(Zs,e),kl.forEach(s),Ul.forEach(s);for(var a=0;a<Ws.length;a++){var l=Ws[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)L_(a),a.blockedOn===null&&Ws.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[He]||null;if(typeof d=="function")_||U_(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[He]||null)A=_.formAction;else if(Em(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),U_(a)}}}function z_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Am(e){this._internalRoot=e}oh.prototype.render=Am.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=On();V_(a,l,e,s,null,null)},oh.prototype.unmount=Am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;V_(e.current,2,null,e,null,null),Bc(),s[Ai]=null}};function oh(e){this._internalRoot=e}oh.prototype.unstable_scheduleHydration=function(e){if(e){var s=Bu();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Ws.length&&s!==0&&s<Ws[a].priority;a++);Ws.splice(a,0,e),a===0&&L_(e)}};var j_=t.version;if(j_!=="19.2.4")throw Error(r(527,j_,"19.2.4"));ot.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(s),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var h2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{ei=lh.inject(h2),Qe=lh}catch{}}return Bl.createRoot=function(e,s){if(!o(e))throw Error(r(299));var a=!1,l="",f=Y0,d=Q0,_=X0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=C_(e,1,!1,null,null,a,l,null,f,d,_,z_),e[Ai]=s.current,sm(e),new Am(s)},Bl.hydrateRoot=function(e,s,a){if(!o(e))throw Error(r(299));var l=!1,f="",d=Y0,_=Q0,A=X0,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),s=C_(e,1,!0,s,a??null,l,f,M,d,_,A,z_),s.context=D_(null),a=s.current,l=On(),l=Cr(l),f=ks(l),f.callback=null,Us(a,f,l),a=l,s.current.lanes=a,xr(s,a),zi(s),e[Ai]=s.current,sm(e),new oh(s)},Bl.version="19.2.4",Bl}var $_;function b2(){if($_)return xm.exports;$_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),xm.exports=E2(),xm.exports}var A2=b2();const S2=zE(A2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=(...n)=>n.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=n=>{const t=x2(n);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=it.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:c,...m},p)=>it.createElement("svg",{ref:p,...R2,width:t,height:t,stroke:n,strokeWidth:r?Number(i)*24/Number(t):i,className:jE("lucide",o),...!u&&!C2(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,v])=>it.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(n,t)=>{const i=it.forwardRef(({className:r,...o},u)=>it.createElement(D2,{ref:u,iconNode:t,className:jE(`lucide-${w2(Z_(n))}`,`lucide-${n}`,r),...o}));return i.displayName=Z_(n),i};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],M2=Fe("circle-alert",V2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],W_=Fe("circle-check",N2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],J_=Fe("circle-x",I2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],P2=Fe("cloud",O2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],k2=Fe("coins",L2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z2=Fe("eye",U2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],B2=Fe("image",j2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],H2=Fe("layout-grid",F2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],G2=Fe("link",q2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tT=Fe("loader-circle",K2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],eT=Fe("message-square",Y2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],X2=Fe("percent",Q2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Z2=Fe("plus",$2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nT=Fe("rotate-ccw",W2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rp=Fe("settings",J2);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],eR=Fe("trash-2",tR);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],lo=Fe("trophy",nR);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],iT=Fe("upload",iR);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BE=Fe("x",sR),Jp=it.createContext({});function tg(n){const t=it.useRef(null);return t.current===null&&(t.current=n()),t.current}const FE=typeof window<"u",HE=FE?it.useLayoutEffect:it.useEffect,rf=it.createContext(null);function eg(n,t){n.indexOf(t)===-1&&n.push(t)}function Oh(n,t){const i=n.indexOf(t);i>-1&&n.splice(i,1)}const Ki=(n,t,i)=>i>t?t:i<n?n:i;let ng=()=>{};const gs={},qE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function GE(n){return typeof n=="object"&&n!==null}const KE=n=>/^0[^.\s]+$/u.test(n);function ig(n){let t;return()=>(t===void 0&&(t=n()),t)}const ti=n=>n,rR=(n,t)=>i=>t(n(i)),Au=(...n)=>n.reduce(rR),ou=(n,t,i)=>{const r=t-n;return r===0?1:(i-n)/r};class sg{constructor(){this.subscriptions=[]}add(t){return eg(this.subscriptions,t),()=>Oh(this.subscriptions,t)}notify(t,i,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,i,r);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pi=n=>n*1e3,Jn=n=>n/1e3;function YE(n,t){return t?n*(1e3/t):0}const QE=(n,t,i)=>(((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n,aR=1e-7,oR=12;function lR(n,t,i,r,o){let u,c,m=0;do c=t+(i-t)/2,u=QE(c,r,o)-n,u>0?i=c:t=c;while(Math.abs(u)>aR&&++m<oR);return c}function Su(n,t,i,r){if(n===t&&i===r)return ti;const o=u=>lR(u,0,1,n,i);return u=>u===0||u===1?u:QE(o(u),t,r)}const XE=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,$E=n=>t=>1-n(1-t),ZE=Su(.33,1.53,.69,.99),rg=$E(ZE),WE=XE(rg),JE=n=>(n*=2)<1?.5*rg(n):.5*(2-Math.pow(2,-10*(n-1))),ag=n=>1-Math.sin(Math.acos(n)),tb=$E(ag),eb=XE(ag),uR=Su(.42,0,1,1),cR=Su(0,0,.58,1),nb=Su(.42,0,.58,1),hR=n=>Array.isArray(n)&&typeof n[0]!="number",ib=n=>Array.isArray(n)&&typeof n[0]=="number",fR={linear:ti,easeIn:uR,easeInOut:nb,easeOut:cR,circIn:ag,circInOut:eb,circOut:tb,backIn:rg,backInOut:WE,backOut:ZE,anticipate:JE},dR=n=>typeof n=="string",sT=n=>{if(ib(n)){ng(n.length===4);const[t,i,r,o]=n;return Su(t,i,r,o)}else if(dR(n))return fR[n];return n},uh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function mR(n,t){let i=new Set,r=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function p(v){c.has(v)&&(g.schedule(v),n()),v(m)}const g={schedule:(v,T=!1,b=!1)=>{const N=b&&o?i:r;return T&&c.add(v),N.has(v)||N.add(v),v},cancel:v=>{r.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[i,r]=[r,i],i.forEach(p),i.clear(),o=!1,u&&(u=!1,g.process(v))}};return g}const pR=40;function sb(n,t){let i=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=uh.reduce((K,st)=>(K[st]=mR(u),K),{}),{setup:m,read:p,resolveKeyframes:g,preUpdate:v,update:T,preRender:b,render:R,postRender:N}=c,j=()=>{const K=gs.useManualTiming?o.timestamp:performance.now();i=!1,gs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(K-o.timestamp,pR),1)),o.timestamp=K,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),T.process(o),b.process(o),R.process(o),N.process(o),o.isProcessing=!1,i&&t&&(r=!1,n(j))},O=()=>{i=!0,r=!0,o.isProcessing||n(j)};return{schedule:uh.reduce((K,st)=>{const rt=c[st];return K[st]=(at,C=!1,S=!1)=>(i||O(),rt.schedule(at,C,S)),K},{}),cancel:K=>{for(let st=0;st<uh.length;st++)c[uh[st]].cancel(K)},state:o,steps:c}}const{schedule:se,cancel:fr,state:tn,steps:Vm}=sb(typeof requestAnimationFrame<"u"?requestAnimationFrame:ti,!0);let bh;function gR(){bh=void 0}const mn={now:()=>(bh===void 0&&mn.set(tn.isProcessing||gs.useManualTiming?tn.timestamp:performance.now()),bh),set:n=>{bh=n,queueMicrotask(gR)}},rb=n=>t=>typeof t=="string"&&t.startsWith(n),ab=rb("--"),yR=rb("var(--"),og=n=>yR(n)?vR.test(n.split("/*")[0].trim()):!1,vR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function rT(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Do={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},lu={...Do,transform:n=>Ki(0,1,n)},ch={...Do,default:1},$l=n=>Math.round(n*1e5)/1e5,lg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _R(n){return n==null}const TR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ug=(n,t)=>i=>!!(typeof i=="string"&&TR.test(i)&&i.startsWith(n)||t&&!_R(i)&&Object.prototype.hasOwnProperty.call(i,t)),ob=(n,t,i)=>r=>{if(typeof r!="string")return r;const[o,u,c,m]=r.match(lg);return{[n]:parseFloat(o),[t]:parseFloat(u),[i]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},ER=n=>Ki(0,255,n),Mm={...Do,transform:n=>Math.round(ER(n))},na={test:ug("rgb","red"),parse:ob("red","green","blue"),transform:({red:n,green:t,blue:i,alpha:r=1})=>"rgba("+Mm.transform(n)+", "+Mm.transform(t)+", "+Mm.transform(i)+", "+$l(lu.transform(r))+")"};function bR(n){let t="",i="",r="",o="";return n.length>5?(t=n.substring(1,3),i=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(t=n.substring(1,2),i=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),t+=t,i+=i,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const ap={test:ug("#"),parse:bR,transform:na.transform},wu=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),er=wu("deg"),Hi=wu("%"),yt=wu("px"),AR=wu("vh"),SR=wu("vw"),aT={...Hi,parse:n=>Hi.parse(n)/100,transform:n=>Hi.transform(n*100)},uo={test:ug("hsl","hue"),parse:ob("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:i,alpha:r=1})=>"hsla("+Math.round(n)+", "+Hi.transform($l(t))+", "+Hi.transform($l(i))+", "+$l(lu.transform(r))+")"},Oe={test:n=>na.test(n)||ap.test(n)||uo.test(n),parse:n=>na.test(n)?na.parse(n):uo.test(n)?uo.parse(n):ap.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?na.transform(n):uo.transform(n),getAnimatableNone:n=>{const t=Oe.parse(n);return t.alpha=0,Oe.transform(t)}},wR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xR(n){var t,i;return isNaN(n)&&typeof n=="string"&&(((t=n.match(lg))==null?void 0:t.length)||0)+(((i=n.match(wR))==null?void 0:i.length)||0)>0}const lb="number",ub="color",RR="var",CR="var(",oT="${}",DR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uu(n){const t=n.toString(),i=[],r={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(DR,p=>(Oe.test(p)?(r.color.push(u),o.push(ub),i.push(Oe.parse(p))):p.startsWith(CR)?(r.var.push(u),o.push(RR),i.push(p)):(r.number.push(u),o.push(lb),i.push(parseFloat(p))),++u,oT)).split(oT);return{values:i,split:m,indexes:r,types:o}}function cb(n){return uu(n).values}function hb(n){const{split:t,types:i}=uu(n),r=t.length;return o=>{let u="";for(let c=0;c<r;c++)if(u+=t[c],o[c]!==void 0){const m=i[c];m===lb?u+=$l(o[c]):m===ub?u+=Oe.transform(o[c]):u+=o[c]}return u}}const VR=n=>typeof n=="number"?0:Oe.test(n)?Oe.getAnimatableNone(n):n;function MR(n){const t=cb(n);return hb(n)(t.map(VR))}const dr={test:xR,parse:cb,createTransformer:hb,getAnimatableNone:MR};function Nm(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function NR({hue:n,saturation:t,lightness:i,alpha:r}){n/=360,t/=100,i/=100;let o=0,u=0,c=0;if(!t)o=u=c=i;else{const m=i<.5?i*(1+t):i+t-i*t,p=2*i-m;o=Nm(p,m,n+1/3),u=Nm(p,m,n),c=Nm(p,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Ph(n,t){return i=>i>0?t:n}const he=(n,t,i)=>n+(t-n)*i,Im=(n,t,i)=>{const r=n*n,o=i*(t*t-r)+r;return o<0?0:Math.sqrt(o)},IR=[ap,na,uo],OR=n=>IR.find(t=>t.test(n));function lT(n){const t=OR(n);if(!t)return!1;let i=t.parse(n);return t===uo&&(i=NR(i)),i}const uT=(n,t)=>{const i=lT(n),r=lT(t);if(!i||!r)return Ph(n,t);const o={...i};return u=>(o.red=Im(i.red,r.red,u),o.green=Im(i.green,r.green,u),o.blue=Im(i.blue,r.blue,u),o.alpha=he(i.alpha,r.alpha,u),na.transform(o))},op=new Set(["none","hidden"]);function PR(n,t){return op.has(n)?i=>i<=0?n:t:i=>i>=1?t:n}function LR(n,t){return i=>he(n,t,i)}function cg(n){return typeof n=="number"?LR:typeof n=="string"?og(n)?Ph:Oe.test(n)?uT:zR:Array.isArray(n)?fb:typeof n=="object"?Oe.test(n)?uT:kR:Ph}function fb(n,t){const i=[...n],r=i.length,o=n.map((u,c)=>cg(u)(u,t[c]));return u=>{for(let c=0;c<r;c++)i[c]=o[c](u);return i}}function kR(n,t){const i={...n,...t},r={};for(const o in i)n[o]!==void 0&&t[o]!==void 0&&(r[o]=cg(n[o])(n[o],t[o]));return o=>{for(const u in r)i[u]=r[u](o);return i}}function UR(n,t){const i=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=n.indexes[u][r[u]],m=n.values[c]??0;i[o]=m,r[u]++}return i}const zR=(n,t)=>{const i=dr.createTransformer(t),r=uu(n),o=uu(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?op.has(n)&&!o.values.length||op.has(t)&&!r.values.length?PR(n,t):Au(fb(UR(r,o),o.values),i):Ph(n,t)};function db(n,t,i){return typeof n=="number"&&typeof t=="number"&&typeof i=="number"?he(n,t,i):cg(n)(n,t)}const jR=n=>{const t=({timestamp:i})=>n(i);return{start:(i=!0)=>se.update(t,i),stop:()=>fr(t),now:()=>tn.isProcessing?tn.timestamp:mn.now()}},mb=(n,t,i=10)=>{let r="";const o=Math.max(Math.round(t/i),2);for(let u=0;u<o;u++)r+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Lh=2e4;function hg(n){let t=0;const i=50;let r=n.next(t);for(;!r.done&&t<Lh;)t+=i,r=n.next(t);return t>=Lh?1/0:t}function BR(n,t=100,i){const r=i({...n,keyframes:[0,t]}),o=Math.min(hg(r),Lh);return{type:"keyframes",ease:u=>r.next(o*u).value/t,duration:Jn(o)}}const FR=5;function pb(n,t,i){const r=Math.max(t-FR,0);return YE(i-n(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Om=.001;function HR({duration:n=pe.duration,bounce:t=pe.bounce,velocity:i=pe.velocity,mass:r=pe.mass}){let o,u,c=1-t;c=Ki(pe.minDamping,pe.maxDamping,c),n=Ki(pe.minDuration,pe.maxDuration,Jn(n)),c<1?(o=g=>{const v=g*c,T=v*n,b=v-i,R=lp(g,c),N=Math.exp(-T);return Om-b/R*N},u=g=>{const T=g*c*n,b=T*i+i,R=Math.pow(c,2)*Math.pow(g,2)*n,N=Math.exp(-T),j=lp(Math.pow(g,2),c);return(-o(g)+Om>0?-1:1)*((b-R)*N)/j}):(o=g=>{const v=Math.exp(-g*n),T=(g-i)*n+1;return-Om+v*T},u=g=>{const v=Math.exp(-g*n),T=(i-g)*(n*n);return v*T});const m=5/n,p=GR(o,u,m);if(n=pi(n),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:n};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:c*2*Math.sqrt(r*g),duration:n}}}const qR=12;function GR(n,t,i){let r=i;for(let o=1;o<qR;o++)r=r-n(r)/t(r);return r}function lp(n,t){return n*Math.sqrt(1-t*t)}const KR=["duration","bounce"],YR=["stiffness","damping","mass"];function cT(n,t){return t.some(i=>n[i]!==void 0)}function QR(n){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...n};if(!cT(n,YR)&&cT(n,KR))if(n.visualDuration){const i=n.visualDuration,r=2*Math.PI/(i*1.2),o=r*r,u=2*Ki(.05,1,1-(n.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const i=HR(n);t={...t,...i,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function kh(n=pe.visualDuration,t=pe.bounce){const i=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:o}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:T,velocity:b,isResolvedFromDuration:R}=QR({...i,velocity:-Jn(i.velocity||0)}),N=b||0,j=g/(2*Math.sqrt(p*v)),O=c-u,F=Jn(Math.sqrt(p/v)),X=Math.abs(O)<5;r||(r=X?pe.restSpeed.granular:pe.restSpeed.default),o||(o=X?pe.restDelta.granular:pe.restDelta.default);let K;if(j<1){const rt=lp(F,j);K=at=>{const C=Math.exp(-j*F*at);return c-C*((N+j*F*O)/rt*Math.sin(rt*at)+O*Math.cos(rt*at))}}else if(j===1)K=rt=>c-Math.exp(-F*rt)*(O+(N+F*O)*rt);else{const rt=F*Math.sqrt(j*j-1);K=at=>{const C=Math.exp(-j*F*at),S=Math.min(rt*at,300);return c-C*((N+j*F*O)*Math.sinh(S)+rt*O*Math.cosh(S))/rt}}const st={calculatedDuration:R&&T||null,next:rt=>{const at=K(rt);if(R)m.done=rt>=T;else{let C=rt===0?N:0;j<1&&(C=rt===0?pi(N):pb(K,rt,at));const S=Math.abs(C)<=r,x=Math.abs(c-at)<=o;m.done=S&&x}return m.value=m.done?c:at,m},toString:()=>{const rt=Math.min(hg(st),Lh),at=mb(C=>st.next(rt*C).value,rt,30);return rt+"ms "+at},toTransition:()=>{}};return st}kh.applyToOptions=n=>{const t=BR(n,100,kh);return n.ease=t.ease,n.duration=pi(t.duration),n.type="keyframes",n};function up({keyframes:n,velocity:t=0,power:i=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:g=.5,restSpeed:v}){const T=n[0],b={done:!1,value:T},R=S=>m!==void 0&&S<m||p!==void 0&&S>p,N=S=>m===void 0?p:p===void 0||Math.abs(m-S)<Math.abs(p-S)?m:p;let j=i*t;const O=T+j,F=c===void 0?O:c(O);F!==O&&(j=F-T);const X=S=>-j*Math.exp(-S/r),K=S=>F+X(S),st=S=>{const x=X(S),P=K(S);b.done=Math.abs(x)<=g,b.value=b.done?F:P};let rt,at;const C=S=>{R(b.value)&&(rt=S,at=kh({keyframes:[b.value,N(b.value)],velocity:pb(K,S,b.value),damping:o,stiffness:u,restDelta:g,restSpeed:v}))};return C(0),{calculatedDuration:null,next:S=>{let x=!1;return!at&&rt===void 0&&(x=!0,st(S),C(S)),rt!==void 0&&S>=rt?at.next(S-rt):(!x&&st(S),b)}}}function XR(n,t,i){const r=[],o=i||gs.mix||db,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||ti:t;m=Au(p,m)}r.push(m)}return r}function $R(n,t,{clamp:i=!0,ease:r,mixer:o}={}){const u=n.length;if(ng(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const m=XR(t,r,o),p=m.length,g=v=>{if(c&&v<n[0])return t[0];let T=0;if(p>1)for(;T<n.length-2&&!(v<n[T+1]);T++);const b=ou(n[T],n[T+1],v);return m[T](b)};return i?v=>g(Ki(n[0],n[u-1],v)):g}function ZR(n,t){const i=n[n.length-1];for(let r=1;r<=t;r++){const o=ou(0,t,r);n.push(he(i,1,o))}}function WR(n){const t=[0];return ZR(t,n.length-1),t}function JR(n,t){return n.map(i=>i*t)}function tC(n,t){return n.map(()=>t||nb).splice(0,n.length-1)}function Zl({duration:n=300,keyframes:t,times:i,ease:r="easeInOut"}){const o=hR(r)?r.map(sT):sT(r),u={done:!1,value:t[0]},c=JR(i&&i.length===t.length?i:WR(t),n),m=$R(c,t,{ease:Array.isArray(o)?o:tC(t,o)});return{calculatedDuration:n,next:p=>(u.value=m(p),u.done=p>=n,u)}}const eC=n=>n!==null;function fg(n,{repeat:t,repeatType:i="loop"},r,o=1){const u=n.filter(eC),m=o<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!m||r===void 0?u[m]:r}const nC={decay:up,inertia:up,tween:Zl,keyframes:Zl,spring:kh};function gb(n){typeof n.type=="string"&&(n.type=nC[n.type])}class dg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const iC=n=>n/100;class mg extends dg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,o;const{motionValue:i}=this.options;i&&i.updatedAt!==mn.now()&&this.tick(mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(r=this.options).onStop)==null||o.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;gb(t);const{type:i=Zl,repeat:r=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=i||Zl;p!==Zl&&typeof m[0]!="number"&&(this.mixKeyframes=Au(iC,db(m[0],m[1])),m=[0,100]);const g=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=hg(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:r,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:v,repeat:T,repeatType:b,repeatDelay:R,type:N,onUpdate:j,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const F=this.currentTime-g*(this.playbackSpeed>=0?1:-1),X=this.playbackSpeed>=0?F<0:F>o;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let K=this.currentTime,st=r;if(T){const S=Math.min(this.currentTime,o)/m;let x=Math.floor(S),P=S%1;!P&&S>=1&&(P=1),P===1&&x--,x=Math.min(x,T+1),!!(x%2)&&(b==="reverse"?(P=1-P,R&&(P-=R/m)):b==="mirror"&&(st=c)),K=Ki(0,1,P)*m}const rt=X?{done:!1,value:v[0]}:st.next(K);u&&(rt.value=u(rt.value));let{done:at}=rt;!X&&p!==null&&(at=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return C&&N!==up&&(rt.value=fg(v,this.options,O,this.speed)),j&&j(rt.value),C&&this.finish(),rt}then(t,i){return this.finished.then(t,i)}get duration(){return Jn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Jn(t)}get time(){return Jn(this.currentTime)}set time(t){var i;t=pi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(mn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Jn(this.currentTime))}play(){var o,u;if(this.isStopped)return;const{driver:t=jR,startTime:i}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(u=(o=this.options).onPlay)==null||u.call(o);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function sC(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const ia=n=>n*180/Math.PI,cp=n=>{const t=ia(Math.atan2(n[1],n[0]));return hp(t)},rC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:cp,rotateZ:cp,skewX:n=>ia(Math.atan(n[1])),skewY:n=>ia(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},hp=n=>(n=n%360,n<0&&(n+=360),n),hT=cp,fT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),dT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),aC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fT,scaleY:dT,scale:n=>(fT(n)+dT(n))/2,rotateX:n=>hp(ia(Math.atan2(n[6],n[5]))),rotateY:n=>hp(ia(Math.atan2(-n[2],n[0]))),rotateZ:hT,rotate:hT,skewX:n=>ia(Math.atan(n[4])),skewY:n=>ia(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function fp(n){return n.includes("scale")?1:0}function dp(n,t){if(!n||n==="none")return fp(t);const i=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(i)r=aC,o=i;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=rC,o=m}if(!o)return fp(t);const u=r[t],c=o[1].split(",").map(lC);return typeof u=="function"?u(c):c[u]}const oC=(n,t)=>{const{transform:i="none"}=getComputedStyle(n);return dp(i,t)};function lC(n){return parseFloat(n.trim())}const Vo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mo=new Set(Vo),mT=n=>n===Do||n===yt,uC=new Set(["x","y","z"]),cC=Vo.filter(n=>!uC.has(n));function hC(n){const t=[];return cC.forEach(i=>{const r=n.getValue(i);r!==void 0&&(t.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),t}const sr={width:({x:n},{paddingLeft:t="0",paddingRight:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),height:({y:n},{paddingTop:t="0",paddingBottom:i="0"})=>n.max-n.min-parseFloat(t)-parseFloat(i),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>dp(t,"x"),y:(n,{transform:t})=>dp(t,"y")};sr.translateX=sr.x;sr.translateY=sr.y;const aa=new Set;let mp=!1,pp=!1,gp=!1;function yb(){if(pp){const n=Array.from(aa).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),i=new Map;t.forEach(r=>{const o=hC(r);o.length&&(i.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=i.get(r);o&&o.forEach(([u,c])=>{var m;(m=r.getValue(u))==null||m.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pp=!1,mp=!1,aa.forEach(n=>n.complete(gp)),aa.clear()}function vb(){aa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(pp=!0)})}function fC(){gp=!0,vb(),yb(),gp=!1}class pg{constructor(t,i,r,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=r,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(aa.add(this),mp||(mp=!0,se.read(vb),se.resolveKeyframes(yb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:r,motionValue:o}=this;if(t[0]===null){const u=o==null?void 0:o.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(r&&i){const m=r.readValue(i,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}sC(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),aa.delete(this)}cancel(){this.state==="scheduled"&&(aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dC=n=>n.startsWith("--");function mC(n,t,i){dC(t)?n.style.setProperty(t,i):n.style[t]=i}const pC=ig(()=>window.ScrollTimeline!==void 0),gC={};function yC(n,t){const i=ig(n);return()=>gC[t]??i()}const _b=yC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gl=([n,t,i,r])=>`cubic-bezier(${n}, ${t}, ${i}, ${r})`,pT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gl([0,.65,.55,1]),circOut:Gl([.55,0,1,.45]),backIn:Gl([.31,.01,.66,-.59]),backOut:Gl([.33,1.53,.69,.99])};function Tb(n,t){if(n)return typeof n=="function"?_b()?mb(n,t):"ease-out":ib(n)?Gl(n):Array.isArray(n)?n.map(i=>Tb(i,t)||pT.easeOut):pT[n]}function vC(n,t,i,{delay:r=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},g=void 0){const v={[t]:i};p&&(v.offset=p);const T=Tb(m,o);Array.isArray(T)&&(v.easing=T);const b={delay:r,duration:o,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),n.animate(v,b)}function Eb(n){return typeof n=="function"&&"applyToOptions"in n}function _C({type:n,...t}){return Eb(n)&&_b()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class bb extends dg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:i,name:r,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,ng(typeof t.type!="string");const g=_C(t);this.animation=vC(i,r,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=fg(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):mC(i,r,v),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var i,r,o;const t=(i=this.options)==null?void 0:i.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((o=(r=this.animation).commitStyles)==null||o.call(r))}get duration(){var i,r;const t=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return Jn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Jn(t)}get time(){return Jn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=pi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&pC()?(this.animation.timeline=t,ti):i(this)}}const Ab={anticipate:JE,backInOut:WE,circInOut:eb};function TC(n){return n in Ab}function EC(n){typeof n.ease=="string"&&TC(n.ease)&&(n.ease=Ab[n.ease])}const Pm=10;class bC extends bb{constructor(t){EC(t),gb(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:r,onComplete:o,element:u,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const m=new mg({...c,autoplay:!1}),p=Math.max(Pm,mn.now()-this.startTime),g=Ki(0,Pm,p-Pm);i.setWithVelocity(m.sample(Math.max(0,p-g)).value,m.sample(p).value,g),m.stop()}}const gT=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(dr.test(n)||n==="0")&&!n.startsWith("url("));function AC(n){const t=n[0];if(n.length===1)return!0;for(let i=0;i<n.length;i++)if(n[i]!==t)return!0}function SC(n,t,i,r){const o=n[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=gT(o,t),m=gT(u,t);return!c||!m?!1:AC(n)||(i==="spring"||Eb(i))&&r}function yp(n){n.duration=0,n.type="keyframes"}const wC=new Set(["opacity","clipPath","filter","transform"]),xC=ig(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function RC(n){var v;const{motionValue:t,name:i,repeatDelay:r,repeatType:o,damping:u,type:c}=n;if(!(((v=t==null?void 0:t.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return xC()&&i&&wC.has(i)&&(i!=="transform"||!g)&&!p&&!r&&o!=="mirror"&&u!==0&&c!=="inertia"}const CC=40;class DC extends dg{constructor({autoplay:t=!0,delay:i=0,type:r="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:g,element:v,...T}){var N;super(),this.stop=()=>{var j,O;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(O=this.keyframeResolver)==null||O.cancel()},this.createdAt=mn.now();const b={autoplay:t,delay:i,type:r,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:v,...T},R=(v==null?void 0:v.KeyframeResolver)||pg;this.keyframeResolver=new R(m,(j,O,F)=>this.onKeyframesResolved(j,O,b,!F),p,g,v),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(t,i,r,o){var O,F;this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:g,onUpdate:v}=r;this.resolvedAt=mn.now(),SC(t,u,c,m)||((gs.instantAnimations||!p)&&(v==null||v(fg(t,r,i))),t[0]=t[t.length-1],yp(r),r.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>CC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:t},R=!g&&RC(b),N=(F=(O=b.motionValue)==null?void 0:O.owner)==null?void 0:F.current,j=R?new bC({...b,element:N}):new mg(b);j.finished.then(()=>{this.notifyFinished()}).catch(ti),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),fC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function Sb(n,t,i,r=0,o=1){const u=Array.from(n).sort((g,v)=>g.sortNodePosition(v)).indexOf(t),c=n.size,m=(c-1)*r;return typeof i=="function"?i(u,c):o===1?u*r:m-u*r}const VC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MC(n){const t=VC.exec(n);if(!t)return[,];const[,i,r,o]=t;return[`--${i??r}`,o]}function wb(n,t,i=1){const[r,o]=MC(n);if(!r)return;const u=window.getComputedStyle(t).getPropertyValue(r);if(u){const c=u.trim();return qE(c)?parseFloat(c):c}return og(o)?wb(o,t,i+1):o}const NC={type:"spring",stiffness:500,damping:25,restSpeed:10},IC=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),OC={type:"keyframes",duration:.8},PC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LC=(n,{keyframes:t})=>t.length>2?OC:Mo.has(n)?n.startsWith("scale")?IC(t[1]):NC:PC,kC=n=>n!==null;function UC(n,{repeat:t,repeatType:i="loop"},r){const o=n.filter(kC),u=t&&i!=="loop"&&t%2===1?0:o.length-1;return o[u]}function xb(n,t){if(n!=null&&n.inherit&&t){const{inherit:i,...r}=n;return{...t,...r}}return n}function gg(n,t){const i=(n==null?void 0:n[t])??(n==null?void 0:n.default)??n;return i!==n?xb(i,n):i}function zC({when:n,delay:t,delayChildren:i,staggerChildren:r,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const yg=(n,t,i,r={},o,u)=>c=>{const m=gg(r,n)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-pi(p);const v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:b=>{t.set(b),m.onUpdate&&m.onUpdate(b)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:t,element:u?void 0:o};zC(m)||Object.assign(v,LC(n,v)),v.duration&&(v.duration=pi(v.duration)),v.repeatDelay&&(v.repeatDelay=pi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(yp(v),v.delay===0&&(T=!0)),(gs.instantAnimations||gs.skipAnimations||o!=null&&o.shouldSkipAnimations)&&(T=!0,yp(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,T&&!u&&t.get()!==void 0){const b=UC(v.keyframes,m);if(b!==void 0){se.update(()=>{v.onUpdate(b),v.onComplete()});return}}return m.isSync?new mg(v):new DC(v)};function yT(n){const t=[{},{}];return n==null||n.values.forEach((i,r)=>{t[0][r]=i.get(),t[1][r]=i.getVelocity()}),t}function vg(n,t,i,r){if(typeof t=="function"){const[o,u]=yT(r);t=t(i!==void 0?i:n.custom,o,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[o,u]=yT(r);t=t(i!==void 0?i:n.custom,o,u)}return t}function yo(n,t,i){const r=n.getProps();return vg(r,t,i!==void 0?i:r.custom,n)}const Rb=new Set(["width","height","top","left","right","bottom",...Vo]),vT=30,jC=n=>!isNaN(parseFloat(n));class BC{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var u;const o=mn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=jC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new sg);const r=this.events[t].add(i);return t==="change"?()=>{r(),se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>vT)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,vT);return YE(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eo(n,t){return new BC(n,t)}const vp=n=>Array.isArray(n);function FC(n,t,i){n.hasValue(t)?n.getValue(t).set(i):n.addValue(t,Eo(i))}function HC(n){return vp(n)?n[n.length-1]||0:n}function qC(n,t){const i=yo(n,t);let{transitionEnd:r={},transition:o={},...u}=i||{};u={...u,...r};for(const c in u){const m=HC(u[c]);FC(n,c,m)}}const on=n=>!!(n&&n.getVelocity);function GC(n){return!!(on(n)&&n.add)}function _p(n,t){const i=n.getValue("willChange");if(GC(i))return i.add(t);if(!i&&gs.WillChange){const r=new gs.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function _g(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const KC="framerAppearId",Cb="data-"+_g(KC);function Db(n){return n.props[Cb]}function YC({protectedKeys:n,needsAnimating:t},i){const r=n.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,r}function Vb(n,t,{delay:i=0,transitionOverride:r,type:o}={}){let{transition:u,transitionEnd:c,...m}=t;const p=n.getDefaultTransition();u=u?xb(u,p):p;const g=u==null?void 0:u.reduceMotion;r&&(u=r);const v=[],T=o&&n.animationState&&n.animationState.getState()[o];for(const b in m){const R=n.getValue(b,n.latestValues[b]??null),N=m[b];if(N===void 0||T&&YC(T,b))continue;const j={delay:i,...gg(u||{},b)},O=R.get();if(O!==void 0&&!R.isAnimating&&!Array.isArray(N)&&N===O&&!j.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const st=Db(n);if(st){const rt=window.MotionHandoffAnimation(st,b,se);rt!==null&&(j.startTime=rt,F=!0)}}_p(n,b);const X=g??n.shouldReduceMotion;R.start(yg(b,R,N,X&&Rb.has(b)?{type:!1}:j,n,F));const K=R.animation;K&&v.push(K)}if(c){const b=()=>se.update(()=>{c&&qC(n,c)});v.length?Promise.all(v).then(b):b()}return v}function Tp(n,t,i={}){var p;const r=yo(n,t,i.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(o=i.transitionOverride);const u=r?()=>Promise.all(Vb(n,r,i)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:T,staggerDirection:b}=o;return QC(n,t,g,v,T,b,i)}:()=>Promise.resolve(),{when:m}=o;if(m){const[g,v]=m==="beforeChildren"?[u,c]:[c,u];return g().then(()=>v())}else return Promise.all([u(),c(i.delay)])}function QC(n,t,i=0,r=0,o=0,u=1,c){const m=[];for(const p of n.variantChildren)p.notify("AnimationStart",t),m.push(Tp(p,t,{...c,delay:i+(typeof r=="function"?0:r)+Sb(n.variantChildren,p,r,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(m)}function XC(n,t,i={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(u=>Tp(n,u,i));r=Promise.all(o)}else if(typeof t=="string")r=Tp(n,t,i);else{const o=typeof t=="function"?yo(n,t,i.custom):t;r=Promise.all(Vb(n,o,i))}return r.then(()=>{n.notify("AnimationComplete",t)})}const $C={test:n=>n==="auto",parse:n=>n},Mb=n=>t=>t.test(n),Nb=[Do,yt,Hi,er,SR,AR,$C],_T=n=>Nb.find(Mb(n));function ZC(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||KE(n):!0}const WC=new Set(["brightness","contrast","saturate","opacity"]);function JC(n){const[t,i]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=i.match(lg)||[];if(!r)return n;const o=i.replace(r,"");let u=WC.has(t)?1:0;return r!==i&&(u*=100),t+"("+u+o+")"}const tD=/\b([a-z-]*)\(.*?\)/gu,Ep={...dr,getAnimatableNone:n=>{const t=n.match(tD);return t?t.map(JC).join(" "):n}},TT={...Do,transform:Math.round},eD={rotate:er,rotateX:er,rotateY:er,rotateZ:er,scale:ch,scaleX:ch,scaleY:ch,scaleZ:ch,skew:er,skewX:er,skewY:er,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:lu,originX:aT,originY:aT,originZ:yt},Tg={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,inset:yt,insetBlock:yt,insetBlockStart:yt,insetBlockEnd:yt,insetInline:yt,insetInlineStart:yt,insetInlineEnd:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,paddingBlock:yt,paddingBlockStart:yt,paddingBlockEnd:yt,paddingInline:yt,paddingInlineStart:yt,paddingInlineEnd:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,marginBlock:yt,marginBlockStart:yt,marginBlockEnd:yt,marginInline:yt,marginInlineStart:yt,marginInlineEnd:yt,fontSize:yt,backgroundPositionX:yt,backgroundPositionY:yt,...eD,zIndex:TT,fillOpacity:lu,strokeOpacity:lu,numOctaves:TT},nD={...Tg,color:Oe,backgroundColor:Oe,outlineColor:Oe,fill:Oe,stroke:Oe,borderColor:Oe,borderTopColor:Oe,borderRightColor:Oe,borderBottomColor:Oe,borderLeftColor:Oe,filter:Ep,WebkitFilter:Ep},Ib=n=>nD[n];function Ob(n,t){let i=Ib(n);return i!==Ep&&(i=dr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const iD=new Set(["auto","none","0"]);function sD(n,t,i){let r=0,o;for(;r<n.length&&!o;){const u=n[r];typeof u=="string"&&!iD.has(u)&&uu(u).values.length&&(o=n[r]),r++}if(o&&i)for(const u of t)n[u]=Ob(i,o)}class rD extends pg{constructor(t,i,r,o,u){super(t,i,r,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let v=0;v<t.length;v++){let T=t[v];if(typeof T=="string"&&(T=T.trim(),og(T))){const b=wb(T,i.current);b!==void 0&&(t[v]=b),v===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!Rb.has(r)||t.length!==2)return;const[o,u]=t,c=_T(o),m=_T(u),p=rT(o),g=rT(u);if(p!==g&&sr[r]){this.needsMeasurement=!0;return}if(c!==m)if(mT(c)&&mT(m))for(let v=0;v<t.length;v++){const T=t[v];typeof T=="string"&&(t[v]=parseFloat(T))}else sr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||ZC(t[o]))&&r.push(o);r.length&&sD(t,r,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const o=i[i.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var m;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(i);o&&o.jump(this.measuredOrigin,!1);const u=r.length-1,c=r[u];r[u]=sr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const aD=new Set(["opacity","clipPath","filter","transform"]);function Pb(n,t,i){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=(i==null?void 0:i[n])??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n).filter(r=>r!=null)}const Lb=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function bp(n){return GE(n)&&"offsetHeight"in n}const{schedule:Eg}=sb(queueMicrotask,!1),mi={x:!1,y:!1};function kb(){return mi.x||mi.y}function oD(n){return n==="x"||n==="y"?mi[n]?null:(mi[n]=!0,()=>{mi[n]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function Ub(n,t){const i=Pb(n),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[i,o,()=>r.abort()]}function lD(n){return!(n.pointerType==="touch"||kb())}function uD(n,t,i={}){const[r,o,u]=Ub(n,i);return r.forEach(c=>{let m=!1,p=!1,g;const v=()=>{c.removeEventListener("pointerleave",N)},T=O=>{g&&(g(O),g=void 0),v()},b=O=>{m=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),p&&(p=!1,T(O))},R=()=>{m=!0,window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",b,o)},N=O=>{if(O.pointerType!=="touch"){if(m){p=!0;return}T(O)}},j=O=>{if(!lD(O))return;p=!1;const F=t(c,O);typeof F=="function"&&(g=F,c.addEventListener("pointerleave",N,o))};c.addEventListener("pointerenter",j,o),c.addEventListener("pointerdown",R,o)}),u}const zb=(n,t)=>t?n===t?!0:zb(n,t.parentElement):!1,bg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,cD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hD(n){return cD.has(n.tagName)||n.isContentEditable===!0}const fD=new Set(["INPUT","SELECT","TEXTAREA"]);function dD(n){return fD.has(n.tagName)||n.isContentEditable===!0}const Ah=new WeakSet;function ET(n){return t=>{t.key==="Enter"&&n(t)}}function Lm(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mD=(n,t)=>{const i=n.currentTarget;if(!i)return;const r=ET(()=>{if(Ah.has(i))return;Lm(i,"down");const o=ET(()=>{Lm(i,"up")}),u=()=>Lm(i,"cancel");i.addEventListener("keyup",o,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",r,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),t)};function bT(n){return bg(n)&&!kb()}const AT=new WeakSet;function pD(n,t,i={}){const[r,o,u]=Ub(n,i),c=m=>{const p=m.currentTarget;if(!bT(m)||AT.has(m))return;Ah.add(p),i.stopPropagation&&AT.add(m);const g=t(p,m),v=(R,N)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",b),Ah.has(p)&&Ah.delete(p),bT(R)&&typeof g=="function"&&g(R,{success:N})},T=R=>{v(R,p===window||p===document||i.useGlobalTarget||zb(p,R.target))},b=R=>{v(R,!1)};window.addEventListener("pointerup",T,o),window.addEventListener("pointercancel",b,o)};return r.forEach(m=>{(i.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),bp(m)&&(m.addEventListener("focus",g=>mD(g,o)),!hD(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Ag(n){return GE(n)&&"ownerSVGElement"in n}const Sh=new WeakMap;let nr;const jb=(n,t,i)=>(r,o)=>o&&o[0]?o[0][n+"Size"]:Ag(r)&&"getBBox"in r?r.getBBox()[t]:r[i],gD=jb("inline","width","offsetWidth"),yD=jb("block","height","offsetHeight");function vD({target:n,borderBoxSize:t}){var i;(i=Sh.get(n))==null||i.forEach(r=>{r(n,{get width(){return gD(n,t)},get height(){return yD(n,t)}})})}function _D(n){n.forEach(vD)}function TD(){typeof ResizeObserver>"u"||(nr=new ResizeObserver(_D))}function ED(n,t){nr||TD();const i=Pb(n);return i.forEach(r=>{let o=Sh.get(r);o||(o=new Set,Sh.set(r,o)),o.add(t),nr==null||nr.observe(r)}),()=>{i.forEach(r=>{const o=Sh.get(r);o==null||o.delete(t),o!=null&&o.size||nr==null||nr.unobserve(r)})}}const wh=new Set;let co;function bD(){co=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};wh.forEach(t=>t(n))},window.addEventListener("resize",co)}function AD(n){return wh.add(n),co||bD(),()=>{wh.delete(n),!wh.size&&typeof co=="function"&&(window.removeEventListener("resize",co),co=void 0)}}function ST(n,t){return typeof n=="function"?AD(n):ED(n,t)}function SD(n){return Ag(n)&&n.tagName==="svg"}const wD=[...Nb,Oe,dr],xD=n=>wD.find(Mb(n)),wT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ho=()=>({x:wT(),y:wT()}),xT=()=>({min:0,max:0}),ze=()=>({x:xT(),y:xT()}),RD=new WeakMap;function af(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function cu(n){return typeof n=="string"||Array.isArray(n)}const Sg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wg=["initial",...Sg];function of(n){return af(n.animate)||wg.some(t=>cu(n[t]))}function Bb(n){return!!(of(n)||n.variants)}function CD(n,t,i){for(const r in t){const o=t[r],u=i[r];if(on(o))n.addValue(r,o);else if(on(u))n.addValue(r,Eo(o,{owner:n}));else if(u!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,Eo(c!==void 0?c:o,{owner:n}))}}for(const r in i)t[r]===void 0&&n.removeValue(r);return t}const Ap={current:null},Fb={current:!1},DD=typeof window<"u";function VD(){if(Fb.current=!0,!!DD)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ap.current=n.matches;n.addEventListener("change",t),t()}else Ap.current=!1}const RT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Uh={};function Hb(n){Uh=n}function MD(){return Uh}class ND{scrapeMotionValuesFromProps(t,i,r){return{}}constructor({parent:t,props:i,presenceContext:r,reducedMotionConfig:o,skipAnimations:u,blockInitialAnimation:c,visualState:m},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=pg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const R=mn.now();this.renderScheduledAt<R&&(this.renderScheduledAt=R,se.render(this.render,!1,!0))};const{latestValues:g,renderState:v}=m;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=v,this.parent=t,this.props=i,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=u,this.options=p,this.blockInitialAnimation=!!c,this.isControllingVariants=of(i),this.isVariantNode=Bb(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:T,...b}=this.scrapeMotionValuesFromProps(i,{},this);for(const R in b){const N=b[R];g[R]!==void 0&&on(N)&&N.set(g[R])}}mount(t){var i,r;if(this.hasBeenMounted)for(const o in this.initialValues)(i=this.values.get(o))==null||i.jump(this.initialValues[o]),this.latestValues[o]=this.initialValues[o];this.current=t,RD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,u)=>this.bindToMotionValue(u,o)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Fb.current||VD(),this.shouldReduceMotion=Ap.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),fr(this.notifyUpdate),fr(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const r=this.features[i];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),i.accelerate&&aD.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:m,times:p,ease:g,duration:v}=i.accelerate,T=new bb({element:this.current,name:t,keyframes:m,times:p,ease:g,duration:pi(v)}),b=c(T);this.valueSubscriptions.set(t,()=>{b(),T.cancel()});return}const r=Mo.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&se.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Uh){const i=Uh[t];if(!i)continue;const{isEnabled:r,Feature:o}=i;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<RT.length;r++){const o=RT[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=CD(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const r=this.values.get(t);i!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&i!==void 0&&(r=Eo(i===null?void 0:i,{owner:this}),this.addValue(t,r)),r}readValue(t,i){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(qE(r)||KE(r))?r=parseFloat(r):!xD(r)&&dr.test(i)&&(r=Ob(t,i)),this.setBaseTarget(t,on(r)?r.get():r)),on(r)?r.get():r}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var u;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const c=vg(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);c&&(r=c[t])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!on(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new sg),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){Eg.render(this.render)}}class qb extends ND{constructor(){super(...arguments),this.KeyframeResolver=rD}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){const r=t.style;return r?r[i]:void 0}removeValueFromRenderState(t,{vars:i,style:r}){delete i[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;on(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}class Tr{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Gb({top:n,left:t,right:i,bottom:r}){return{x:{min:t,max:i},y:{min:n,max:r}}}function ID({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function OD(n,t){if(!t)return n;const i=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function km(n){return n===void 0||n===1}function Sp({scale:n,scaleX:t,scaleY:i}){return!km(n)||!km(t)||!km(i)}function ta(n){return Sp(n)||Kb(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Kb(n){return CT(n.x)||CT(n.y)}function CT(n){return n&&n!=="0%"}function zh(n,t,i){const r=n-i,o=t*r;return i+o}function DT(n,t,i,r,o){return o!==void 0&&(n=zh(n,o,r)),zh(n,i,r)+t}function wp(n,t=0,i=1,r,o){n.min=DT(n.min,t,i,r,o),n.max=DT(n.max,t,i,r,o)}function Yb(n,{x:t,y:i}){wp(n.x,t.translate,t.scale,t.originPoint),wp(n.y,i.translate,i.scale,i.originPoint)}const VT=.999999999999,MT=1.0000000000001;function PD(n,t,i,r=!1){const o=i.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=i[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&mo(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Yb(n,c)),r&&ta(u.latestValues)&&mo(n,u.latestValues))}t.x<MT&&t.x>VT&&(t.x=1),t.y<MT&&t.y>VT&&(t.y=1)}function fo(n,t){n.min=n.min+t,n.max=n.max+t}function NT(n,t,i,r,o=.5){const u=he(n.min,n.max,o);wp(n,t,i,u,r)}function mo(n,t){NT(n.x,t.x,t.scaleX,t.scale,t.originX),NT(n.y,t.y,t.scaleY,t.scale,t.originY)}function Qb(n,t){return Gb(OD(n.getBoundingClientRect(),t))}function LD(n,t,i){const r=Qb(n,i),{scroll:o}=t;return o&&(fo(r.x,o.offset.x),fo(r.y,o.offset.y)),r}const kD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UD=Vo.length;function zD(n,t,i){let r="",o=!0;for(let u=0;u<UD;u++){const c=Vo[u],m=n[c];if(m===void 0)continue;let p=!0;if(typeof m=="number")p=m===(c.startsWith("scale")?1:0);else{const g=parseFloat(m);p=c.startsWith("scale")?g===1:g===0}if(!p||i){const g=Lb(m,Tg[c]);if(!p){o=!1;const v=kD[c]||c;r+=`${v}(${g}) `}i&&(t[c]=g)}}return r=r.trim(),i?r=i(t,o?"":r):o&&(r="none"),r}function xg(n,t,i){const{style:r,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const p in t){const g=t[p];if(Mo.has(p)){c=!0;continue}else if(ab(p)){o[p]=g;continue}else{const v=Lb(g,Tg[p]);p.startsWith("origin")?(m=!0,u[p]=v):r[p]=v}}if(t.transform||(c||i?r.transform=zD(t,n.transform,i):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;r.transformOrigin=`${p} ${g} ${v}`}}function Xb(n,{style:t,vars:i},r,o){const u=n.style;let c;for(c in t)u[c]=t[c];o==null||o.applyProjectionStyles(u,r);for(c in i)u.setProperty(c,i[c])}function IT(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Fl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(yt.test(n))n=parseFloat(n);else return n;const i=IT(n,t.target.x),r=IT(n,t.target.y);return`${i}% ${r}%`}},jD={correct:(n,{treeScale:t,projectionDelta:i})=>{const r=n,o=dr.parse(n);if(o.length>5)return r;const u=dr.createTransformer(n),c=typeof o[0]!="number"?1:0,m=i.x.scale*t.x,p=i.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const g=he(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},xp={borderRadius:{...Fl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fl,borderTopRightRadius:Fl,borderBottomLeftRadius:Fl,borderBottomRightRadius:Fl,boxShadow:jD};function $b(n,{layout:t,layoutId:i}){return Mo.has(n)||n.startsWith("origin")||(t||i!==void 0)&&(!!xp[n]||n==="opacity")}function Rg(n,t,i){var c;const r=n.style,o=t==null?void 0:t.style,u={};if(!r)return u;for(const m in r)(on(r[m])||o&&on(o[m])||$b(m,n)||((c=i==null?void 0:i.getValue(m))==null?void 0:c.liveStyle)!==void 0)&&(u[m]=r[m]);return u}function BD(n){return window.getComputedStyle(n)}class FD extends qb{constructor(){super(...arguments),this.type="html",this.renderInstance=Xb}readValueFromInstance(t,i){var r;if(Mo.has(i))return(r=this.projection)!=null&&r.isProjecting?fp(i):oC(t,i);{const o=BD(t),u=(ab(i)?o.getPropertyValue(i):o[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:i}){return Qb(t,i)}build(t,i,r){xg(t,i,r.transformTemplate)}scrapeMotionValuesFromProps(t,i,r){return Rg(t,i,r)}}const HD={offset:"stroke-dashoffset",array:"stroke-dasharray"},qD={offset:"strokeDashoffset",array:"strokeDasharray"};function GD(n,t,i=1,r=0,o=!0){n.pathLength=1;const u=o?HD:qD;n[u.offset]=`${-r}`,n[u.array]=`${t} ${i}`}const KD=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Zb(n,{attrX:t,attrY:i,attrScale:r,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,g,v){if(xg(n,m,g),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:b}=n;T.transform&&(b.transform=T.transform,delete T.transform),(b.transform||T.transformOrigin)&&(b.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),b.transform&&(b.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete T.transformBox);for(const R of KD)T[R]!==void 0&&(b[R]=T[R],delete T[R]);t!==void 0&&(T.x=t),i!==void 0&&(T.y=i),r!==void 0&&(T.scale=r),o!==void 0&&GD(T,o,u,c,!1)}const Wb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Jb=n=>typeof n=="string"&&n.toLowerCase()==="svg";function YD(n,t,i,r){Xb(n,t,void 0,r);for(const o in t.attrs)n.setAttribute(Wb.has(o)?o:_g(o),t.attrs[o])}function tA(n,t,i){const r=Rg(n,t,i);for(const o in n)if(on(n[o])||on(t[o])){const u=Vo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[u]=n[o]}return r}class QD extends qb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(Mo.has(i)){const r=Ib(i);return r&&r.default||0}return i=Wb.has(i)?i:_g(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,r){return tA(t,i,r)}build(t,i,r){Zb(t,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,i,r,o){YD(t,i,r,o)}mount(t){this.isSVGTag=Jb(t.tagName),super.mount(t)}}const XD=wg.length;function eA(n){if(!n)return;if(!n.isControllingVariants){const i=n.parent?eA(n.parent)||{}:{};return n.props.initial!==void 0&&(i.initial=n.props.initial),i}const t={};for(let i=0;i<XD;i++){const r=wg[i],o=n.props[r];(cu(o)||o===!1)&&(t[r]=o)}return t}function nA(n,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==n.length)return!1;for(let r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}const $D=[...Sg].reverse(),ZD=Sg.length;function WD(n){return t=>Promise.all(t.map(({animation:i,options:r})=>XC(n,i,r)))}function JD(n){let t=WD(n),i=OT(),r=!0;const o=p=>(g,v)=>{var b;const T=yo(n,v,p==="exit"?(b=n.presenceContext)==null?void 0:b.custom:void 0);if(T){const{transition:R,transitionEnd:N,...j}=T;g={...g,...j,...N}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,v=eA(n.parent)||{},T=[],b=new Set;let R={},N=1/0;for(let O=0;O<ZD;O++){const F=$D[O],X=i[F],K=g[F]!==void 0?g[F]:v[F],st=cu(K),rt=F===p?X.isActive:null;rt===!1&&(N=O);let at=K===v[F]&&K!==g[F]&&st;if(at&&r&&n.manuallyAnimateOnMount&&(at=!1),X.protectedKeys={...R},!X.isActive&&rt===null||!K&&!X.prevProp||af(K)||typeof K=="boolean")continue;if(F==="exit"&&X.isActive&&rt!==!0){X.prevResolvedValues&&(R={...R,...X.prevResolvedValues});continue}const C=tV(X.prevProp,K);let S=C||F===p&&X.isActive&&!at&&st||O>N&&st,x=!1;const P=Array.isArray(K)?K:[K];let I=P.reduce(o(F),{});rt===!1&&(I={});const{prevResolvedValues:U={}}=X,D={...U,...I},Gt=ot=>{S=!0,b.has(ot)&&(x=!0,b.delete(ot)),X.needsAnimating[ot]=!0;const ft=n.getValue(ot);ft&&(ft.liveStyle=!1)};for(const ot in D){const ft=I[ot],Rt=U[ot];if(R.hasOwnProperty(ot))continue;let Nt=!1;vp(ft)&&vp(Rt)?Nt=!nA(ft,Rt):Nt=ft!==Rt,Nt?ft!=null?Gt(ot):b.add(ot):ft!==void 0&&b.has(ot)?Gt(ot):X.protectedKeys[ot]=!0}X.prevProp=K,X.prevResolvedValues=I,X.isActive&&(R={...R,...I}),r&&n.blockInitialAnimation&&(S=!1);const re=at&&C;S&&(!re||x)&&T.push(...P.map(ot=>{const ft={type:F};if(typeof ot=="string"&&r&&!re&&n.manuallyAnimateOnMount&&n.parent){const{parent:Rt}=n,Nt=yo(Rt,ot);if(Rt.enteringChildren&&Nt){const{delayChildren:L}=Nt.transition||{};ft.delay=Sb(Rt.enteringChildren,n,L)}}return{animation:ot,options:ft}}))}if(b.size){const O={};if(typeof g.initial!="boolean"){const F=yo(n,Array.isArray(g.initial)?g.initial[0]:g.initial);F&&F.transition&&(O.transition=F.transition)}b.forEach(F=>{const X=n.getBaseTarget(F),K=n.getValue(F);K&&(K.liveStyle=!0),O[F]=X??null}),T.push({animation:O})}let j=!!T.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(T):Promise.resolve()}function m(p,g){var T;if(i[p].isActive===g)return Promise.resolve();(T=n.variantChildren)==null||T.forEach(b=>{var R;return(R=b.animationState)==null?void 0:R.setActive(p,g)}),i[p].isActive=g;const v=c(p);for(const b in i)i[b].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>i,reset:()=>{i=OT()}}}function tV(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!nA(t,n):!1}function Jr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OT(){return{animate:Jr(!0),whileInView:Jr(),whileHover:Jr(),whileTap:Jr(),whileDrag:Jr(),whileFocus:Jr(),exit:Jr()}}function PT(n,t){n.min=t.min,n.max=t.max}function di(n,t){PT(n.x,t.x),PT(n.y,t.y)}function LT(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const iA=1e-4,eV=1-iA,nV=1+iA,sA=.01,iV=0-sA,sV=0+sA;function pn(n){return n.max-n.min}function rV(n,t,i){return Math.abs(n-t)<=i}function kT(n,t,i,r=.5){n.origin=r,n.originPoint=he(t.min,t.max,n.origin),n.scale=pn(i)/pn(t),n.translate=he(i.min,i.max,n.origin)-n.originPoint,(n.scale>=eV&&n.scale<=nV||isNaN(n.scale))&&(n.scale=1),(n.translate>=iV&&n.translate<=sV||isNaN(n.translate))&&(n.translate=0)}function Wl(n,t,i,r){kT(n.x,t.x,i.x,r?r.originX:void 0),kT(n.y,t.y,i.y,r?r.originY:void 0)}function UT(n,t,i){n.min=i.min+t.min,n.max=n.min+pn(t)}function aV(n,t,i){UT(n.x,t.x,i.x),UT(n.y,t.y,i.y)}function zT(n,t,i){n.min=t.min-i.min,n.max=n.min+pn(t)}function jh(n,t,i){zT(n.x,t.x,i.x),zT(n.y,t.y,i.y)}function jT(n,t,i,r,o){return n-=t,n=zh(n,1/i,r),o!==void 0&&(n=zh(n,1/o,r)),n}function oV(n,t=0,i=1,r=.5,o,u=n,c=n){if(Hi.test(t)&&(t=parseFloat(t),t=he(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=he(u.min,u.max,r);n===u&&(m-=t),n.min=jT(n.min,t,i,m,o),n.max=jT(n.max,t,i,m,o)}function BT(n,t,[i,r,o],u,c){oV(n,t[i],t[r],t[o],t.scale,u,c)}const lV=["x","scaleX","originX"],uV=["y","scaleY","originY"];function FT(n,t,i,r){BT(n.x,t,lV,i?i.x:void 0,r?r.x:void 0),BT(n.y,t,uV,i?i.y:void 0,r?r.y:void 0)}function HT(n){return n.translate===0&&n.scale===1}function rA(n){return HT(n.x)&&HT(n.y)}function qT(n,t){return n.min===t.min&&n.max===t.max}function cV(n,t){return qT(n.x,t.x)&&qT(n.y,t.y)}function GT(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function aA(n,t){return GT(n.x,t.x)&&GT(n.y,t.y)}function KT(n){return pn(n.x)/pn(n.y)}function YT(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function ji(n){return[n("x"),n("y")]}function hV(n,t,i){let r="";const o=n.x.translate/t.x,u=n.y.translate/t.y,c=(i==null?void 0:i.z)||0;if((o||u||c)&&(r=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:v,rotateX:T,rotateY:b,skewX:R,skewY:N}=i;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),T&&(r+=`rotateX(${T}deg) `),b&&(r+=`rotateY(${b}deg) `),R&&(r+=`skewX(${R}deg) `),N&&(r+=`skewY(${N}deg) `)}const m=n.x.scale*t.x,p=n.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const oA=["TopLeft","TopRight","BottomLeft","BottomRight"],fV=oA.length,QT=n=>typeof n=="string"?parseFloat(n):n,XT=n=>typeof n=="number"||yt.test(n);function dV(n,t,i,r,o,u){o?(n.opacity=he(0,i.opacity??1,mV(r)),n.opacityExit=he(t.opacity??1,0,pV(r))):u&&(n.opacity=he(t.opacity??1,i.opacity??1,r));for(let c=0;c<fV;c++){const m=`border${oA[c]}Radius`;let p=$T(t,m),g=$T(i,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||XT(p)===XT(g)?(n[m]=Math.max(he(QT(p),QT(g),r),0),(Hi.test(g)||Hi.test(p))&&(n[m]+="%")):n[m]=g}(t.rotate||i.rotate)&&(n.rotate=he(t.rotate||0,i.rotate||0,r))}function $T(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const mV=lA(0,.5,tb),pV=lA(.5,.95,ti);function lA(n,t,i){return r=>r<n?0:r>t?1:i(ou(n,t,r))}function gV(n,t,i){const r=on(n)?n:Eo(n);return r.start(yg("",r,t,i)),r.animation}function hu(n,t,i,r={passive:!0}){return n.addEventListener(t,i,r),()=>n.removeEventListener(t,i)}const yV=(n,t)=>n.depth-t.depth;class vV{constructor(){this.children=[],this.isDirty=!1}add(t){eg(this.children,t),this.isDirty=!0}remove(t){Oh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(yV),this.isDirty=!1,this.children.forEach(t)}}function _V(n,t){const i=mn.now(),r=({timestamp:o})=>{const u=o-i;u>=t&&(fr(r),n(u-t))};return se.setup(r,!0),()=>fr(r)}function xh(n){return on(n)?n.get():n}class TV{constructor(){this.members=[]}add(t){eg(this.members,t);for(let i=this.members.length-1;i>=0;i--){const r=this.members[i];if(r===t||r===this.lead||r===this.prevLead)continue;const o=r.instance;o&&o.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Oh(this.members,r)}t.scheduleRender()}remove(t){if(Oh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(o=>t===o);if(i===0)return!1;let r;for(let o=i;o>=0;o--){const u=this.members[o],c=u.instance;if(u.isPresent!==!1&&(!c||c.isConnected!==!1)){r=u;break}}return r?(this.promote(r),!0):!1}promote(t,i){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const o=r.options.layoutDependency,u=t.options.layoutDependency;if(!(o!==void 0&&u!==void 0&&o===u)){const p=r.instance;p&&p.isConnected===!1&&!r.snapshot||(t.resumeFrom=r,i&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:m}=t.options;m===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:r}=t;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Um=["","X","Y","Z"],EV=1e3;let bV=0;function zm(n,t,i,r){const{latestValues:o}=t;o[n]&&(i[n]=o[n],t.setStaticValue(n,0),r&&(r[n]=0))}function uA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const i=Db(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(i,"transform",se,!(o||u))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&uA(r)}function cA({attachResizeListener:n,defaultParent:t,measureScroll:i,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},m=t==null?void 0:t()){this.id=bV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wV),this.nodes.forEach(DV),this.nodes.forEach(VV),this.nodes.forEach(xV)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new vV)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new sg),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Ag(c)&&!SD(c),this.instance=c;const{layoutId:m,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),n){let v,T=0;const b=()=>this.root.updateBlockedByResize=!1;se.read(()=>{T=window.innerWidth}),n(c,()=>{const R=window.innerWidth;R!==T&&(T=R,this.root.updateBlockedByResize=!0,v&&v(),v=_V(b,250),Rh.hasAnimatedSinceResize&&(Rh.hasAnimatedSinceResize=!1,this.nodes.forEach(JT)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:T,hasRelativeLayoutChanged:b,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||PV,{onLayoutAnimationStart:j,onLayoutAnimationComplete:O}=g.getProps(),F=!this.targetLayout||!aA(this.targetLayout,R),X=!T&&b;if(this.options.layoutRoot||this.resumeFrom||X||T&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...gg(N,"layout"),onPlay:j,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(v,X)}else T||JT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(WT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CV),this.nodes.forEach(AV),this.nodes.forEach(SV)):this.nodes.forEach(WT),this.clearAllSnapshots();const m=mn.now();tn.delta=Ki(0,1e3/60,m-tn.timestamp),tn.timestamp=m,tn.isProcessing=!0,Vm.update.process(tn),Vm.preRender.process(tn),Vm.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Eg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RV),this.sharedNodes.forEach(NV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!rA(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&this.instance&&(m||ta(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),LV(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return ze();const m=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(kV))){const{scroll:v}=this.root;v&&(fo(m.x,v.offset.x),fo(m.y,v.offset.y))}return m}removeElementScroll(c){var p;const m=ze();if(di(m,c),(p=this.scroll)!=null&&p.wasRoot)return m;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:T,options:b}=v;v!==this.root&&T&&b.layoutScroll&&(T.wasRoot&&di(m,c),fo(m.x,T.offset.x),fo(m.y,T.offset.y))}return m}applyTransform(c,m=!1){const p=ze();di(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&mo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ta(v.latestValues)&&mo(p,v.latestValues)}return ta(this.latestValues)&&mo(p,this.latestValues),p}removeTransform(c){const m=ze();di(m,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!ta(g.latestValues))continue;Sp(g.latestValues)&&g.updateSnapshot();const v=ze(),T=g.measurePageBox();di(v,T),FT(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return ta(this.latestValues)&&FT(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var R;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(R=this.parent)!=null&&R.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:T}=this.options;if(!this.layout||!(v||T))return;this.resolvedRelativeTargetAt=tn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):di(this.target,this.layout.layoutBox),Yb(this.target,this.targetDelta)):di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Sp(this.parent.latestValues)||Kb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),jh(this.relativeTargetOrigin,m,p),di(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var N;const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;di(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,b=this.treeScale.y;PD(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ze());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LT(this.prevProjectionDelta.x,this.projectionDelta.x),LT(this.prevProjectionDelta.y,this.projectionDelta.y)),Wl(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==b||!YT(this.projectionDelta.x,this.prevProjectionDelta.x)||!YT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ho(),this.projectionDelta=ho(),this.projectionDeltaWithTransform=ho()}setAnimationOrigin(c,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},T=ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const b=ze(),R=p?p.source:void 0,N=this.layout?this.layout.source:void 0,j=R!==N,O=this.getStack(),F=!O||O.members.length<=1,X=!!(j&&!F&&this.options.crossfade===!0&&!this.path.some(OV));this.animationProgress=0;let K;this.mixTargetDelta=st=>{const rt=st/1e3;t1(T.x,c.x,rt),t1(T.y,c.y,rt),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jh(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IV(this.relativeTarget,this.relativeTargetOrigin,b,rt),K&&cV(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=ze()),di(K,this.relativeTarget)),j&&(this.animationValues=v,dV(v,g,this.latestValues,rt,X,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var m,p,g;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(g=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||g.stop(),this.pendingAnimation&&(fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=se.update(()=>{Rh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Eo(0)),this.currentAnimation=gV(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=c;if(!(!m||!p||!g)){if(this!==c&&this.layout&&g&&hA(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ze();const T=pn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+T;const b=pn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+b}di(m,p),mo(m,v),Wl(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new TV),this.sharedNodes.get(c).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var m;const{layoutId:c}=this.options;return c?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:c}=this.options;return c?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&zm("z",c,g,this.animationValues);for(let v=0;v<Um.length;v++)zm(`rotate${Um[v]}`,c,g,this.animationValues),zm(`skew${Um[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=xh(m==null?void 0:m.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=xh(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!ta(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let T=hV(this.projectionDeltaWithTransform,this.treeScale,v);p&&(T=p(v,T)),c.transform=T;const{x:b,y:R}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in xp){if(v[N]===void 0)continue;const{correct:j,applyTo:O,isCSSVariable:F}=xp[N],X=T==="none"?v[N]:j(v[N],g);if(O){const K=O.length;for(let st=0;st<K;st++)c[O[st]]=X}else F?this.options.visualElement.renderState.vars[N]=X:c[N]=X}this.options.layoutId&&(c.pointerEvents=g===this?xh(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var m;return(m=c.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(ZT),this.root.sharedNodes.clear()}}}function AV(n){n.updateLayout()}function SV(n){var i;const t=((i=n.resumeFrom)==null?void 0:i.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:u}=n.options,c=t.source!==n.layout.source;u==="size"?ji(T=>{const b=c?t.measuredBox[T]:t.layoutBox[T],R=pn(b);b.min=r[T].min,b.max=b.min+R}):hA(u,t.layoutBox,r)&&ji(T=>{const b=c?t.measuredBox[T]:t.layoutBox[T],R=pn(r[T]);b.max=b.min+R,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[T].max=n.relativeTarget[T].min+R)});const m=ho();Wl(m,r,t.layoutBox);const p=ho();c?Wl(p,n.applyTransform(o,!0),t.measuredBox):Wl(p,r,t.layoutBox);const g=!rA(m);let v=!1;if(!n.resumeFrom){const T=n.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:b,layout:R}=T;if(b&&R){const N=ze();jh(N,t.layoutBox,b.layoutBox);const j=ze();jh(j,r,R.layoutBox),aA(N,j)||(v=!0),T.options.layoutRoot&&(n.relativeTarget=j,n.relativeTargetOrigin=N,n.relativeParent=T)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function wV(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function xV(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function RV(n){n.clearSnapshot()}function ZT(n){n.clearMeasurements()}function WT(n){n.isLayoutDirty=!1}function CV(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function JT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function DV(n){n.resolveTargetDelta()}function VV(n){n.calcProjection()}function MV(n){n.resetSkewAndRotation()}function NV(n){n.removeLeadSnapshot()}function t1(n,t,i){n.translate=he(t.translate,0,i),n.scale=he(t.scale,1,i),n.origin=t.origin,n.originPoint=t.originPoint}function e1(n,t,i,r){n.min=he(t.min,i.min,r),n.max=he(t.max,i.max,r)}function IV(n,t,i,r){e1(n.x,t.x,i.x,r),e1(n.y,t.y,i.y,r)}function OV(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const PV={duration:.45,ease:[.4,0,.1,1]},n1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),i1=n1("applewebkit/")&&!n1("chrome/")?Math.round:ti;function s1(n){n.min=i1(n.min),n.max=i1(n.max)}function LV(n){s1(n.x),s1(n.y)}function hA(n,t,i){return n==="position"||n==="preserve-aspect"&&!rV(KT(t),KT(i),.2)}function kV(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const UV=cA({attachResizeListener:(n,t)=>hu(n,"resize",t),measureScroll:()=>{var n,t;return{x:document.documentElement.scrollLeft||((n=document.body)==null?void 0:n.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),jm={current:void 0},fA=cA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!jm.current){const n=new UV({});n.mount(window),n.setOptions({layoutScroll:!0}),jm.current=n}return jm.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Cg=it.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function r1(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function zV(...n){return t=>{let i=!1;const r=n.map(o=>{const u=r1(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<r.length;o++){const u=r[o];typeof u=="function"?u():r1(n[o],null)}}}}function jV(...n){return it.useCallback(zV(...n),n)}class BV extends it.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=i.offsetParent,o=bp(r)&&r.offsetWidth||0,u=bp(r)&&r.offsetHeight||0,c=this.props.sizeRef.current;c.height=i.offsetHeight||0,c.width=i.offsetWidth||0,c.top=i.offsetTop,c.left=i.offsetLeft,c.right=o-c.width-c.left,c.bottom=u-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function FV({children:n,isPresent:t,anchorX:i,anchorY:r,root:o,pop:u}){var b;const c=it.useId(),m=it.useRef(null),p=it.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=it.useContext(Cg),v=((b=n.props)==null?void 0:b.ref)??(n==null?void 0:n.ref),T=jV(m,v);return it.useInsertionEffect(()=>{const{width:R,height:N,top:j,left:O,right:F,bottom:X}=p.current;if(t||u===!1||!m.current||!R||!N)return;const K=i==="left"?`left: ${O}`:`right: ${F}`,st=r==="bottom"?`bottom: ${X}`:`top: ${j}`;m.current.dataset.motionPopId=c;const rt=document.createElement("style");g&&(rt.nonce=g);const at=o??document.head;return at.appendChild(rt),rt.sheet&&rt.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${R}px !important;
            height: ${N}px !important;
            ${K}px !important;
            ${st}px !important;
          }
        `),()=>{at.contains(rt)&&at.removeChild(rt)}},[t]),V.jsx(BV,{isPresent:t,childRef:m,sizeRef:p,pop:u,children:u===!1?n:it.cloneElement(n,{ref:T})})}const HV=({children:n,initial:t,isPresent:i,onExitComplete:r,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,anchorY:p,root:g})=>{const v=tg(qV),T=it.useId();let b=!0,R=it.useMemo(()=>(b=!1,{id:T,initial:t,isPresent:i,custom:o,onExitComplete:N=>{v.set(N,!0);for(const j of v.values())if(!j)return;r&&r()},register:N=>(v.set(N,!1),()=>v.delete(N))}),[i,v,r]);return u&&b&&(R={...R}),it.useMemo(()=>{v.forEach((N,j)=>v.set(j,!1))},[i]),it.useEffect(()=>{!i&&!v.size&&r&&r()},[i]),n=V.jsx(FV,{pop:c==="popLayout",isPresent:i,anchorX:m,anchorY:p,root:g,children:n}),V.jsx(rf.Provider,{value:R,children:n})};function qV(){return new Map}function dA(n=!0){const t=it.useContext(rf);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:o}=t,u=it.useId();it.useEffect(()=>{if(n)return o(u)},[n]);const c=it.useCallback(()=>n&&r&&r(u),[u,r,n]);return!i&&r?[!1,c]:[!0]}const hh=n=>n.key||"";function a1(n){const t=[];return it.Children.forEach(n,i=>{it.isValidElement(i)&&t.push(i)}),t}const mA=({children:n,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",anchorY:p="top",root:g})=>{const[v,T]=dA(c),b=it.useMemo(()=>a1(n),[n]),R=c&&!v?[]:b.map(hh),N=it.useRef(!0),j=it.useRef(b),O=tg(()=>new Map),F=it.useRef(new Set),[X,K]=it.useState(b),[st,rt]=it.useState(b);HE(()=>{N.current=!1,j.current=b;for(let S=0;S<st.length;S++){const x=hh(st[S]);R.includes(x)?(O.delete(x),F.current.delete(x)):O.get(x)!==!0&&O.set(x,!1)}},[st,R.length,R.join("-")]);const at=[];if(b!==X){let S=[...b];for(let x=0;x<st.length;x++){const P=st[x],I=hh(P);R.includes(I)||(S.splice(x,0,P),at.push(P))}return u==="wait"&&at.length&&(S=at),rt(a1(S)),K(b),null}const{forceRender:C}=it.useContext(Jp);return V.jsx(V.Fragment,{children:st.map(S=>{const x=hh(S),P=c&&!v?!1:b===st||R.includes(x),I=()=>{if(F.current.has(x))return;if(F.current.add(x),O.has(x))O.set(x,!0);else return;let U=!0;O.forEach(D=>{D||(U=!1)}),U&&(C==null||C(),rt(j.current),c&&(T==null||T()),r&&r())};return V.jsx(HV,{isPresent:P,initial:!N.current||i?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,root:g,onExitComplete:P?void 0:I,anchorX:m,anchorY:p,children:S},x)})})},pA=it.createContext({strict:!1}),o1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let l1=!1;function GV(){if(l1)return;const n={};for(const t in o1)n[t]={isEnabled:i=>o1[t].some(r=>!!i[r])};Hb(n),l1=!0}function gA(){return GV(),MD()}function KV(n){const t=gA();for(const i in n)t[i]={...t[i],...n[i]};Hb(t)}const YV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Bh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||YV.has(n)}let yA=n=>!Bh(n);function QV(n){typeof n=="function"&&(yA=t=>t.startsWith("on")?!Bh(t):n(t))}try{QV(require("@emotion/is-prop-valid").default)}catch{}function XV(n,t,i){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(yA(o)||i===!0&&Bh(o)||!t&&!Bh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const lf=it.createContext({});function $V(n,t){if(of(n)){const{initial:i,animate:r}=n;return{initial:i===!1||cu(i)?i:void 0,animate:cu(r)?r:void 0}}return n.inherit!==!1?t:{}}function ZV(n){const{initial:t,animate:i}=$V(n,it.useContext(lf));return it.useMemo(()=>({initial:t,animate:i}),[u1(t),u1(i)])}function u1(n){return Array.isArray(n)?n.join(" "):n}const Dg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vA(n,t,i){for(const r in t)!on(t[r])&&!$b(r,i)&&(n[r]=t[r])}function WV({transformTemplate:n},t){return it.useMemo(()=>{const i=Dg();return xg(i,t,n),Object.assign({},i.vars,i.style)},[t])}function JV(n,t){const i=n.style||{},r={};return vA(r,i,n),Object.assign(r,WV(n,t)),r}function tM(n,t){const i={},r=JV(n,t);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=r,i}const _A=()=>({...Dg(),attrs:{}});function eM(n,t,i,r){const o=it.useMemo(()=>{const u=_A();return Zb(u,t,Jb(r),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};vA(u,n.style,n),o.style={...u,...o.style}}return o}const nM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vg(n){return typeof n!="string"||n.includes("-")?!1:!!(nM.indexOf(n)>-1||/[A-Z]/u.test(n))}function iM(n,t,i,{latestValues:r},o,u=!1,c){const p=(c??Vg(n)?eM:tM)(t,r,o,n),g=XV(t,typeof n=="string",u),v=n!==it.Fragment?{...g,...p,ref:i}:{},{children:T}=t,b=it.useMemo(()=>on(T)?T.get():T,[T]);return it.createElement(n,{...v,children:b})}function sM({scrapeMotionValuesFromProps:n,createRenderState:t},i,r,o){return{latestValues:rM(i,r,o,n),renderState:t()}}function rM(n,t,i,r){const o={},u=r(n,{});for(const b in u)o[b]=xh(u[b]);let{initial:c,animate:m}=n;const p=of(n),g=Bb(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const T=v?m:c;if(T&&typeof T!="boolean"&&!af(T)){const b=Array.isArray(T)?T:[T];for(let R=0;R<b.length;R++){const N=vg(n,b[R]);if(N){const{transitionEnd:j,transition:O,...F}=N;for(const X in F){let K=F[X];if(Array.isArray(K)){const st=v?K.length-1:0;K=K[st]}K!==null&&(o[X]=K)}for(const X in j)o[X]=j[X]}}}return o}const TA=n=>(t,i)=>{const r=it.useContext(lf),o=it.useContext(rf),u=()=>sM(n,t,r,o);return i?u():tg(u)},aM=TA({scrapeMotionValuesFromProps:Rg,createRenderState:Dg}),oM=TA({scrapeMotionValuesFromProps:tA,createRenderState:_A}),lM=Symbol.for("motionComponentSymbol");function uM(n,t,i){const r=it.useRef(i);it.useInsertionEffect(()=>{r.current=i});const o=it.useRef(null);return it.useCallback(u=>{var m;u&&((m=n.onMount)==null||m.call(n,u)),t&&(u?t.mount(u):t.unmount());const c=r.current;if(typeof c=="function")if(u){const p=c(u);typeof p=="function"&&(o.current=p)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[t])}const EA=it.createContext({});function no(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function cM(n,t,i,r,o,u){var K,st;const{visualElement:c}=it.useContext(lf),m=it.useContext(pA),p=it.useContext(rf),g=it.useContext(Cg),v=g.reducedMotion,T=g.skipAnimations,b=it.useRef(null),R=it.useRef(!1);r=r||m.renderer,!b.current&&r&&(b.current=r(n,{visualState:t,parent:c,props:i,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:v,skipAnimations:T,isSVG:u}),R.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const N=b.current,j=it.useContext(EA);N&&!N.projection&&o&&(N.type==="html"||N.type==="svg")&&hM(b.current,i,o,j);const O=it.useRef(!1);it.useInsertionEffect(()=>{N&&O.current&&N.update(i,p)});const F=i[Cb],X=it.useRef(!!F&&!((K=window.MotionHandoffIsComplete)!=null&&K.call(window,F))&&((st=window.MotionHasOptimisedAnimation)==null?void 0:st.call(window,F)));return HE(()=>{R.current=!0,N&&(O.current=!0,window.MotionIsMounted=!0,N.updateFeatures(),N.scheduleRenderMicrotask(),X.current&&N.animationState&&N.animationState.animateChanges())}),it.useEffect(()=>{N&&(!X.current&&N.animationState&&N.animationState.animateChanges(),X.current&&(queueMicrotask(()=>{var rt;(rt=window.MotionHandoffMarkAsComplete)==null||rt.call(window,F)}),X.current=!1),N.enteringChildren=void 0)}),N}function hM(n,t,i,r){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new i(n.latestValues,t["data-framer-portal-id"]?void 0:bA(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&no(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:p,layoutRoot:g})}function bA(n){if(n)return n.options.allowProjection!==!1?n.projection:bA(n.parent)}function Bm(n,{forwardMotionProps:t=!1,type:i}={},r,o){r&&KV(r);const u=i?i==="svg":Vg(n),c=u?oM:aM;function m(g,v){let T;const b={...it.useContext(Cg),...g,layoutId:fM(g)},{isStatic:R}=b,N=ZV(g),j=c(g,R);if(!R&&FE){dM();const O=mM(b);T=O.MeasureLayout,N.visualElement=cM(n,j,b,o,O.ProjectionNode,u)}return V.jsxs(lf.Provider,{value:N,children:[T&&N.visualElement?V.jsx(T,{visualElement:N.visualElement,...b}):null,iM(n,g,uM(j,N.visualElement,v),j,R,t,u)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=it.forwardRef(m);return p[lM]=n,p}function fM({layoutId:n}){const t=it.useContext(Jp).id;return t&&n!==void 0?t+"-"+n:n}function dM(n,t){it.useContext(pA).strict}function mM(n){const t=gA(),{drag:i,layout:r}=t;if(!i&&!r)return{};const o={...i,...r};return{MeasureLayout:i!=null&&i.isEnabled(n)||r!=null&&r.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function pM(n,t){if(typeof Proxy>"u")return Bm;const i=new Map,r=(u,c)=>Bm(u,c,n,t),o=(u,c)=>r(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?r:(i.has(c)||i.set(c,Bm(c,void 0,n,t)),i.get(c))})}const gM=(n,t)=>t.isSVG??Vg(n)?new QD(t):new FD(t,{allowProjection:n!==it.Fragment});class yM extends Tr{constructor(t){super(t),t.animationState||(t.animationState=JD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();af(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let vM=0;class _M extends Tr{constructor(){super(...arguments),this.id=vM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);i&&!t&&o.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const TM={animation:{Feature:yM},exit:{Feature:_M}};function xu(n){return{point:{x:n.pageX,y:n.pageY}}}const EM=n=>t=>bg(t)&&n(t,xu(t));function Jl(n,t,i,r){return hu(n,t,EM(i),r)}const AA=({current:n})=>n?n.ownerDocument.defaultView:null,c1=(n,t)=>Math.abs(n-t);function bM(n,t){const i=c1(n.x,t.x),r=c1(n.y,t.y);return Math.sqrt(i**2+r**2)}const h1=new Set(["auto","scroll"]);class SA{constructor(t,i,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=R=>{this.handleScroll(R.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Hm(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,j=bM(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!j)return;const{point:O}=R,{timestamp:F}=tn;this.history.push({...O,timestamp:F});const{onStart:X,onMove:K}=this.handlers;N||(X&&X(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,R)},this.handlePointerMove=(R,N)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=Fm(N,this.transformPagePoint),se.update(this.updatePoint,!0)},this.handlePointerUp=(R,N)=>{this.end();const{onEnd:j,onSessionEnd:O,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const X=Hm(R.type==="pointercancel"?this.lastMoveEventInfo:Fm(N,this.transformPagePoint),this.history);this.startEvent&&j&&j(R,X),O&&O(R,X)},!bg(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const p=xu(t),g=Fm(p,this.transformPagePoint),{point:v}=g,{timestamp:T}=tn;this.history=[{...v,timestamp:T}];const{onSessionStart:b}=i;b&&b(t,Hm(g,this.history)),this.removeListeners=Au(Jl(this.contextWindow,"pointermove",this.handlePointerMove),Jl(this.contextWindow,"pointerup",this.handlePointerUp),Jl(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(t){let i=t.parentElement;for(;i;){const r=getComputedStyle(i);(h1.has(r.overflowX)||h1.has(r.overflowY))&&this.scrollPositions.set(i,{x:i.scrollLeft,y:i.scrollTop}),i=i.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const i=this.scrollPositions.get(t);if(!i)return;const r=t===window,o=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:o.x-i.x,y:o.y-i.y};u.x===0&&u.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,o),se.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),fr(this.updatePoint)}}function Fm(n,t){return t?{point:t(n.point)}:n}function f1(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Hm({point:n},t){return{point:n,delta:f1(n,wA(t)),offset:f1(n,AM(t)),velocity:SM(t,.1)}}function AM(n){return n[0]}function wA(n){return n[n.length-1]}function SM(n,t){if(n.length<2)return{x:0,y:0};let i=n.length-1,r=null;const o=wA(n);for(;i>=0&&(r=n[i],!(o.timestamp-r.timestamp>pi(t)));)i--;if(!r)return{x:0,y:0};r===n[0]&&n.length>2&&o.timestamp-r.timestamp>pi(t)*2&&(r=n[1]);const u=Jn(o.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-r.x)/u,y:(o.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function wM(n,{min:t,max:i},r){return t!==void 0&&n<t?n=r?he(t,n,r.min):Math.max(n,t):i!==void 0&&n>i&&(n=r?he(i,n,r.max):Math.min(n,i)),n}function d1(n,t,i){return{min:t!==void 0?n.min+t:void 0,max:i!==void 0?n.max+i-(n.max-n.min):void 0}}function xM(n,{top:t,left:i,bottom:r,right:o}){return{x:d1(n.x,i,o),y:d1(n.y,t,r)}}function m1(n,t){let i=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([i,r]=[r,i]),{min:i,max:r}}function RM(n,t){return{x:m1(n.x,t.x),y:m1(n.y,t.y)}}function CM(n,t){let i=.5;const r=pn(n),o=pn(t);return o>r?i=ou(t.min,t.max-r,n.min):r>o&&(i=ou(n.min,n.max-o,t.min)),Ki(0,1,i)}function DM(n,t){const i={};return t.min!==void 0&&(i.min=t.min-n.min),t.max!==void 0&&(i.max=t.max-n.min),i}const Rp=.35;function VM(n=Rp){return n===!1?n=0:n===!0&&(n=Rp),{x:p1(n,"left","right"),y:p1(n,"top","bottom")}}function p1(n,t,i){return{min:g1(n,t),max:g1(n,i)}}function g1(n,t){return typeof n=="number"?n:n[t]||0}const MM=new WeakMap;class NM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=T=>{i&&this.snapToCursor(xu(T).point),this.stopAnimation()},c=(T,b)=>{const{drag:R,dragPropagation:N,onDragStart:j}=this.getProps();if(R&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oD(R),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ji(F=>{let X=this.getAxisMotionValue(F).get()||0;if(Hi.test(X)){const{projection:K}=this.visualElement;if(K&&K.layout){const st=K.layout.layoutBox[F];st&&(X=pn(st)*(parseFloat(X)/100))}}this.originPoint[F]=X}),j&&se.update(()=>j(T,b),!1,!0),_p(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},m=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b;const{dragPropagation:R,dragDirectionLock:N,onDirectionLock:j,onDrag:O}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:F}=b;if(N&&this.currentDirection===null){this.currentDirection=OM(F),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",b.point,F),this.updateAxis("y",b.point,F),this.visualElement.render(),O&&se.update(()=>O(T,b),!1,!0)},p=(T,b)=>{this.latestPointerEvent=T,this.latestPanInfo=b,this.stop(T,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:T}=this.getProps();(T||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:v}=this.getProps();this.panSession=new SA(t,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:r,contextWindow:AA(this.visualElement),element:this.visualElement.current})}stop(t,i){const r=t||this.latestPointerEvent,o=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&se.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,i,r){const{drag:o}=this.getProps();if(!r||!fh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=wM(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,o=this.constraints;t&&no(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=xM(r.layoutBox,t):this.constraints=!1,this.elastic=VM(i),o!==this.constraints&&!no(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&ji(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=DM(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!no(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=LD(r,o.root,this.visualElement.getTransformPagePoint());let c=RM(o.layout.layoutBox,u);if(i){const m=i(ID(c));this.hasMutatedConstraints=!!m,m&&(c=Gb(m))}return c}startAnimation(t){const{drag:i,dragMomentum:r,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=ji(v=>{if(!fh(v,i,this.currentDirection))return;let T=p&&p[v]||{};c&&(T={min:0,max:0});const b=o?200:1e6,R=o?40:1e7,N={type:"inertia",velocity:r?t[v]:0,bounceStiffness:b,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(v,N)});return Promise.all(g).then(m)}startAxisValueAnimation(t,i){const r=this.getAxisMotionValue(t);return _p(this.visualElement,t),r.start(yg(t,r,0,i,this.visualElement,!1))}stopAnimation(){ji(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[i];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ji(i=>{const{drag:r}=this.getProps();if(!fh(i,r,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(i);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[i],p=u.get()||0;u.set(t[i]-he(c,m,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!no(i)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ji(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=CM({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),ji(c=>{if(!fh(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];m.set(he(p,g,o[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;MM.set(this.visualElement,this);const t=this.visualElement.current,i=Jl(t,"pointerdown",g=>{const{drag:v,dragListener:T=!0}=this.getProps(),b=g.target,R=b!==t&&dD(b);v&&T&&!R&&this.start(g)});let r;const o=()=>{const{dragConstraints:g}=this.getProps();no(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),r||(r=IM(t,g.current,()=>this.scalePositionWithinConstraints())))},{projection:u}=this.visualElement,c=u.addEventListener("measure",o);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),se.read(o);const m=hu(window,"resize",()=>this.scalePositionWithinConstraints()),p=u.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:v})=>{this.isDragging&&v&&(ji(T=>{const b=this.getAxisMotionValue(T);b&&(this.originPoint[T]+=g[T].translate,b.set(b.get()+g[T].translate))}),this.visualElement.render())}));return()=>{m(),i(),c(),p&&p(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Rp,dragMomentum:m=!0}=t;return{...t,drag:i,dragDirectionLock:r,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function y1(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function IM(n,t,i){const r=ST(n,y1(i)),o=ST(t,y1(i));return()=>{r(),o()}}function fh(n,t,i){return(t===!0||t===n)&&(i===null||i===n)}function OM(n,t=10){let i=null;return Math.abs(n.y)>t?i="y":Math.abs(n.x)>t&&(i="x"),i}class PM extends Tr{constructor(t){super(t),this.removeGroupControls=ti,this.removeListeners=ti,this.controls=new NM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ti}update(){const{dragControls:t}=this.node.getProps(),{dragControls:i}=this.node.prevProps||{};t!==i&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const qm=n=>(t,i)=>{n&&se.update(()=>n(t,i),!1,!0)};class LM extends Tr{constructor(){super(...arguments),this.removePointerDownListener=ti}onPointerDown(t){this.session=new SA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:qm(t),onStart:qm(i),onMove:qm(r),onEnd:(u,c)=>{delete this.session,o&&se.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Jl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Gm=!1;class kM extends it.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r,layoutId:o}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),r&&r.register&&o&&r.register(u),Gm&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:r,drag:o,isPresent:u}=this.props,{projection:c}=r;return c&&(c.isPresent=u,t.layoutDependency!==i&&c.setOptions({...c.options,layoutDependency:i}),Gm=!0,o||t.layoutDependency!==i||i===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||se.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Eg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:o}=t;Gm=!0,o&&(o.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xA(n){const[t,i]=dA(),r=it.useContext(Jp);return V.jsx(kM,{...n,layoutGroup:r,switchLayoutGroup:it.useContext(EA),isPresent:t,safeToRemove:i})}const UM={pan:{Feature:LM},drag:{Feature:PM,ProjectionNode:fA,MeasureLayout:xA}};function v1(n,t,i){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",i==="Start");const o="onHover"+i,u=r[o];u&&se.postRender(()=>u(t,xu(t)))}class zM extends Tr{mount(){const{current:t}=this.node;t&&(this.unmount=uD(t,(i,r)=>(v1(this.node,r,"Start"),o=>v1(this.node,o,"End"))))}unmount(){}}class jM extends Tr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Au(hu(this.node.current,"focus",()=>this.onFocus()),hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _1(n,t,i){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",i==="Start");const o="onTap"+(i==="End"?"":i),u=r[o];u&&se.postRender(()=>u(t,xu(t)))}class BM extends Tr{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:i,propagate:r}=this.node.props;this.unmount=pD(t,(o,u)=>(_1(this.node,u,"Start"),(c,{success:m})=>_1(this.node,c,m?"End":"Cancel")),{useGlobalTarget:i,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}}const Cp=new WeakMap,Km=new WeakMap,FM=n=>{const t=Cp.get(n.target);t&&t(n)},HM=n=>{n.forEach(FM)};function qM({root:n,...t}){const i=n||document;Km.has(i)||Km.set(i,{});const r=Km.get(i),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(HM,{root:n,...t})),r[o]}function GM(n,t,i){const r=qM(t);return Cp.set(n,i),r.observe(n),()=>{Cp.delete(n),r.unobserve(n)}}const KM={some:0,all:1};class YM extends Tr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:r,amount:o="some",once:u}=t,c={root:i?i.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:KM[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),b=g?v:T;b&&b(p)};return GM(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(QM(t,i))&&this.startObserver()}unmount(){}}function QM({viewport:n={}},{viewport:t={}}={}){return i=>n[i]!==t[i]}const XM={inView:{Feature:YM},tap:{Feature:BM},focus:{Feature:jM},hover:{Feature:zM}},$M={layout:{ProjectionNode:fA,MeasureLayout:xA}},ZM={...TM,...XM,...UM,...$M},fu=pM(ZM,gM),Dp=(n=10)=>{typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(n)},Ym=n=>{const t=[],{tiers:i,totalCards:r}=n;i.forEach(u=>{for(let c=0;c<u.count;c++)t.push(T1(t.length+1,!0,u.amount))});const o=r-t.length;for(let u=0;u<o;u++)t.push(T1(t.length+1,!1,0));for(let u=t.length-1;u>0;u--){const c=Math.floor(Math.random()*(u+1));[t[u],t[c]]=[t[c],t[u]]}return t.map((u,c)=>({...u,id:c+1}))},WM=(n=0)=>{const i=[10,20,50,100,200,500,1e3].filter(r=>r!==n);return i[Math.floor(Math.random()*i.length)]},T1=(n,t,i)=>{const r=[];let o=!1,u=0;const c=[];if(t)if(i>=20&&Math.random()>.5){const v=Math.floor(Math.random()*3);let T=Math.floor(Math.random()*3);for(;T===v;)T=Math.floor(Math.random()*3);const b=Math.ceil(i/2),R=i-b;c.push({index:v,amount:b}),c.push({index:T,amount:R})}else{const v=Math.floor(Math.random()*3);c.push({index:v,amount:i})}for(let g=0;g<2;g++){const v=c.find(O=>O.index===g),T=!!v,b=v?v.amount:0,R=T?b:WM(i);let N,j;T?(j=Math.floor(Math.random()*8)+1,N=Math.floor(Math.random()*(9-j))+j+1):(N=Math.floor(Math.random()*8)+1,j=Math.floor(Math.random()*(9-N))+N+1),r.push({my:N,house:j,isWin:T,prize:R})}const m=c.find(g=>g.index===2);m?(o=!0,u=m.amount):(o=!1,u=0);const p=r.reduce((g,v)=>g+(v.isWin?v.prize:0),0)+(o?u:0);return{id:n,isWin:t,games:r,bonusPrize:u,isBonusWin:o,totalPrizeAmount:p,isPlayed:!1}},JM="https://assets.mixkit.co/active_storage/sfx/2578/2578-preview.mp3",t4="https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3";class e4{constructor(){this.bgMusicAudio=null,this.isScratching=!1,this.bgMusicLoopStart=0,this.bgMusicLoopEnd=0,this.scratchAudio=new Audio(JM),this.scratchAudio.loop=!0,this.scratchAudio.volume=.5,this.winAudio=new Audio(t4),this.winAudio.volume=.8}setScratchSound(t){t&&t!==this.scratchAudio.src&&(this.stopScratch(),this.scratchAudio=new Audio(t),this.scratchAudio.loop=!0,this.scratchAudio.volume=.5)}playScratch(){this.isScratching||(this.scratchAudio.play().catch(()=>{}),this.isScratching=!0)}stopScratch(){this.isScratching&&(this.scratchAudio.pause(),this.scratchAudio.currentTime=0,this.isScratching=!1)}playWin(){this.winAudio.currentTime=0,this.winAudio.play().catch(()=>{})}setBgMusic(t,i=0,r=0){if(this.bgMusicAudio&&this.bgMusicAudio.src===t){this.bgMusicLoopStart=i,this.bgMusicLoopEnd=r;return}this.bgMusicAudio&&(this.bgMusicAudio.pause(),this.bgMusicAudio=null),t&&(this.bgMusicAudio=new Audio(t),this.bgMusicAudio.loop=!0,this.bgMusicAudio.volume=.3,this.bgMusicLoopStart=i,this.bgMusicLoopEnd=r,this.bgMusicAudio.ontimeupdate=()=>{this.bgMusicAudio&&this.bgMusicLoopEnd>0&&this.bgMusicAudio.currentTime>=this.bgMusicLoopEnd&&(this.bgMusicAudio.currentTime=this.bgMusicLoopStart,this.bgMusicAudio.play().catch(()=>{}))})}setBgMusicEnabled(t){t?this.playBgMusic():this.stopBgMusic()}playBgMusic(){this.bgMusicAudio&&(this.bgMusicLoopStart>0&&this.bgMusicAudio.currentTime<this.bgMusicLoopStart&&(this.bgMusicAudio.currentTime=this.bgMusicLoopStart),this.bgMusicAudio.play().catch(()=>{console.log("Auto-play blocked, waiting for interaction")}))}stopBgMusic(){this.bgMusicAudio&&this.bgMusicAudio.pause()}}const n4=({width:n,height:t,imageSrc:i,onScratchStart:r,onScratchEnd:o,onRevealComplete:u,isRevealed:c,brushSize:m=25,threshold:p=50})=>{const g=it.useRef(null),[v,T]=it.useState(!1),[b,R]=it.useState(!1),N=it.useRef(null),j=it.useRef(),O=it.useCallback(()=>{const at=g.current;if(!at)return;const C=at.getContext("2d",{willReadFrequently:!0});if(!C)return;const S=window.devicePixelRatio||1;at.width=n*S,at.height=t*S,C.scale(S,S),at.style.width=`${n}px`,at.style.height=`${t}px`;const x=new Image;x.src=i,x.crossOrigin="Anonymous",x.onload=()=>{C.globalCompositeOperation="source-over",C.drawImage(x,0,0,n,t),R(!0),C.globalCompositeOperation="destination-out"},x.onerror=()=>{C.fillStyle="#C0C0C0",C.fillRect(0,0,n,t),C.font="20px sans-serif",C.fillStyle="#000",C.fillText("Scratch Here",n/2-50,t/2),R(!0),C.globalCompositeOperation="destination-out"}},[n,t,i]);it.useEffect(()=>{O()},[O]),it.useEffect(()=>{if(c&&g.current){const at=g.current;at.style.transition="opacity 0.8s ease-out",at.style.opacity="0",setTimeout(()=>{at.style.display="none"},800)}},[c]);const F=it.useCallback(()=>{const at=g.current;if(!at)return;const C=at.getContext("2d");if(!C)return;const S=at.width,x=at.height,I=C.getImageData(0,0,S,x).data;let U=0;const D=15,Gt=I.length/4/D;for(let $=0;$<I.length;$+=D*4)I[$+3]===0&&U++;U/Gt*100>p&&!c&&u()},[c,u,p]),X=it.useCallback((at,C)=>{if(!b)return;const S=g.current;if(!S)return;const x=S.getContext("2d");x&&(x.beginPath(),x.arc(at,C,m,0,Math.PI*2),x.fill(),N.current&&(x.beginPath(),x.lineWidth=m*2,x.lineCap="round",x.moveTo(N.current.x,N.current.y),x.lineTo(at,C),x.stroke()),N.current={x:at,y:C},j.current||(j.current=requestAnimationFrame(()=>{F(),j.current=void 0})))},[m,F,b]),K=at=>{T(!0),N.current=null,r(),Dp(5)},st=()=>{T(!1),N.current=null,o()},rt=at=>{if(!v)return;let C,S;"touches"in at?(C=at.touches[0].clientX,S=at.touches[0].clientY,Dp(2)):(C=at.clientX,S=at.clientY);const x=g.current;if(!x)return;const P=x.getBoundingClientRect(),I=C-P.left,U=S-P.top;X(I,U)};return V.jsx("canvas",{ref:g,className:"absolute top-0 left-0 cursor-crosshair touch-none rounded-xl z-20",onMouseDown:K,onMouseUp:st,onMouseMove:rt,onMouseLeave:st,onTouchStart:K,onTouchEnd:st,onTouchMove:rt,style:{touchAction:"none"}})},i4=({isOpen:n,result:t,onBackToList:i,onViewCard:r,winMessage:o,loseMessage:u})=>V.jsx(mA,{children:n&&V.jsx(fu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:V.jsxs(fu.div,{initial:{scale:.8,y:50,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.8,y:50,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"bg-white rounded-3xl p-6 w-full max-w-sm shadow-2xl text-center relative overflow-hidden",children:[V.jsx("div",{className:`absolute top-0 left-0 w-full h-32 rounded-b-[50%] -translate-y-16 -z-0 opacity-20 ${t.isWin?"bg-yellow-400":"bg-gray-400"}`}),V.jsxs("div",{className:"relative z-10",children:[t.isWin?V.jsxs(V.Fragment,{children:[V.jsx("div",{className:"mx-auto w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-3 text-yellow-500 shadow-inner",children:V.jsx(lo,{size:32})}),V.jsx("h2",{className:"text-3xl font-black text-gray-800 mb-1",children:o}),V.jsx("p",{className:"text-gray-500 mb-4 text-sm",children:":"}),V.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-2xl p-4 mb-4",children:V.jsxs("span",{className:"text-5xl font-black text-yellow-500 drop-shadow-sm",children:["$",t.totalPrizeAmount]})})]}):V.jsxs(V.Fragment,{children:[V.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-3 text-gray-400",children:V.jsx("span",{className:"text-3xl",children:""})}),V.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:u}),V.jsx("p",{className:"text-gray-500 mb-4 text-sm",children:""})]}),V.jsxs("div",{className:"space-y-2 mb-6 text-left bg-gray-50 p-3 rounded-xl",children:[t.games.map((c,m)=>V.jsxs("div",{className:"flex items-center justify-between mb-2 last:mb-0 border-b border-gray-100 pb-1 last:border-0",children:[V.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase w-12",children:[" ",m+1," "]}),V.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-center",children:[V.jsx("span",{className:"text-sm text-gray-600 font-bold",children:c.house}),V.jsx("span",{className:"text-xs text-gray-400",children:"vs"}),V.jsx("span",{className:"text-sm text-gray-600 font-bold",children:c.my})]}),c.isWin?V.jsx(W_,{size:16,className:"text-green-500"}):V.jsx(J_,{size:16,className:"text-gray-300"})]},m)),V.jsxs("div",{className:"flex items-center justify-between pt-1",children:[V.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase w-12",children:""}),V.jsx("span",{className:"text-xs text-gray-500 font-bold",children:t.isBonusWin?` $${t.bonusPrize}`:""}),t.isBonusWin?V.jsx(W_,{size:16,className:"text-green-500"}):V.jsx(J_,{size:16,className:"text-gray-300"})]})]}),V.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[V.jsxs("button",{onClick:r,className:"w-full bg-gray-100 text-gray-600 font-bold py-3 rounded-xl shadow-sm hover:bg-gray-200 transition-all flex items-center justify-center gap-2",children:[V.jsx(z2,{size:18}),""]}),V.jsxs("button",{onClick:i,className:"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-white font-bold py-3 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all flex items-center justify-center gap-2",children:[V.jsx(H2,{size:18}),""]})]})]})]})})}),s4=()=>{};var E1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=function(n){const t=[];let i=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},r4=function(n){const t=[];let i=0,r=0;for(;i<n.length;){const o=n[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[i++],c=n[i++],m=n[i++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],c=n[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},CA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,m=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,R=g&63;p||(R=64,c||(b=64)),r.push(i[v],i[T],i[b],i[R])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(RA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):r4(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=i[n.charAt(o++)],m=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const T=o<n.length?i[n.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new a4;const b=u<<2|m>>4;if(r.push(b),g!==64){const R=m<<4&240|g>>2;if(r.push(R),T!==64){const N=g<<6&192|T;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class a4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o4=function(n){const t=RA(n);return CA.encodeByteArray(t,!0)},Fh=function(n){return o4(n).replace(/\./g,"")},l4=function(n){try{return CA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=()=>u4().__FIREBASE_DEFAULTS__,h4=()=>{if(typeof process>"u"||typeof E1>"u")return;const n=E1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},f4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&l4(n[1]);return t&&JSON.parse(t)},Mg=()=>{try{return s4()||c4()||h4()||f4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},d4=n=>{var t,i;return(i=(t=Mg())==null?void 0:t.emulatorHosts)==null?void 0:i[n]},m4=n=>{const t=d4(n);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},DA=()=>{var n;return(n=Mg())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Fh(JSON.stringify(i)),Fh(JSON.stringify(c)),""].join(".")}const tu={};function y4(){const n={prod:[],emulator:[]};for(const t of Object.keys(tu))tu[t]?n.emulator.push(t):n.prod.push(t);return n}function v4(n){let t=document.getElementById(n),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),i=!0),{created:i,element:t}}let b1=!1;function _4(n,t){if(typeof window>"u"||typeof document>"u"||!Ru(window.location.host)||tu[n]===t||tu[n]||b1)return;tu[n]=t;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",u=y4().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{b1=!0,c()},b}function v(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=v4(r),R=i("text"),N=document.getElementById(R)||document.createElement("span"),j=i("learnmore"),O=document.getElementById(j)||document.createElement("a"),F=i("preprendIcon"),X=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const K=b.element;m(K),v(O,j);const st=g();p(X,F),K.append(X,N,O,st),document.body.appendChild(K)}u?(N.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E4(){var t;const n=(t=Mg())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b4(){return!E4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A4(){try{return typeof indexedDB=="object"}catch{return!1}}function S4(){return new Promise((n,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="FirebaseError";class fa extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=w4,Object.setPrototypeOf(this,fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,MA.prototype.create)}}class MA{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?x4(u,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new fa(o,m,r)}}function x4(n,t){return n.replace(R4,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const R4=/\{\$([^}]+)}/g;function Hh(n,t){if(n===t)return!0;const i=Object.keys(n),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=n[o],c=t[o];if(A1(u)&&A1(c)){if(!Hh(u,c))return!1}else if(u!==c)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function A1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(n){return n&&n._delegate?n._delegate:n}class bo{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new p4;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(V4(t))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ea){return this.instances.has(t)}getOptions(t=ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&c.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D4(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ea){return this.component?this.component.multipleInstances?t:ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D4(n){return n===ea?void 0:n}function V4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new C4(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const N4={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},I4=Bt.INFO,O4={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},P4=(n,t,...i)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=O4[t];if(o)console[o](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class NA{constructor(t){this.name=t,this._logLevel=I4,this._logHandler=P4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?N4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const L4=(n,t)=>t.some(i=>n instanceof i);let S1,w1;function k4(){return S1||(S1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U4(){return w1||(w1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IA=new WeakMap,Vp=new WeakMap,OA=new WeakMap,Qm=new WeakMap,Ng=new WeakMap;function z4(n){const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{i(ar(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(i=>{i instanceof IDBCursor&&IA.set(i,n)}).catch(()=>{}),Ng.set(t,n),t}function j4(n){if(Vp.has(n))return;const t=new Promise((i,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{i(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Vp.set(n,t)}let Mp={get(n,t,i){if(n instanceof IDBTransaction){if(t==="done")return Vp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||OA.get(n);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(n[t])},set(n,t,i){return n[t]=i,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function B4(n){Mp=n(Mp)}function F4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=n.call(Xm(this),t,...i);return OA.set(r,t.sort?t.sort():[t]),ar(r)}:U4().includes(n)?function(...t){return n.apply(Xm(this),t),ar(IA.get(this))}:function(...t){return ar(n.apply(Xm(this),t))}}function H4(n){return typeof n=="function"?F4(n):(n instanceof IDBTransaction&&j4(n),L4(n,k4())?new Proxy(n,Mp):n)}function ar(n){if(n instanceof IDBRequest)return z4(n);if(Qm.has(n))return Qm.get(n);const t=H4(n);return t!==n&&(Qm.set(n,t),Ng.set(t,n)),t}const Xm=n=>Ng.get(n);function q4(n,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const c=indexedDB.open(n,t),m=ar(c);return r&&c.addEventListener("upgradeneeded",p=>{r(ar(c.result),p.oldVersion,p.newVersion,ar(c.transaction),p)}),i&&c.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const G4=["get","getKey","getAll","getAllKeys","count"],K4=["put","add","delete","clear"],$m=new Map;function x1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if($m.get(t))return $m.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=K4.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||G4.includes(i)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return $m.set(t,u),u}B4(n=>({...n,get:(t,i,r)=>x1(t,i)||n.get(t,i,r),has:(t,i)=>!!x1(t,i)||n.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Q4(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Q4(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Np="@firebase/app",R1="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new NA("@firebase/app"),X4="@firebase/app-compat",$4="@firebase/analytics-compat",Z4="@firebase/analytics",W4="@firebase/app-check-compat",J4="@firebase/app-check",tN="@firebase/auth",eN="@firebase/auth-compat",nN="@firebase/database",iN="@firebase/data-connect",sN="@firebase/database-compat",rN="@firebase/functions",aN="@firebase/functions-compat",oN="@firebase/installations",lN="@firebase/installations-compat",uN="@firebase/messaging",cN="@firebase/messaging-compat",hN="@firebase/performance",fN="@firebase/performance-compat",dN="@firebase/remote-config",mN="@firebase/remote-config-compat",pN="@firebase/storage",gN="@firebase/storage-compat",yN="@firebase/firestore",vN="@firebase/ai",_N="@firebase/firestore-compat",TN="firebase",EN="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="[DEFAULT]",bN={[Np]:"fire-core",[X4]:"fire-core-compat",[Z4]:"fire-analytics",[$4]:"fire-analytics-compat",[J4]:"fire-app-check",[W4]:"fire-app-check-compat",[tN]:"fire-auth",[eN]:"fire-auth-compat",[nN]:"fire-rtdb",[iN]:"fire-data-connect",[sN]:"fire-rtdb-compat",[rN]:"fire-fn",[aN]:"fire-fn-compat",[oN]:"fire-iid",[lN]:"fire-iid-compat",[uN]:"fire-fcm",[cN]:"fire-fcm-compat",[hN]:"fire-perf",[fN]:"fire-perf-compat",[dN]:"fire-rc",[mN]:"fire-rc-compat",[pN]:"fire-gcs",[gN]:"fire-gcs-compat",[yN]:"fire-fst",[_N]:"fire-fst-compat",[vN]:"fire-vertex","fire-js":"fire-js",[TN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Map,AN=new Map,Op=new Map;function C1(n,t){try{n.container.addComponent(t)}catch(i){ys.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,i)}}function du(n){const t=n.name;if(Op.has(t))return ys.debug(`There were multiple attempts to register component ${t}.`),!1;Op.set(t,n);for(const i of qh.values())C1(i,n);for(const i of AN.values())C1(i,n);return!0}function PA(n,t){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(t)}function LA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new MA("app","Firebase",SN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=EN;function UA(n,t={}){let i=n;typeof t!="object"&&(t={name:t});const r={name:Ip,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw or.create("bad-app-name",{appName:String(o)});if(i||(i=DA()),!i)throw or.create("no-options");const u=qh.get(o);if(u){if(Hh(i,u.options)&&Hh(r,u.config))return u;throw or.create("duplicate-app",{appName:o})}const c=new M4(o);for(const p of Op.values())c.addComponent(p);const m=new wN(i,r,c);return qh.set(o,m),m}function xN(n=Ip){const t=qh.get(n);if(!t&&n===Ip&&DA())return UA();if(!t)throw or.create("no-app",{appName:n});return t}function lr(n,t,i){let r=bN[n]??n;i&&(r+=`-${i}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ys.warn(c.join(" "));return}du(new bo(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="firebase-heartbeat-database",CN=1,mu="firebase-heartbeat-store";let Zm=null;function zA(){return Zm||(Zm=q4(RN,CN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(mu)}catch(i){console.warn(i)}}}}).catch(n=>{throw or.create("idb-open",{originalErrorMessage:n.message})})),Zm}async function DN(n){try{const i=(await zA()).transaction(mu),r=await i.objectStore(mu).get(jA(n));return await i.done,r}catch(t){if(t instanceof fa)ys.warn(t.message);else{const i=or.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ys.warn(i.message)}}}async function D1(n,t){try{const r=(await zA()).transaction(mu,"readwrite");await r.objectStore(mu).put(t,jA(n)),await r.done}catch(i){if(i instanceof fa)ys.warn(i.message);else{const r=or.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ys.warn(r.message)}}}function jA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=1024,MN=30;class NN{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ON(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=V1();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>MN){const c=PN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ys.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=V1(),{heartbeatsToSend:r,unsentEntries:o}=IN(this._heartbeatsCache.heartbeats),u=Fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return ys.warn(i),""}}}function V1(){return new Date().toISOString().substring(0,10)}function IN(n,t=VN){const i=[];let r=n.slice();for(const o of n){const u=i.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),M1(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),M1(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class ON{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A4()?S4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await DN(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return D1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return D1(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function M1(n){return Fh(JSON.stringify({version:2,heartbeats:n})).length}function PN(n){if(n.length===0)return-1;let t=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(n){du(new bo("platform-logger",t=>new Y4(t),"PRIVATE")),du(new bo("heartbeat",t=>new NN(t),"PRIVATE")),lr(Np,R1,n),lr(Np,R1,"esm2020"),lr("fire-js","")}LN("");var kN="firebase",UN="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(kN,UN,"app");var N1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ur,BA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,S){function x(){}x.prototype=S.prototype,C.F=S.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(P,I,U){for(var D=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)D[Gt-2]=arguments[Gt];return S.prototype[I].apply(P,D)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,x){x||(x=0);const P=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)P[I]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(I=0;I<16;++I)P[I]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=C.g[0],x=C.g[1],I=C.g[2];let U=C.g[3],D;D=S+(U^x&(I^U))+P[0]+3614090360&4294967295,S=x+(D<<7&4294967295|D>>>25),D=U+(I^S&(x^I))+P[1]+3905402710&4294967295,U=S+(D<<12&4294967295|D>>>20),D=I+(x^U&(S^x))+P[2]+606105819&4294967295,I=U+(D<<17&4294967295|D>>>15),D=x+(S^I&(U^S))+P[3]+3250441966&4294967295,x=I+(D<<22&4294967295|D>>>10),D=S+(U^x&(I^U))+P[4]+4118548399&4294967295,S=x+(D<<7&4294967295|D>>>25),D=U+(I^S&(x^I))+P[5]+1200080426&4294967295,U=S+(D<<12&4294967295|D>>>20),D=I+(x^U&(S^x))+P[6]+2821735955&4294967295,I=U+(D<<17&4294967295|D>>>15),D=x+(S^I&(U^S))+P[7]+4249261313&4294967295,x=I+(D<<22&4294967295|D>>>10),D=S+(U^x&(I^U))+P[8]+1770035416&4294967295,S=x+(D<<7&4294967295|D>>>25),D=U+(I^S&(x^I))+P[9]+2336552879&4294967295,U=S+(D<<12&4294967295|D>>>20),D=I+(x^U&(S^x))+P[10]+4294925233&4294967295,I=U+(D<<17&4294967295|D>>>15),D=x+(S^I&(U^S))+P[11]+2304563134&4294967295,x=I+(D<<22&4294967295|D>>>10),D=S+(U^x&(I^U))+P[12]+1804603682&4294967295,S=x+(D<<7&4294967295|D>>>25),D=U+(I^S&(x^I))+P[13]+4254626195&4294967295,U=S+(D<<12&4294967295|D>>>20),D=I+(x^U&(S^x))+P[14]+2792965006&4294967295,I=U+(D<<17&4294967295|D>>>15),D=x+(S^I&(U^S))+P[15]+1236535329&4294967295,x=I+(D<<22&4294967295|D>>>10),D=S+(I^U&(x^I))+P[1]+4129170786&4294967295,S=x+(D<<5&4294967295|D>>>27),D=U+(x^I&(S^x))+P[6]+3225465664&4294967295,U=S+(D<<9&4294967295|D>>>23),D=I+(S^x&(U^S))+P[11]+643717713&4294967295,I=U+(D<<14&4294967295|D>>>18),D=x+(U^S&(I^U))+P[0]+3921069994&4294967295,x=I+(D<<20&4294967295|D>>>12),D=S+(I^U&(x^I))+P[5]+3593408605&4294967295,S=x+(D<<5&4294967295|D>>>27),D=U+(x^I&(S^x))+P[10]+38016083&4294967295,U=S+(D<<9&4294967295|D>>>23),D=I+(S^x&(U^S))+P[15]+3634488961&4294967295,I=U+(D<<14&4294967295|D>>>18),D=x+(U^S&(I^U))+P[4]+3889429448&4294967295,x=I+(D<<20&4294967295|D>>>12),D=S+(I^U&(x^I))+P[9]+568446438&4294967295,S=x+(D<<5&4294967295|D>>>27),D=U+(x^I&(S^x))+P[14]+3275163606&4294967295,U=S+(D<<9&4294967295|D>>>23),D=I+(S^x&(U^S))+P[3]+4107603335&4294967295,I=U+(D<<14&4294967295|D>>>18),D=x+(U^S&(I^U))+P[8]+1163531501&4294967295,x=I+(D<<20&4294967295|D>>>12),D=S+(I^U&(x^I))+P[13]+2850285829&4294967295,S=x+(D<<5&4294967295|D>>>27),D=U+(x^I&(S^x))+P[2]+4243563512&4294967295,U=S+(D<<9&4294967295|D>>>23),D=I+(S^x&(U^S))+P[7]+1735328473&4294967295,I=U+(D<<14&4294967295|D>>>18),D=x+(U^S&(I^U))+P[12]+2368359562&4294967295,x=I+(D<<20&4294967295|D>>>12),D=S+(x^I^U)+P[5]+4294588738&4294967295,S=x+(D<<4&4294967295|D>>>28),D=U+(S^x^I)+P[8]+2272392833&4294967295,U=S+(D<<11&4294967295|D>>>21),D=I+(U^S^x)+P[11]+1839030562&4294967295,I=U+(D<<16&4294967295|D>>>16),D=x+(I^U^S)+P[14]+4259657740&4294967295,x=I+(D<<23&4294967295|D>>>9),D=S+(x^I^U)+P[1]+2763975236&4294967295,S=x+(D<<4&4294967295|D>>>28),D=U+(S^x^I)+P[4]+1272893353&4294967295,U=S+(D<<11&4294967295|D>>>21),D=I+(U^S^x)+P[7]+4139469664&4294967295,I=U+(D<<16&4294967295|D>>>16),D=x+(I^U^S)+P[10]+3200236656&4294967295,x=I+(D<<23&4294967295|D>>>9),D=S+(x^I^U)+P[13]+681279174&4294967295,S=x+(D<<4&4294967295|D>>>28),D=U+(S^x^I)+P[0]+3936430074&4294967295,U=S+(D<<11&4294967295|D>>>21),D=I+(U^S^x)+P[3]+3572445317&4294967295,I=U+(D<<16&4294967295|D>>>16),D=x+(I^U^S)+P[6]+76029189&4294967295,x=I+(D<<23&4294967295|D>>>9),D=S+(x^I^U)+P[9]+3654602809&4294967295,S=x+(D<<4&4294967295|D>>>28),D=U+(S^x^I)+P[12]+3873151461&4294967295,U=S+(D<<11&4294967295|D>>>21),D=I+(U^S^x)+P[15]+530742520&4294967295,I=U+(D<<16&4294967295|D>>>16),D=x+(I^U^S)+P[2]+3299628645&4294967295,x=I+(D<<23&4294967295|D>>>9),D=S+(I^(x|~U))+P[0]+4096336452&4294967295,S=x+(D<<6&4294967295|D>>>26),D=U+(x^(S|~I))+P[7]+1126891415&4294967295,U=S+(D<<10&4294967295|D>>>22),D=I+(S^(U|~x))+P[14]+2878612391&4294967295,I=U+(D<<15&4294967295|D>>>17),D=x+(U^(I|~S))+P[5]+4237533241&4294967295,x=I+(D<<21&4294967295|D>>>11),D=S+(I^(x|~U))+P[12]+1700485571&4294967295,S=x+(D<<6&4294967295|D>>>26),D=U+(x^(S|~I))+P[3]+2399980690&4294967295,U=S+(D<<10&4294967295|D>>>22),D=I+(S^(U|~x))+P[10]+4293915773&4294967295,I=U+(D<<15&4294967295|D>>>17),D=x+(U^(I|~S))+P[1]+2240044497&4294967295,x=I+(D<<21&4294967295|D>>>11),D=S+(I^(x|~U))+P[8]+1873313359&4294967295,S=x+(D<<6&4294967295|D>>>26),D=U+(x^(S|~I))+P[15]+4264355552&4294967295,U=S+(D<<10&4294967295|D>>>22),D=I+(S^(U|~x))+P[6]+2734768916&4294967295,I=U+(D<<15&4294967295|D>>>17),D=x+(U^(I|~S))+P[13]+1309151649&4294967295,x=I+(D<<21&4294967295|D>>>11),D=S+(I^(x|~U))+P[4]+4149444226&4294967295,S=x+(D<<6&4294967295|D>>>26),D=U+(x^(S|~I))+P[11]+3174756917&4294967295,U=S+(D<<10&4294967295|D>>>22),D=I+(S^(U|~x))+P[2]+718787259&4294967295,I=U+(D<<15&4294967295|D>>>17),D=x+(U^(I|~S))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(I+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+U&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const x=S-this.blockSize,P=this.C;let I=this.h,U=0;for(;U<S;){if(I==0)for(;U<=x;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(P[I++]=C.charCodeAt(U++),I==this.blockSize){o(this,P),I=0;break}}else for(;U<S;)if(P[I++]=C[U++],I==this.blockSize){o(this,P),I=0;break}}this.h=I,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,x=0;x<4;++x)for(let P=0;P<32;P+=8)C[S++]=this.g[x]>>>P&255;return C};function u(C,S){var x=m;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=S(C)}function c(C,S){this.h=S;const x=[];let P=!0;for(let I=C.length-1;I>=0;I--){const U=C[I]|0;P&&U==S||(x[I]=U,P=!1)}this.g=x}var m={};function p(C){return-128<=C&&C<128?u(C,function(S){return new c([S|0],S<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return O(g(-C));const S=[];let x=1;for(let P=0;C>=x;P++)S[P]=C/x|0,x*=4294967296;return new c(S,0)}function v(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return O(v(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(S,8));let P=T;for(let U=0;U<C.length;U+=8){var I=Math.min(8,C.length-U);const D=parseInt(C.substring(U,U+I),S);I<8?(I=g(Math.pow(S,I)),P=P.j(I).add(g(D))):(P=P.j(x),P=P.add(g(D)))}return P}var T=p(0),b=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-O(this).m();let C=0,S=1;for(let x=0;x<this.g.length;x++){const P=this.i(x);C+=(P>=0?P:4294967296+P)*S,S*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(j(this))return"-"+O(this).toString(C);const S=g(Math.pow(C,6));var x=this;let P="";for(;;){const I=st(x,S).g;x=F(x,I.j(S));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=I,N(x))return U+P;for(;U.length<6;)U="0"+U;P=U+P}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function j(C){return C.h==-1}n.l=function(C){return C=F(this,C),j(C)?-1:N(C)?0:1};function O(C){const S=C.g.length,x=[];for(let P=0;P<S;P++)x[P]=~C.g[P];return new c(x,~C.h).add(b)}n.abs=function(){return j(this)?O(this):this},n.add=function(C){const S=Math.max(this.g.length,C.g.length),x=[];let P=0;for(let I=0;I<=S;I++){let U=P+(this.i(I)&65535)+(C.i(I)&65535),D=(U>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);P=D>>>16,U&=65535,D&=65535,x[I]=D<<16|U}return new c(x,x[x.length-1]&-2147483648?-1:0)};function F(C,S){return C.add(O(S))}n.j=function(C){if(N(this)||N(C))return T;if(j(this))return j(C)?O(this).j(O(C)):O(O(this).j(C));if(j(C))return O(this.j(O(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const S=this.g.length+C.g.length,x=[];for(var P=0;P<2*S;P++)x[P]=0;for(P=0;P<this.g.length;P++)for(let I=0;I<C.g.length;I++){const U=this.i(P)>>>16,D=this.i(P)&65535,Gt=C.i(I)>>>16,re=C.i(I)&65535;x[2*P+2*I]+=D*re,X(x,2*P+2*I),x[2*P+2*I+1]+=U*re,X(x,2*P+2*I+1),x[2*P+2*I+1]+=D*Gt,X(x,2*P+2*I+1),x[2*P+2*I+2]+=U*Gt,X(x,2*P+2*I+2)}for(C=0;C<S;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=S;C<2*S;C++)x[C]=0;return new c(x,0)};function X(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function K(C,S){this.g=C,this.h=S}function st(C,S){if(N(S))throw Error("division by zero");if(N(C))return new K(T,T);if(j(C))return S=st(O(C),S),new K(O(S.g),O(S.h));if(j(S))return S=st(C,O(S)),new K(O(S.g),S.h);if(C.g.length>30){if(j(C)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var x=b,P=S;P.l(C)<=0;)x=rt(x),P=rt(P);var I=at(x,1),U=at(P,1);for(P=at(P,2),x=at(x,2);!N(P);){var D=U.add(P);D.l(C)<=0&&(I=I.add(x),U=D),P=at(P,1),x=at(x,1)}return S=F(C,I.j(S)),new K(I,S)}for(I=T;C.l(S)>=0;){for(x=Math.max(1,Math.floor(C.m()/S.m())),P=Math.ceil(Math.log(x)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),U=g(x),D=U.j(S);j(D)||D.l(C)>0;)x-=P,U=g(x),D=U.j(S);N(U)&&(U=b),I=I.add(U),C=F(C,D)}return new K(I,C)}n.B=function(C){return st(this,C).h},n.and=function(C){const S=Math.max(this.g.length,C.g.length),x=[];for(let P=0;P<S;P++)x[P]=this.i(P)&C.i(P);return new c(x,this.h&C.h)},n.or=function(C){const S=Math.max(this.g.length,C.g.length),x=[];for(let P=0;P<S;P++)x[P]=this.i(P)|C.i(P);return new c(x,this.h|C.h)},n.xor=function(C){const S=Math.max(this.g.length,C.g.length),x=[];for(let P=0;P<S;P++)x[P]=this.i(P)^C.i(P);return new c(x,this.h^C.h)};function rt(C){const S=C.g.length+1,x=[];for(let P=0;P<S;P++)x[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(x,C.h)}function at(C,S){const x=S>>5;S%=32;const P=C.g.length-x,I=[];for(let U=0;U<P;U++)I[U]=S>0?C.i(U+x)>>>S|C.i(U+x+1)<<32-S:C.i(U+x);return new c(I,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,BA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,ur=c}).apply(typeof N1<"u"?N1:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FA,Kl,HA,Ch,Pp,qA,GA,KA;(function(){var n,t=Object.defineProperty;function i(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=i(this);function o(h,y){if(y)t:{var E=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var B=h[w];if(!(B in E))break t;E=E[B]}h=h[h.length-1],w=E[h],y=y(w),y!=w&&y!=null&&t(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,B,Y){for(var lt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)lt[Ct-2]=arguments[Ct];return y.prototype[B].apply(w,lt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const y=h.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=h[w];return E}return[]}function N(h,y){for(let w=1;w<arguments.length;w++){const B=arguments[w];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=h.length||0;const Y=B.length||0;h.length=E+Y;for(let lt=0;lt<Y;lt++)h[E+lt]=B[lt]}else h.push(B)}}class j{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function O(h){c.setTimeout(()=>{throw h},0)}function F(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,E){const w=K.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var K=new j(()=>new st,h=>h.reset());class st{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,at=!1,C=new X,S=()=>{const h=Promise.resolve(void 0);rt=()=>{h.then(x)}};function x(){for(var h;h=F();){try{h.h.call(h.g)}catch(E){O(E)}var y=K;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}at=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Gt(h,y){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Gt,I),Gt.prototype.init=function(h,y){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Gt.Z.h.call(this)},Gt.prototype.h=function(){Gt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),$=0;function ot(h,y,E,w,B){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=B,this.key=++$,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Rt(h,y,E){for(const w in h)y.call(E,h[w],w,h)}function Nt(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function L(h){const y={};for(const E in h)y[E]=h[E];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(h,y){let E,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(E in w)h[E]=w[E];for(let Y=0;Y<J.length;Y++)E=J[Y],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function ht(h){this.src=h,this.g={},this.h=0}ht.prototype.add=function(h,y,E,w,B){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const lt=gt(h,y,w,B);return lt>-1?(y=h[lt],E||(y.fa=!1)):(y=new ot(y,this.src,Y,!!w,B),y.fa=E,h.push(y)),y};function ut(h,y){const E=y.type;if(E in h.g){var w=h.g[E],B=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=B>=0)&&Array.prototype.splice.call(w,B,1),Y&&(ft(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function gt(h,y,E,w){for(let B=0;B<h.length;++B){const Y=h[B];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==w)return B}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),Vt={};function Qt(h,y,E,w,B){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)Qt(h,y[Y],E,w,B);return null}return E=Uo(E),h&&h[re]?h.J(y,E,m(w)?!!w.capture:!1,B):Le(h,y,E,!1,w,B)}function Le(h,y,E,w,B,Y){if(!y)throw Error("Invalid event type");const lt=m(B)?!!B.capture:!!B;let Ct=Ar(h);if(Ct||(h[_t]=Ct=new ht(h)),E=Ct.add(y,E,w,lt,Y),E.proxy)return E;if(w=zn(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)U||(B=lt),B===void 0&&(B=!1),h.addEventListener(y.toString(),w,B);else if(h.attachEvent)h.attachEvent(vi(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function zn(){function h(E){return y.call(h.src,h.listener,E)}const y=Lo;return h}function Ts(h,y,E,w,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Ts(h,y[Y],E,w,B);else w=m(w)?!!w.capture:!!w,E=Uo(E),h&&h[re]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],E=gt(y,E,w,B),E>-1&&(ft(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Ar(h))&&(y=h.g[y.toString()],h=-1,y&&(h=gt(y,E,w,B)),(E=h>-1?y[h]:null)&&yi(E))}function yi(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[re])ut(y.i,h);else{var E=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(E,w,h.capture):y.detachEvent?y.detachEvent(vi(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=Ar(y))?(ut(E,h),E.h==0&&(E.src=null,y[_t]=null)):ft(h)}}}function vi(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function Lo(h,y){if(h.da)h=!0;else{y=new Gt(y,this);const E=h.listener,w=h.ha||h.src;h.fa&&yi(h),h=E.call(w,y)}return h}function Ar(h){return h=h[_t],h instanceof ht?h:null}var ko="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(h){return typeof h=="function"?h:(h[ko]||(h[ko]=function(y){return h.handleEvent(y)}),h[ko])}function Se(){P.call(this),this.i=new ht(this),this.M=this,this.G=null}T(Se,P),Se.prototype[re]=!0,Se.prototype.removeEventListener=function(h,y,E,w){Ts(this,h,y,E,w)};function ke(h,y){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new I(y,h);else if(y instanceof I)y.target=y.target||h;else{var B=y;y=new I(w,h),ct(y,B)}B=!0;let Y,lt;if(E)for(lt=E.length-1;lt>=0;lt--)Y=y.g=E[lt],B=Es(Y,w,!0,y)&&B;if(Y=y.g=h,B=Es(Y,w,!0,y)&&B,B=Es(Y,w,!1,y)&&B,E)for(lt=0;lt<E.length;lt++)Y=y.g=E[lt],B=Es(Y,w,!1,y)&&B}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let w=0;w<E.length;w++)ft(E[w]);delete h.g[y],h.h--}}this.G=null},Se.prototype.J=function(h,y,E,w){return this.i.add(String(h),y,!1,E,w)},Se.prototype.K=function(h,y,E,w){return this.i.add(String(h),y,!0,E,w)};function Es(h,y,E,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let Y=0;Y<y.length;++Y){const lt=y[Y];if(lt&&!lt.da&&lt.capture==E){const Ct=lt.listener,_e=lt.ha||lt.src;lt.fa&&ut(h.i,lt),B=Ct.call(_e,w)!==!1&&B}}return B&&!w.defaultPrevented}function xf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Ou(h){h.g=xf(()=>{h.g=null,h.i&&(h.i=!1,Ou(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ln extends P{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ou(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(h){P.call(this),this.h=h,this.g={}}T(Sr,P);var zo=[];function jo(h){Rt(h.g,function(y,E){this.g.hasOwnProperty(E)&&yi(y)},h),h.g={}}Sr.prototype.N=function(){Sr.Z.N.call(this),jo(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=c.JSON.stringify,Rf=c.JSON.parse,Pu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Lu(){}function ku(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){I.call(this,"d")}T(Qe,I);function jn(){I.call(this,"c")}T(jn,I);var ve={},Uu=null;function pa(){return Uu=Uu||new Se}ve.Ia="serverreachability";function zu(h){I.call(this,ve.Ia,h)}T(zu,I);function _i(h){const y=pa();ke(y,new zu(y))}ve.STAT_EVENT="statevent";function wr(h,y){I.call(this,ve.STAT_EVENT,h),this.stat=y}T(wr,I);function we(h){const y=pa();ke(y,new wr(y,h))}ve.Ja="timingevent";function Ti(h,y){I.call(this,ve.Ja,h),this.size=y}T(Ti,I);function Ei(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function Cf(h,y,E,w,B,Y){h.info(function(){if(h.g)if(Y){var lt="",Ct=Y.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var _e=Ct[Kt].split("=");if(_e.length>1){const ue=_e[0];_e=_e[1];const qn=ue.split("_");lt=qn.length>=2&&qn[1]=="type"?lt+(ue+"="+_e+"&"):lt+(ue+"=redacted&")}}}else lt=null;else lt=Y;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+E+`
`+lt})}function ju(h,y,E,w,B,Y,lt){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+E+`
`+Y+" "+lt})}function bi(h,y,E,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Df(h,E)+(w?" "+w:"")})}function xr(h,y){h.info(function(){return"TIMEOUT: "+y})}ni.prototype.info=function(){};function Df(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let lt=1;lt<w.length;lt++)w[lt]=""}}}}return bs(Y)}catch{return y}}var Rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fo;function Cr(){}T(Cr,Lu),Cr.prototype.g=function(){return new XMLHttpRequest},Fo=new Cr;function Xi(h){return encodeURIComponent(String(h))}function Bu(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function ii(h,y,E,w){this.j=h,this.i=y,this.l=E,this.S=w||1,this.V=new Sr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var xe={},He={};function Ai(h,y,E){h.M=1,h.A=Dr(Ce(y)),h.u=E,h.R=!0,ga(h,null)}function ga(h,y){h.F=Date.now(),Si(h),h.B=Ce(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Ta(E.i,"t",w),h.C=0,E=h.j.L,h.h=new si,h.g=nc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new ln(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,w=h.ba;var B="readystatechange";Array.isArray(B)||(B&&(zo[0]=B.toString()),B=zo);for(let Y=0;Y<B.length;Y++){const lt=Qt(E,B[Y],w||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),_i(),Cf(h.i,h.v,h.B,h.l,h.S,h.u)}ii.prototype.ba=function(h){h=h.target;const y=this.O;y&&oi(h)==3?y.j():this.Y(h)},ii.prototype.Y=function(h){try{if(h==this.g)t:{const Ct=oi(this.g),_e=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Ct!=4||_e==7||(_e==8||Kt<=0?_i(3):_i(2)),wi(this);var y=this.g.ca();this.X=y;var E=Vf(this);if(this.o=y==200,ju(this.i,this.v,this.B,this.l,this.S,Ct,y),this.o){if(this.U&&!this.L){e:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var Y=w;break e}}Y=null}if(h=Y)bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,h);else{this.o=!1,this.m=3,we(12),xn(this),Bn(this);break t}}if(this.R){h=!0;let ue;for(;!this.K&&this.C<E.length;)if(ue=Hu(this,E),ue==He){Ct==4&&(this.m=4,we(14),h=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==xe){this.m=4,we(15),bi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else bi(this.i,this.l,ue,null),xi(this,ue);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||E.length!=0||this.h.h||(this.m=1,we(16),h=!1),this.o=this.o&&h,!h)bi(this.i,this.l,E,"[Invalid Chunked Response]"),xn(this),Bn(this);else if(E.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),il(lt),lt.P=!0,we(11))}}else bi(this.i,this.l,E,null),xi(this,E);Ct==4&&xn(this),this.o&&!this.K&&(Ct==4?Wu(this.j,this):(this.o=!1,Si(this)))}else Zi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),xn(this),Bn(this)}}}catch{}finally{}};function Vf(h){if(!Fu(h))return h.g.la();const y=Xe(h.g);if(y==="")return"";let E="";const w=y.length,B=oi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return xn(h),Bn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<w;Y++)h.h.h=!0,E+=h.h.i.decode(y[Y],{stream:!(B&&Y==w-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Fu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Hu(h,y){var E=h.C,w=y.indexOf(`
`,E);return w==-1?He:(E=Number(y.substring(E,w)),isNaN(E)?xe:(w+=1,w+E>y.length?He:(y=y.slice(w,w+E),h.C=w+E,y)))}ii.prototype.cancel=function(){this.K=!0,xn(this)};function Si(h){h.T=Date.now()+h.H,ya(h,h.H)}function ya(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ei(g(h.aa,h),y)}function wi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ii.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(xr(this.i,this.B),this.M!=2&&(_i(),we(17)),xn(this),this.m=2,Bn(this)):ya(this,this.T-h)};function Bn(h){h.j.I==0||h.K||Wu(h.j,h)}function xn(h){wi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,jo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function xi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ci(E.h,h))){if(!h.L&&Ci(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)wa(E),Vs(E);else break t;Lr(E),we(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ei(g(E.Va,E),6e3));Ri(E.h)<=1&&E.ta&&(E.ta=void 0)}else Oi(E,11)}else if((h.L||E.g==h)&&wa(E),!D(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Kt=B[y];const ue=Kt[0];if(!(ue<=E.K))if(E.K=ue,Kt=Kt[1],E.I==2)if(Kt[0]=="c"){E.M=Kt[1],E.ba=Kt[2];const qn=Kt[3];qn!=null&&(E.ka=qn,E.j.info("VER="+E.ka));const Pi=Kt[4];Pi!=null&&(E.za=Pi,E.j.info("SVER="+E.za));const li=Kt[5];li!=null&&typeof li=="number"&&li>0&&(w=1.5*li,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const ui=h.g;if(ui){const kr=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var Y=w.h;Y.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Go(Y,Y.h),Y.h=null))}if(w.G){const xa=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(w.wa=xa,Xt(w.J,w.G,xa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var lt=h;if(w.na=ec(w,w.L?w.ba:null,w.W),lt.L){Ko(w.h,lt);var Ct=lt,_e=w.O;_e&&(Ct.H=_e),Ct.D&&(wi(Ct),Si(Ct)),w.g=lt}else $u(w);E.i.length>0&&Ii(E)}else Kt[0]!="stop"&&Kt[0]!="close"||Oi(E,7);else E.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Oi(E,7):el(E):Kt[0]!="noop"&&E.l&&E.l.qa(Kt),E.A=0)}}_i(4)}catch{}}var Re=class{constructor(h,y){this.g=h,this.map=y}};function Ho(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ri(h){return h.h?1:h.g?h.g.size:0}function Ci(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Go(h,y){h.g?h.g.add(y):h.h=y}function Ko(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ho.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Yo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return R(h.i)}var qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let B,Y=null;w>=0?(B=h[E].substring(0,w),Y=h[E].substring(w+1)):B=h[E],y(B,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Rn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Rn?(this.l=h.l,qe(this,h.j),this.o=h.o,this.g=h.g,As(this,h.u),this.h=h.h,Qo(this,Qu(h.i)),this.m=h.m):h&&(y=String(h).match(qu))?(this.l=!1,qe(this,y[1]||"",!0),this.o=Di(y[2]||""),this.g=Di(y[3]||"",!0),As(this,y[4]),this.h=Di(y[5]||"",!0),Qo(this,y[6]||"",!0),this.m=Di(y[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}Rn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Vr(y,_a,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Vr(y,_a,!0),"@"),h.push(Xi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Vr(E,E.charAt(0)=="/"?Xo:Gu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Vr(E,Ku)),h.join("")},Rn.prototype.resolve=function(h){const y=Ce(this);let E=!!h.j;E?qe(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var w=h.h;if(E)As(y,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=y.h.lastIndexOf("/");B!=-1&&(w=y.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const Y=[];for(let lt=0;lt<B.length;){const Ct=B[lt++];Ct=="."?w&&lt==B.length&&Y.push(""):Ct==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),w&&lt==B.length&&Y.push("")):(Y.push(Ct),w=!0)}w=Y.join("/")}else w=B}return E?y.h=w:E=h.i.toString()!=="",E?Qo(y,Qu(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Ce(h){return new Rn(h)}function qe(h,y,E){h.j=E?Di(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function As(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Qo(h,y,E){y instanceof ws?(h.i=y,Ea(h.i,h.l)):(E||(y=Vr(y,Ss)),h.i=new ws(y,h.l))}function Xt(h,y,E){h.i.set(y,E)}function Dr(h){return Xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Di(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Vr(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,gn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _a=/[#\/\?@]/g,Gu=/[#\?:]/g,Xo=/[#\?]/g,Ss=/[#\?@]/g,Ku=/#/g;function ws(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function yn(h){h.g||(h.g=new Map,h.h=0,h.i&&va(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=ws.prototype,n.add=function(h,y){yn(this),this.i=null,h=xs(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Yu(h,y){yn(h),y=xs(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function $o(h,y){return yn(h),y=xs(h,y),h.g.has(y)}n.forEach=function(h,y){yn(this),this.g.forEach(function(E,w){E.forEach(function(B){h.call(y,B,w,this)},this)},this)};function Zo(h,y){yn(h);let E=[];if(typeof y=="string")$o(h,y)&&(E=E.concat(h.g.get(xs(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}n.set=function(h,y){return yn(this),this.i=null,h=xs(this,h),$o(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=Zo(this,h),h.length>0?String(h[0]):y):y};function Ta(h,y,E){Yu(h,y),E.length>0&&(h.i=null,h.g.set(xs(h,y),R(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const B=Xi(E);E=Zo(this,E);for(let Y=0;Y<E.length;Y++){let lt=B;E[Y]!==""&&(lt+="="+Xi(E[Y])),h.push(lt)}}return this.i=h.join("&")};function Qu(h){const y=new ws;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function xs(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ea(h,y){y&&!h.j&&(yn(h),h.i=null,h.g.forEach(function(E,w){const B=w.toLowerCase();w!=B&&(Yu(this,w),Ta(this,B,E))},h)),h.j=y}function ri(h,y){const E=new ni;if(c.Image){const w=new Image;w.onload=v(Fn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=v(Fn,E,"TestLoadImage: error",!1,y,w),w.onabort=v(Fn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=v(Fn,E,"TestLoadImage: timeout",!1,y,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function Wo(h,y){const E=new ni,w=new AbortController,B=setTimeout(()=>{w.abort(),Fn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(Y=>{clearTimeout(B),Y.ok?Fn(E,"TestPingServer: ok",!0,y):Fn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Fn(E,"TestPingServer: error",!1,y)})}function Fn(h,y,E,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(E)}catch{}}function Rs(){this.g=new Pu}function Vi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Vi,Lu),Vi.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(h,y){Se.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Mr,Se),n=Mr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ai(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Cs(this):ai(this),this.readyState==3&&ba(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Cs(this))},n.Na=function(h){this.g&&(this.response=h,Cs(this))},n.ga=function(){this.g&&Cs(this)};function Cs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ai(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Hn(h){let y="";return Rt(h,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Nr(h,y,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=Hn(E),typeof h=="string"?E!=null&&Xi(E):Xt(h,y,E))}function Wt(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Wt,Se);var Mi=/^https?$/i,Jo=["POST","PUT"];n=Wt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fo.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Ir(this,Y);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)E.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())E.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Jo,y,void 0)>=0)||w||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,lt]of E)this.g.setRequestHeader(Y,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Ir(this,Y)}};function Ir(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,tl(h),$i(h)}function tl(h){h.A||(h.A=!0,ke(h,"complete"),ke(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ke(this,"complete"),ke(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Wt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},n.Xa=function(){Or(this)};function Or(h){if(h.h&&typeof u<"u"){if(h.v&&oi(h)==4)setTimeout(h.Ca.bind(h),0);else if(ke(h,"readystatechange"),oi(h)==4){h.h=!1;try{const Y=h.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var w;if(w=Y===0){let lt=String(h.D).match(qu)[1]||null;!lt&&c.self&&c.self.location&&(lt=c.self.location.protocol.slice(0,-1)),w=!Mi.test(lt?lt.toLowerCase():"")}E=w}if(E)ke(h,"complete"),ke(h,"success");else{h.o=6;try{var B=oi(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",tl(h)}}finally{$i(h)}}}}function $i(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||ke(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function oi(h){return h.g?h.g.readyState:0}n.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Rf(y)}};function Xe(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(h){const y={};h=(h.g&&oi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(D(h[w]))continue;var E=Bu(h[w]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[B]||[];y[B]=Y,Y.push(E)}Nt(y,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Ds(h){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,h),this.Za=Ni("retryDelaySeedMs",1e4,h),this.Ta=Ni("forwardChannelMaxRetries",2,h),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(h&&h.concurrentRequestLimit),this.Ba=new Rs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ds.prototype,n.ka=8,n.I=1,n.connect=function(h,y,E,w){we(0),this.W=h,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=ec(this,null,this.W),Ii(this)};function el(h){if(Aa(h),h.I==3){var y=h.V++,E=Ce(h.J);if(Xt(E,"SID",h.M),Xt(E,"RID",y),Xt(E,"TYPE","terminate"),Pr(h,E),y=new ii(h,h.j,y),y.M=2,y.A=Dr(Ce(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=nc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Si(y)}tc(h)}function Vs(h){h.g&&(il(h),h.g.cancel(),h.g=null)}function Aa(h){Vs(h),h.v&&(c.clearTimeout(h.v),h.v=null),wa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ii(h){if(!qo(h.h)&&!h.m){h.m=!0;var y=h.Ea;rt||S(),at||(rt(),at=!0),C.add(y,h),h.D=0}}function Sa(h,y){return Ri(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ei(g(h.Ea,h,y),Ju(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new ii(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=L(Y),ct(Y,this.U)):Y=this.U),this.u!==null||this.R||(B.J=Y,Y=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=Xu(this,B,y),E=Ce(this.J),Xt(E,"RID",h),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),Pr(this,E),Y&&(this.R?y="headers="+Xi(Hn(Y))+"&"+y:this.u&&Nr(E,this.u,Y)),Go(this.h,B),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",y),Xt(E,"SID","null"),B.U=!0,Ai(B,E,null)):Ai(B,E,y),this.I=2}}else this.I==3&&(h?nl(this,h):this.i.length==0||qo(this.h)||nl(this))};function nl(h,y){var E;y?E=y.l:E=h.V++;const w=Ce(h.J);Xt(w,"SID",h.M),Xt(w,"RID",E),Xt(w,"AID",h.K),Pr(h,w),h.u&&h.o&&Nr(w,h.u,h.o),E=new ii(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Xu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Go(h.h,E),Ai(E,w,y)}function Pr(h,y){h.H&&Rt(h.H,function(E,w){Xt(y,w,E)}),h.l&&Rt({},function(E,w){Xt(y,w,E)})}function Xu(h,y,E){E=Math.min(h.i.length,E);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var B=h.i;let Ct=-1;for(;;){const _e=["count="+E];Ct==-1?E>0?(Ct=B[0].g,_e.push("ofs="+Ct)):Ct=0:_e.push("ofs="+Ct);let Kt=!0;for(let ue=0;ue<E;ue++){var Y=B[ue].g;const qn=B[ue].map;if(Y-=Ct,Y<0)Ct=Math.max(0,B[ue].g-100),Kt=!1;else try{Y="req"+Y+"_"||"";try{var lt=qn instanceof Map?qn:Object.entries(qn);for(const[Pi,li]of lt){let ui=li;m(li)&&(ui=bs(li)),_e.push(Y+Pi+"="+encodeURIComponent(ui))}}catch(Pi){throw _e.push(Y+"type="+encodeURIComponent("_badmap")),Pi}}catch{w&&w(qn)}}if(Kt){lt=_e.join("&");break t}}lt=void 0}return h=h.i.splice(0,E),y.G=h,lt}function $u(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;rt||S(),at||(rt(),at=!0),C.add(y,h),h.A=0}}function Lr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ei(g(h.Da,h),Ju(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ei(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Vs(this),Zu(this))};function il(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Zu(h){h.g=new ii(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ce(h.na);Xt(y,"RID","rpc"),Xt(y,"SID",h.M),Xt(y,"AID",h.K),Xt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xt(y,"TO",h.ia),Xt(y,"TYPE","xmlhttp"),Pr(h,y),h.u&&h.o&&Nr(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Dr(Ce(y)),E.u=null,E.R=!0,ga(E,h)}n.Va=function(){this.C!=null&&(this.C=null,Vs(this),Lr(this),we(19))};function wa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Wu(h,y){var E=null;if(h.g==y){wa(h),il(h),h.g=null;var w=2}else if(Ci(h.h,y))E=y.G,Ko(h.h,y),w=1;else return;if(h.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=h.D;w=pa(),ke(w,new Ti(w,E)),Ii(h)}else $u(h);else if(B=y.m,B==3||B==0&&y.X>0||!(w==1&&Sa(h,y)||w==2&&Lr(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),B){case 1:Oi(h,5);break;case 4:Oi(h,10);break;case 3:Oi(h,6);break;default:Oi(h,2)}}}function Ju(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Oi(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),w=h.Ua;const B=!w;w=new Rn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(w,"https"),Dr(w),B?ri(w.toString(),E):Wo(w.toString(),E)}else we(2);h.I=0,h.l&&h.l.pa(y),tc(h),Aa(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function tc(h){if(h.I=0,h.ja=[],h.l){const y=Yo(h.h);(y.length!=0||h.i.length!=0)&&(N(h.ja,y),N(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function ec(h,y,E){var w=E instanceof Rn?Ce(E):new Rn(E);if(w.g!="")y&&(w.g=y+"."+w.g),As(w,w.u);else{var B=c.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const Y=new Rn(null);w&&qe(Y,w),y&&(Y.g=y),B&&As(Y,B),E&&(Y.h=E),w=Y}return E=h.G,y=h.wa,E&&y&&Xt(w,E,y),Xt(w,"VER",h.ka),Pr(h,w),w}function nc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Wt(new Vi({ab:E})):new Wt(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}n=ic.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ms(){}Ms.prototype.g=function(h,y){return new un(h,y)};function un(h,y){Se.call(this),this.g=new Ds(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Wi(this)}T(un,Se),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){el(this.g)},un.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=bs(h),h=E);y.i.push(new Re(y.Ya++,h)),y.I==3&&Ii(y)},un.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,un.Z.N.call(this)};function sc(h){Qe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const E in y){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(sc,Qe);function rc(){jn.call(this),this.status=1}T(rc,jn);function Wi(h){this.g=h}T(Wi,ic),Wi.prototype.ra=function(){ke(this.g,"a")},Wi.prototype.qa=function(h){ke(this.g,new sc(h))},Wi.prototype.pa=function(h){ke(this.g,new rc)},Wi.prototype.oa=function(){ke(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,KA=function(){return new Ms},GA=function(){return pa()},qA=ve,Pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Ch=Rr,Bo.COMPLETE="complete",HA=Bo,ku.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Kl=ku,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,FA=Wt}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="12.9.0";function zN(n){No=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new NA("@firebase/firestore");function io(){return la.logLevel}function dt(n,...t){if(la.logLevel<=Bt.DEBUG){const i=t.map(Ig);la.debug(`Firestore (${No}): ${n}`,...i)}}function vs(n,...t){if(la.logLevel<=Bt.ERROR){const i=t.map(Ig);la.error(`Firestore (${No}): ${n}`,...i)}}function Ao(n,...t){if(la.logLevel<=Bt.WARN){const i=t.map(Ig);la.warn(`Firestore (${No}): ${n}`,...i)}}function Ig(n){if(typeof n=="string")return n;try{return(function(i){return JSON.stringify(i)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(n,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,YA(n,r,i)}function YA(n,t,i){let r=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw vs(r),new Error(r)}function Ft(n,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,n||YA(t,o,r)}function wt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends fa{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(An.UNAUTHENTICATED)))}shutdown(){}}class FN{constructor(t){this.t=t,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let u=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ms,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ms)}}),0),c()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new jN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new An(t)}}class HN{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qN{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new HN(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GN{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,LA(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const r=u=>{u.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new I1(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<n;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=KN(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function kt(n,t){return n<t?-1:n>t?1:0}function Lp(n,t){const i=Math.min(n.length,t.length);for(let r=0;r<i;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return Wm(o)===Wm(u)?kt(o,u):Wm(o)?1:-1}return kt(n.length,t.length)}const YN=55296,QN=57343;function Wm(n){const t=n.charCodeAt(0);return t>=YN&&t<=QN}function So(n,t,i){return n.length===t.length&&n.every(((r,o)=>i(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="__name__";class Bi{constructor(t,i,r){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&bt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=Bi.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return kt(t.length,i.length)}static compareSegments(t,i){const r=Bi.isNumericId(t),o=Bi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?Bi.extractNumericId(t).compare(Bi.extractNumericId(i)):Lp(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ur.fromString(t.substring(4,t.length-2))}}class ie extends Bi{construct(t,i,r){return new ie(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new mt(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const XN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Bi{construct(t,i,r){return new nn(t,i,r)}static isValidIdentifier(t){return XN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O1}static keyField(){return new nn([O1])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new mt(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new mt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(u(),o++)}if(u(),c)throw new mt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(i)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(ie.fromString(t))}static fromName(t){return new Et(ie.fromString(t).popFirst(5))}static empty(){return new Et(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new ie(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(n,t,i){if(!i)throw new mt(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function $N(n,t,i,r){if(t===!0&&r===!0)throw new mt(et.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function P1(n){if(!Et.isDocumentKey(n))throw new mt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function L1(n){if(Et.isDocumentKey(n))throw new mt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Pg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":bt(12329,{type:typeof n})}function ps(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pg(n);throw new mt(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n,t){const i={typeString:n};return t&&(i.value=t),i}function Cu(n,t){if(!XA(n))throw new mt(et.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){i=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new mt(et.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=-62135596800,U1=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*U1);return new le(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<k1)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U1}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Cu(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-k1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Pe("string",le._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new le(0,0))}static max(){return new St(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function ZN(n,t){const i=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new le(i+1,0):new le(i,r));return new mr(o,Et.empty(),t)}function WN(n){return new mr(n.readTime,n.key,pu)}class mr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new mr(St.min(),Et.empty(),pu)}static max(){return new mr(St.max(),Et.empty(),pu)}}function JN(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=Et.comparator(n.documentKey,t.documentKey),i!==0?i:kt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==tI)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new nt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):nt.reject(i)}static resolve(t){return new nt(((i,r)=>{i(t)}))}static reject(t){return new nt(((i,r)=>{r(t)}))}static waitFor(t){return new nt(((i,r)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&i()}),(p=>r(p)))})),c=!0,u===o&&i()}))}static or(t){let i=nt.resolve(!1);for(const r of t)i=i.next((o=>o?nt.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new nt(((r,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;i(t[g]).next((v=>{c[g]=v,++m,m===u&&r(c)}),(v=>o(v)))}}))}static doWhile(t,i){return new nt(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function nI(n){const t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Oo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=-1;function Du(n){return n==null}function Gh(n){return n===0&&1/n==-1/0}function iI(n){return typeof n=="number"&&Number.isInteger(n)&&!Gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="";function sI(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=z1(t)),t=rI(n.get(i),t);return z1(t)}function rI(n,t){let i=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":i+="";break;case $A:i+="";break;default:i+=u}}return i}function z1(n){return n+$A+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(n){let t=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function Er(n,t){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function ZA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,i){this.comparator=t,this.root=i||en.EMPTY}insert(t,i){return new fe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,en.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,en.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mh(this.root,t,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mh(this.root,t,this.comparator,!0)}}class mh{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class en{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??en.RED,this.left=o??en.EMPTY,this.right=u??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new en(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return en.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new en(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new B1(this.data.getIterator())}getIteratorFrom(t){return new B1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class B1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new Ln([])}unionWith(t){let i=new Be(nn.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Ln(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return So(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new WA("Invalid base64 string: "+u):u}})(t);return new sn(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new sn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const aI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(n){if(Ft(!!n,39018),typeof n=="string"){let t=0;const i=aI.exec(n);if(Ft(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function gr(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="server_timestamp",tS="__type__",eS="__previous_value__",nS="__local_write_time__";function kg(n){var i,r;return((r=(((i=n==null?void 0:n.mapValue)==null?void 0:i.fields)||{})[tS])==null?void 0:r.stringValue)===JA}function cf(n){const t=n.mapValue.fields[eS];return kg(t)?cf(t):t}function gu(n){const t=pr(n.mapValue.fields[nS].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t,i,r,o,u,c,m,p,g,v,T){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=T}}const Kh="(default)";class yu{constructor(t,i){this.projectId=t,this.database=i||Kh}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(t){return t instanceof yu&&t.projectId===this.projectId&&t.database===this.database}}function lI(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new mt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(n.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="__type__",uI="__max__",ph={mapValue:{}},sS="__vector__",Yh="value";function yr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kg(n)?4:hI(n)?9007199254740991:cI(n)?10:11:bt(28295,{value:n})}function Yi(n,t){if(n===t)return!0;const i=yr(n);if(i!==yr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return gu(n).isEqual(gu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=pr(o.timestampValue),m=pr(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return gr(o.bytesValue).isEqual(gr(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return be(o.geoPointValue.latitude)===be(u.geoPointValue.latitude)&&be(o.geoPointValue.longitude)===be(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return be(o.integerValue)===be(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=be(o.doubleValue),m=be(u.doubleValue);return c===m?Gh(c)===Gh(m):isNaN(c)&&isNaN(m)}return!1})(n,t);case 9:return So(n.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(j1(c)!==j1(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Yi(c[p],m[p])))return!1;return!0})(n,t);default:return bt(52216,{left:n})}}function vu(n,t){return(n.values||[]).find((i=>Yi(i,t)))!==void 0}function wo(n,t){if(n===t)return 0;const i=yr(n),r=yr(t);if(i!==r)return kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(n.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=be(u.integerValue||u.doubleValue),p=be(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(n,t);case 3:return F1(n.timestampValue,t.timestampValue);case 4:return F1(gu(n),gu(t));case 5:return Lp(n.stringValue,t.stringValue);case 6:return(function(u,c){const m=gr(u),p=gr(c);return m.compareTo(p)})(n.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=kt(m[g],p[g]);if(v!==0)return v}return kt(m.length,p.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=kt(be(u.latitude),be(c.latitude));return m!==0?m:kt(be(u.longitude),be(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return H1(n.arrayValue,t.arrayValue);case 10:return(function(u,c){var b,R,N,j;const m=u.fields||{},p=c.fields||{},g=(b=m[Yh])==null?void 0:b.arrayValue,v=(R=p[Yh])==null?void 0:R.arrayValue,T=kt(((N=g==null?void 0:g.values)==null?void 0:N.length)||0,((j=v==null?void 0:v.values)==null?void 0:j.length)||0);return T!==0?T:H1(g,v)})(n.mapValue,t.mapValue);case 11:return(function(u,c){if(u===ph.mapValue&&c===ph.mapValue)return 0;if(u===ph.mapValue)return 1;if(c===ph.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const b=Lp(p[T],v[T]);if(b!==0)return b;const R=wo(m[p[T]],g[v[T]]);if(R!==0)return R}return kt(p.length,v.length)})(n.mapValue,t.mapValue);default:throw bt(23264,{he:i})}}function F1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return kt(n,t);const i=pr(n),r=pr(t),o=kt(i.seconds,r.seconds);return o!==0?o:kt(i.nanos,r.nanos)}function H1(n,t){const i=n.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=wo(i[o],r[o]);if(u)return u}return kt(i.length,r.length)}function xo(n){return kp(n)}function kp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const r=pr(i);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return gr(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return Et.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=kp(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const c of r)u?u=!1:o+=",",o+=`${c}:${kp(i.fields[c])}`;return o+"}"})(n.mapValue):bt(61005,{value:n})}function Dh(n){switch(yr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=cf(n);return t?16+Dh(t):16;case 5:return 2*n.stringValue.length;case 6:return gr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Dh(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Er(r.fields,((u,c)=>{o+=u.length+Dh(c)})),o})(n.mapValue);default:throw bt(13486,{value:n})}}function Up(n){return!!n&&"integerValue"in n}function Ug(n){return!!n&&"arrayValue"in n}function q1(n){return!!n&&"nullValue"in n}function G1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vh(n){return!!n&&"mapValue"in n}function cI(n){var i,r;return((r=(((i=n==null?void 0:n.mapValue)==null?void 0:i.fields)||{})[iS])==null?void 0:r.stringValue)===sS}function eu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Er(n.mapValue.fields,((i,r)=>t.mapValue.fields[i]=eu(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=eu(n.arrayValue.values[i]);return t}return{...n}}function hI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===uI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Vh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=eu(i)}setAll(t){let i=nn.emptyPath(),r={},o=[];t.forEach(((c,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=m.popLast()}c?r[m.lastSegment()]=eu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());Vh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Er(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new fn(eu(this.value))}}function rS(n){const t=[];return Er(n.fields,((i,r)=>{const o=new nn([i]);if(Vh(r)){const u=rS(r.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,i,r,o,u,c,m){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new Ye(t,0,St.min(),St.min(),St.min(),fn.empty(),0)}static newFoundDocument(t,i,r,o){return new Ye(t,1,i,St.min(),r,o,0)}static newNoDocument(t,i){return new Ye(t,2,i,St.min(),St.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new Ye(t,3,i,St.min(),St.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,i){this.position=t,this.inclusive=i}}function K1(n,t,i){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],c=n.position[o];if(u.field.isKeyField()?r=Et.comparator(Et.fromName(c.referenceValue),i.key):r=wo(c,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Yi(n.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,i="asc"){this.field=t,this.dir=i}}function fI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{}class je extends aS{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new mI(t,i,r):i==="array-contains"?new yI(t,r):i==="in"?new vI(t,r):i==="not-in"?new _I(t,r):i==="array-contains-any"?new TI(t,r):new je(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new pI(t,r):new gI(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(wo(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(wo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends aS{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Qi(t,i)}matches(t){return oS(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oS(n){return n.op==="and"}function lS(n){return dI(n)&&oS(n)}function dI(n){for(const t of n.filters)if(t instanceof Qi)return!1;return!0}function zp(n){if(n instanceof je)return n.field.canonicalString()+n.op.toString()+xo(n.value);if(lS(n))return n.filters.map((t=>zp(t))).join(",");{const t=n.filters.map((i=>zp(i))).join(",");return`${n.op}(${t})`}}function uS(n,t){return n instanceof je?(function(r,o){return o instanceof je&&r.op===o.op&&r.field.isEqual(o.field)&&Yi(r.value,o.value)})(n,t):n instanceof Qi?(function(r,o){return o instanceof Qi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,c,m)=>u&&uS(c,o.filters[m])),!0):!1})(n,t):void bt(19439)}function cS(n){return n instanceof je?(function(i){return`${i.field.canonicalString()} ${i.op} ${xo(i.value)}`})(n):n instanceof Qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(cS).join(" ,")+"}"})(n):"Filter"}class mI extends je{constructor(t,i,r){super(t,i,r),this.key=Et.fromName(r.referenceValue)}matches(t){const i=Et.comparator(t.key,this.key);return this.matchesComparison(i)}}class pI extends je{constructor(t,i){super(t,"in",i),this.keys=hS("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class gI extends je{constructor(t,i){super(t,"not-in",i),this.keys=hS("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function hS(n,t){var i;return(((i=t.arrayValue)==null?void 0:i.values)||[]).map((r=>Et.fromName(r.referenceValue)))}class yI extends je{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Ug(i)&&vu(i.arrayValue,this.value)}}class vI extends je{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&vu(this.value.arrayValue,i)}}class _I extends je{constructor(t,i){super(t,"not-in",i)}matches(t){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!vu(this.value.arrayValue,i)}}class TI extends je{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Ug(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>vu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t,i=null,r=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function Q1(n,t=null,i=[],r=[],o=null,u=null,c=null){return new EI(n,t,i,r,o,u,c)}function zg(n){const t=wt(n);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>zp(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Du(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>xo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>xo(r))).join(",")),t.Te=i}return t.Te}function jg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!fI(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!uS(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Y1(n.startAt,t.startAt)&&Y1(n.endAt,t.endAt)}function jp(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,i=null,r=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bI(n,t,i,r,o,u,c,m){return new hf(n,t,i,r,o,u,c,m)}function ff(n){return new hf(n)}function X1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AI(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function SI(n){return n.collectionGroup!==null}function nu(n){const t=wt(n);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Be(nn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Xh(u,r))})),i.has(nn.keyField().canonicalString())||t.Ie.push(new Xh(nn.keyField(),r))}return t.Ie}function qi(n){const t=wt(n);return t.Ee||(t.Ee=wI(t,nu(n))),t.Ee}function wI(n,t){if(n.limitType==="F")return Q1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Xh(o.field,u)}));const i=n.endAt?new Qh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Qh(n.startAt.position,n.startAt.inclusive):null;return Q1(n.path,n.collectionGroup,t,n.filters,n.limit,i,r)}}function Bp(n,t,i){return new hf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function df(n,t){return jg(qi(n),qi(t))&&n.limitType===t.limitType}function fS(n){return`${zg(qi(n))}|lt:${n.limitType}`}function so(n){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>cS(o))).join(", ")}]`),Du(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>xo(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>xo(o))).join(",")),`Target(${r})`})(qi(n))}; limitType=${n.limitType})`}function mf(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Et.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of nu(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(c,m,p){const g=K1(c,m,p);return c.inclusive?g<=0:g<0})(r.startAt,nu(r),o)||r.endAt&&!(function(c,m,p){const g=K1(c,m,p);return c.inclusive?g>=0:g>0})(r.endAt,nu(r),o))})(n,t)}function xI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dS(n){return(t,i)=>{let r=!1;for(const o of nu(n)){const u=RI(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function RI(n,t,i){const r=n.field.isKeyField()?Et.comparator(t.key,i.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?wo(p,g):bt(42886)})(n.field,t,i);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Er(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return ZA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new fe(Et.comparator);function _s(){return CI}const mS=new fe(Et.comparator);function Yl(...n){let t=mS;for(const i of n)t=t.insert(i.key,i);return t}function pS(n){let t=mS;return n.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function sa(){return iu()}function gS(){return iu()}function iu(){return new da((n=>n.toString()),((n,t)=>n.isEqual(t)))}const DI=new fe(Et.comparator),VI=new Be(Et.comparator);function Ut(...n){let t=VI;for(const i of n)t=t.add(i);return t}const MI=new Be(kt);function NI(){return MI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(t)?"-0":t}}function yS(n){return{integerValue:""+n}}function II(n,t){return iI(t)?yS(t):Bg(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this._=void 0}}function OI(n,t,i){return n instanceof _u?(function(o,u){const c={fields:{[tS]:{stringValue:JA},[nS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kg(u)&&(u=cf(u)),u&&(c.fields[eS]=u),{mapValue:c}})(i,t):n instanceof Tu?_S(n,t):n instanceof Eu?TS(n,t):(function(o,u){const c=vS(o,u),m=$1(c)+$1(o.Ae);return Up(c)&&Up(o.Ae)?yS(m):Bg(o.serializer,m)})(n,t)}function PI(n,t,i){return n instanceof Tu?_S(n,t):n instanceof Eu?TS(n,t):i}function vS(n,t){return n instanceof $h?(function(r){return Up(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class _u extends pf{}class Tu extends pf{constructor(t){super(),this.elements=t}}function _S(n,t){const i=ES(t);for(const r of n.elements)i.some((o=>Yi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Eu extends pf{constructor(t){super(),this.elements=t}}function TS(n,t){let i=ES(t);for(const r of n.elements)i=i.filter((o=>!Yi(o,r)));return{arrayValue:{values:i}}}class $h extends pf{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function $1(n){return be(n.integerValue||n.doubleValue)}function ES(n){return Ug(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t,i){this.field=t,this.transform=i}}function kI(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof Tu&&o instanceof Tu||r instanceof Eu&&o instanceof Eu?So(r.elements,o.elements,Yi):r instanceof $h&&o instanceof $h?Yi(r.Ae,o.Ae):r instanceof _u&&o instanceof _u})(n.transform,t.transform)}class UI{constructor(t,i){this.version=t,this.transformResults=i}}class dn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new dn}static exists(t){return new dn(void 0,t)}static updateTime(t){return new dn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class gf{}function bS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Fg(n.key,dn.none()):new Vu(n.key,n.data,dn.none());{const i=n.data,r=fn.empty();let o=new Be(nn.comparator);for(let u of t.fields)if(!o.has(u)){let c=i.field(u);c===null&&u.length>1&&(u=u.popLast(),c=i.field(u)),c===null?r.delete(u):r.set(u,c),o=o.add(u)}return new br(n.key,r,new Ln(o.toArray()),dn.none())}}function zI(n,t,i){n instanceof Vu?(function(o,u,c){const m=o.value.clone(),p=W1(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,t,i):n instanceof br?(function(o,u,c){if(!Mh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=W1(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(AS(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,t,i):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,i)}function su(n,t,i,r){return n instanceof Vu?(function(u,c,m,p){if(!Mh(u.precondition,c))return m;const g=u.value.clone(),v=J1(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,i,r):n instanceof br?(function(u,c,m,p){if(!Mh(u.precondition,c))return m;const g=J1(u.fieldTransforms,p,c),v=c.data;return v.setAll(AS(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(n,t,i,r):(function(u,c,m){return Mh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(n,t,i)}function jI(n,t){let i=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=vS(r.transform,o||null);u!=null&&(i===null&&(i=fn.empty()),i.set(r.field,u))}return i||null}function Z1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&So(r,o,((u,c)=>kI(u,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Vu extends gf{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class br extends gf{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AS(n){const t=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=n.data.field(i);t.set(i,r)}})),t}function W1(n,t,i){const r=new Map;Ft(n.length===i.length,32656,{Ve:i.length,de:n.length});for(let o=0;o<i.length;o++){const u=n[o],c=u.transform,m=t.data.field(u.field);r.set(u.field,PI(c,m,i[o]))}return r}function J1(n,t,i){const r=new Map;for(const o of n){const u=o.transform,c=i.data.field(o.field);r.set(o.field,OI(u,c,t))}return r}class Fg extends gf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SS extends gf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&zI(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=su(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=su(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=gS();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=i.has(o.key)?null:m;const p=bS(c,m);p!==null&&r.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&So(this.mutations,t.mutations,((i,r)=>Z1(i,r)))&&So(this.baseMutations,t.baseMutations,((i,r)=>Z1(i,r)))}}class Hg{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Ft(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return DI})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,r[c].version);return new Hg(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,jt;function wS(n){switch(n){case et.OK:return bt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return bt(15467,{code:n})}}function xS(n){if(n===void 0)return vs("GRPC error has no .code"),et.UNKNOWN;switch(n){case Ie.OK:return et.OK;case Ie.CANCELLED:return et.CANCELLED;case Ie.UNKNOWN:return et.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return et.INTERNAL;case Ie.UNAVAILABLE:return et.UNAVAILABLE;case Ie.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ie.NOT_FOUND:return et.NOT_FOUND;case Ie.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ie.ABORTED:return et.ABORTED;case Ie.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ie.DATA_LOSS:return et.DATA_LOSS;default:return bt(39323,{code:n})}}(jt=Ie||(Ie={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new ur([4294967295,4294967295],0);function tE(n){const t=qI().encode(n),i=new BA;return i.update(t),new Uint8Array(i.digest())}function eE(n){const t=new DataView(n.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ur([i,r],0),new ur([o,u],0)]}class qg{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ur.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(ur.fromNumber(r)));return o.compare(GI)===1&&(o=new ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=tE(t),[r,o]=eE(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);if(!this.we(c))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new qg(u,o,i);return r.forEach((m=>c.insert(m))),c}insert(t){if(this.ge===0)return;const i=tE(t),[r,o]=eE(i);for(let u=0;u<this.hashCount;u++){const c=this.ye(r,o,u);this.be(c)}}be(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Mu.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new yf(St.min(),o,new fe(kt),_s(),Ut())}}class Mu{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Mu(r,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,i,r,o){this.Se=t,this.removedTargetIds=i,this.key=r,this.De=o}}class RS{constructor(t,i){this.targetId=t,this.Ce=i}}class CS{constructor(t,i,r=sn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class nE{constructor(){this.ve=0,this.Fe=iE(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),r=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:u})}})),new Mu(this.Me,this.xe,t,i,r)}Ke(){this.Oe=!1,this.Fe=iE()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class KI{constructor(t){this.Ge=t,this.ze=new Map,this.je=_s(),this.He=gh(),this.Je=gh(),this.Ze=new fe(kt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(jp(u))if(r===0){const c=new Et(u.path);this.et(i,c,Ye.newNoDocument(c,St.min()))}else Ft(r===1,20013,{expectedCount:r});else{const c=this._t(i);if(c!==r){const m=this.ut(t),p=m?this.ct(m,t,c):1;if(p!==0){this.it(i);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let c,m;try{c=gr(r).toUint8Array()}catch(p){if(p instanceof WA)return Ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new qg(c,o,u)}catch(p){return Ao(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&jp(m.target)){const p=new Et(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Ye.newNoDocument(p,t))}u.Be&&(i.set(c,u.ke()),u.Ke())}}));let r=Ut();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new yf(t,i,this.Ze,this.je,r);return this.je=_s(),this.He=gh(),this.Je=gh(),this.Ze=new fe(kt),o}Ye(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new nE,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Be(kt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Be(kt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||dt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new nE),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function gh(){return new fe(Et.comparator)}function iE(){return new fe(Et.comparator)}const YI={asc:"ASCENDING",desc:"DESCENDING"},QI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XI={and:"AND",or:"OR"};class $I{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Fp(n,t){return n.useProto3Json||Du(t)?t:{value:t}}function Zh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function ZI(n,t){return Zh(n,t.toTimestamp())}function Un(n){return Ft(!!n,49232),St.fromTimestamp((function(i){const r=pr(i);return new le(r.seconds,r.nanos)})(n))}function Gg(n,t){return Hp(n,t).canonicalString()}function Hp(n,t){const i=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?i:i.child(t)}function VS(n){const t=ie.fromString(n);return Ft(LS(t),10190,{key:t.toString()}),t}function Wh(n,t){return Gg(n.databaseId,t.path)}function ru(n,t){const i=VS(t);if(i.get(1)!==n.databaseId.projectId)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new Et(NS(i))}function MS(n,t){return Gg(n.databaseId,t)}function WI(n){const t=VS(n);return t.length===4?ie.emptyPath():NS(t)}function qp(n){return new ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NS(n){return Ft(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function sE(n,t,i){return{name:Wh(n,t),fields:i.value.mapValue.fields}}function JI(n,t){return"found"in t?(function(r,o){Ft(!!o.found,43571),o.found.name,o.found.updateTime;const u=ru(r,o.found.name),c=Un(o.found.updateTime),m=o.found.createTime?Un(o.found.createTime):St.min(),p=new fn({mapValue:{fields:o.found.fields}});return Ye.newFoundDocument(u,c,m,p)})(n,t):"missing"in t?(function(r,o){Ft(!!o.missing,3894),Ft(!!o.readTime,22933);const u=ru(r,o.missing),c=Un(o.readTime);return Ye.newNoDocument(u,c)})(n,t):bt(7234,{result:t})}function t3(n,t){let i;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:bt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(Ft(v===void 0||typeof v=="string",58123),sn.fromBase64String(v||"")):(Ft(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),sn.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?et.UNKNOWN:xS(g.code);return new mt(v,g.message||"")})(c);i=new CS(r,o,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=ru(n,r.document.name),u=Un(r.document.updateTime),c=r.document.createTime?Un(r.document.createTime):St.min(),m=new fn({mapValue:{fields:r.document.fields}}),p=Ye.newFoundDocument(o,u,c,m),g=r.targetIds||[],v=r.removedTargetIds||[];i=new Nh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=ru(n,r.document),u=r.readTime?Un(r.readTime):St.min(),c=Ye.newNoDocument(o,u),m=r.removedTargetIds||[];i=new Nh([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=ru(n,r.document),u=r.removedTargetIds||[];i=new Nh([],u,o,null)}else{if(!("filter"in t))return bt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,c=new HI(o,u),m=r.targetId;i=new RS(m,c)}}return i}function IS(n,t){let i;if(t instanceof Vu)i={update:sE(n,t.key,t.value)};else if(t instanceof Fg)i={delete:Wh(n,t.key)};else if(t instanceof br)i={update:sE(n,t.key,t.data),updateMask:u3(t.fieldMask)};else{if(!(t instanceof SS))return bt(16599,{dt:t.type});i={verify:Wh(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,c){const m=c.transform;if(m instanceof _u)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Tu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Eu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $h)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw bt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ZI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt(27497)})(n,t.precondition)),i}function e3(n,t){return n&&n.length>0?(Ft(t!==void 0,14353),n.map((i=>(function(o,u){let c=o.updateTime?Un(o.updateTime):Un(u);return c.isEqual(St.min())&&(c=Un(u)),new UI(c,o.transformResults||[])})(i,t)))):[]}function n3(n,t){return{documents:[MS(n,t.path)]}}function i3(n,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=MS(n,o);const u=(function(g){if(g.length!==0)return PS(Qi.create(g,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(b){return{field:ro(b.field),direction:a3(b.dir)}})(v)))})(t.orderBy);c&&(i.structuredQuery.orderBy=c);const m=Fp(n,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:o}}function s3(n){let t=WI(n.parent);const i=n.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ft(r===1,65062);const v=i.from[0];v.allDescendants?o=v.collectionId:t=t.child(v.collectionId)}let u=[];i.where&&(u=(function(T){const b=OS(T);return b instanceof Qi&&lS(b)?b.getFilters():[b]})(i.where));let c=[];i.orderBy&&(c=(function(T){return T.map((b=>(function(N){return new Xh(ao(N.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(b)))})(i.orderBy));let m=null;i.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Du(b)?null:b})(i.limit));let p=null;i.startAt&&(p=(function(T){const b=!!T.before,R=T.values||[];return new Qh(R,b)})(i.startAt));let g=null;return i.endAt&&(g=(function(T){const b=!T.before,R=T.values||[];return new Qh(R,b)})(i.endAt)),bI(t,o,c,u,m,"F",p,g)}function r3(n,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function OS(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ao(i.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(i.unaryFilter.field);return je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(i.unaryFilter.field);return je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ao(i.unaryFilter.field);return je.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(n):n.fieldFilter!==void 0?(function(i){return je.create(ao(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return Qi.create(i.compositeFilter.filters.map((r=>OS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(n):bt(30097,{filter:n})}function a3(n){return YI[n]}function o3(n){return QI[n]}function l3(n){return XI[n]}function ro(n){return{fieldPath:n.canonicalString()}}function ao(n){return nn.fromServerFormat(n.fieldPath)}function PS(n){return n instanceof je?(function(i){if(i.op==="=="){if(G1(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NAN"}};if(q1(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(G1(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NOT_NAN"}};if(q1(i.value))return{unaryFilter:{field:ro(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(i.field),op:o3(i.op),value:i.value}}})(n):n instanceof Qi?(function(i){const r=i.getFilters().map((o=>PS(o)));return r.length===1?r[0]:{compositeFilter:{op:l3(i.op),filters:r}}})(n):bt(54877,{filter:n})}function u3(n){const t=[];return n.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function LS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function kS(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,i,r,o,u=St.min(),c=St.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(t){this.yt=t}}function h3(n){const t=s3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.Sn=new d3}addToCollectionParentIndex(t,i){return this.Sn.add(i),nt.resolve()}getCollectionParents(t,i){return nt.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return nt.resolve()}deleteFieldIndex(t,i){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,i){return nt.resolve()}getDocumentsMatchingTarget(t,i){return nt.resolve(null)}getIndexType(t,i){return nt.resolve(0)}getFieldIndexes(t,i){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,i){return nt.resolve(mr.min())}getMinOffsetFromCollectionGroup(t,i){return nt.resolve(mr.min())}updateCollectionGroup(t,i,r){return nt.resolve()}updateIndexEntries(t,i){return nt.resolve()}}class d3{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Be(ie.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Be(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},US=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(US,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Ro(0)}static ar(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="LruGarbageCollector",zS=1048576;function oE([n,t],[i,r]){const o=kt(n,i);return o===0?kt(t,r):o}class m3{constructor(t){this.Pr=t,this.buffer=new Be(oE),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();oE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class p3{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){dt(aE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Oo(i)?dt(aE,"Ignoring IndexedDB error during garbage collection: ",i):await Io(i)}await this.Ar(3e5)}))}}class g3{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return nt.resolve(uf.ce);const r=new m3(i);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(rE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let r,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(r=T,m=Date.now(),this.removeTargets(t,r,i)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((T=>(g=Date.now(),io()<=Bt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function y3(n,t){return new g3(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.changes=new da((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?nt.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&su(r.mutation,o,Ln.empty(),le.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ut()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ut()){const o=sa();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let c=Yl();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,i){const r=sa();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ut())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{i.set(c,m)}))}))}computeViews(t,i,r,o){let u=_s();const c=iu(),m=(function(){return iu()})();return i.forEach(((p,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof br)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),su(v.mutation,g,v.mutation.getFieldMask(),le.now())):c.set(g.key,Ln.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),i.forEach(((g,v)=>m.set(g,new _3(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,i){const r=iu();let o=new fe(((c,m)=>c-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=i.get(p);if(g===null)return;let v=r.get(p)||Ln.empty();v=m.applyToLocalView(g,v),r.set(p,v);const T=(o.get(m.batchId)||Ut()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=gS();v.forEach((b=>{if(!u.has(b)){const R=bS(i.get(b),r.get(b));R!==null&&T.set(b,R),u=u.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,T))}return nt.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return AI(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):SI(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):nt.resolve(sa());let m=pu,p=u;return c.next((g=>nt.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?nt.resolve():this.remoteDocumentCache.getEntry(t,v).next((b=>{p=p.insert(v,b)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((v=>({batchId:m,changes:pS(v)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Et(i)).next((r=>{let o=Yl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let c=Yl();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const g=(function(T,b){return new hf(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,r,o).next((v=>{v.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Ye.newInvalidDocument(v)))}));let m=Yl();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&su(v.mutation,g,Ln.empty(),le.now()),mf(i,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return nt.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Un(o.createTime)}})(i)),nt.resolve()}getNamedQuery(t,i){return nt.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:h3(o.bundledQuery),readTime:Un(o.readTime)}})(i)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.overlays=new fe(Et.comparator),this.Lr=new Map}getOverlay(t,i){return nt.resolve(this.overlays.get(i))}getOverlays(t,i){const r=sa();return nt.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.bt(t,i,u)})),nt.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),nt.resolve()}getOverlaysForCollection(t,i,r){const o=sa(),u=i.length+1,c=new Et(i.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new fe(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let v=u.get(g.largestBatchId);v===null&&(v=sa(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return nt.resolve(m)}bt(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new FI(i,r));let u=this.Lr.get(i);u===void 0&&(u=Ut(),this.Lr.set(i,u)),this.Lr.set(i,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.kr=new Be(Ke.Kr),this.qr=new Be(Ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const r=new Ke(t,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new Ke(t,i))}Qr(t,i){t.forEach((r=>this.removeReference(r,i)))}Gr(t){const i=new Et(new ie([])),r=new Ke(i,t),o=new Ke(i,t+1),u=[];return this.qr.forEachInRange([r,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new Et(new ie([])),r=new Ke(i,t),o=new Ke(i,t+1);let u=Ut();return this.qr.forEachInRange([r,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const i=new Ke(t,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ke{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return Et.comparator(t.key,i.key)||kt(t.Hr,i.Hr)}static Ur(t,i){return kt(t.Hr,i.Hr)||Et.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Be(Ke.Kr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new BI(u,i,r,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new Ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,i){return nt.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.Xr(r),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Lg:this.Yn-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ke(i,0),o=new Ke(i,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Be(kt);return i.forEach((o=>{const u=new Ke(o,0),c=new Ke(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{r=r.add(m.Hr)}))})),nt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;Et.isDocumentKey(u)||(u=u.child(""));const c=new Ke(new Et(u),0);let m=new Be(kt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),c),nt.resolve(this.Yr(m))}Yr(t){const i=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return nt.forEach(i.mutations,(o=>{const u=new Ke(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,i){const r=new Ke(i,0),o=this.Jr.firstAfterOrEqual(r);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(t){this.ti=t,this.docs=(function(){return new fe(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,c=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return nt.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(t,i){let r=_s();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Ye.newInvalidDocument(o))})),nt.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=_s();const c=i.path,m=new Et(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||JN(WN(v),r)<=0||(o.has(v.key)||mf(i,v))&&(u=u.insert(v.key,v.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,i,r,o){bt(9500)}ni(t,i){return nt.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new x3(this)}getSize(t){return nt.resolve(this.size)}}class x3 extends v3{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(r)})),nt.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(t){this.persistence=t,this.ri=new da((i=>zg(i)),jg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new Kg,this.targetCount=0,this.oi=Ro._r()}forEachTarget(t,i){return this.ri.forEach(((r,o)=>i(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),nt.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Ro(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,nt.resolve()}updateTargetData(t,i){return this.lr(i),nt.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=i&&r.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,i){const r=this.ri.get(i)||null;return nt.resolve(r)}addMatchingKeys(t,i,r){return this.si.$r(i,r),nt.resolve()}removeMatchingKeys(t,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),nt.resolve()}getMatchingKeysForTargetId(t,i){const r=this.si.jr(i);return nt.resolve(r)}containsKey(t,i){return nt.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,i){this._i={},this.overlays={},this.ai=new uf(0),this.ui=!1,this.ui=!0,this.ci=new A3,this.referenceDelegate=t(this),this.li=new R3(this),this.indexManager=new f3,this.remoteDocumentCache=(function(o){return new w3(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new c3(i),this.Pi=new E3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new b3,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this._i[t.toKey()];return r||(r=new S3(i,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,r){dt("MemoryPersistence","Starting transaction:",t);const o=new C3(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,i){return nt.or(Object.values(this._i).map((r=>()=>r.containsKey(t,i))))}}class C3 extends eI{constructor(t){super(),this.currentSequenceNumber=t}}class Yg{constructor(t){this.persistence=t,this.Ri=new Kg,this.Ai=null}static Vi(t){return new Yg(t)}get di(){if(this.Ai)return this.Ai;throw bt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),nt.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),nt.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.di,(r=>{const o=Et.fromPath(r);return this.mi(t,o).next((u=>{u||i.removeEntry(o,St.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return nt.or([()=>nt.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Jh{constructor(t,i){this.persistence=t,this.fi=new da((r=>sI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=y3(this,i)}static Vi(t,i){return new Jh(t,i)}Ti(){}Ii(t){return nt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}pr(t){let i=0;return this.mr(t,(r=>{i++})).next((()=>i))}mr(t,i){return nt.forEach(this.fi,((r,o)=>this.wr(t,r,o).next((u=>u?nt.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(c=>this.wr(t,c,i).next((m=>{m||(r++,u.removeEntry(c,St.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),nt.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),nt.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Dh(t.data.value)),i}wr(t,i,r){return nt.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return nt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Ts=r,this.Is=o}static Es(t,i){let r=Ut(),o=Ut();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Qg(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return b4()?8:nI(T4())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.gs(t,i).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(t,i,o,r).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new D3;return this.ys(t,i,c).next((m=>{if(u.result=m,this.As)return this.ws(t,i,c,m.size)}))})).next((()=>u.result))}ws(t,i,r,o){return r.documentReadCount<this.Vs?(io()<=Bt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",so(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(io()<=Bt.DEBUG&&dt("QueryEngine","Query:",so(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(io()<=Bt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",so(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qi(i))):nt.resolve())}gs(t,i){if(X1(i))return nt.resolve(null);let r=qi(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Bp(i,null,"F"),r=qi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const c=Ut(...u);return this.fs.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,r).next((p=>{const g=this.bs(i,m);return this.Ss(i,g,c,p.readTime)?this.gs(t,Bp(i,null,"F")):this.Ds(t,g,i,p)}))))})))))}ps(t,i,r,o){return X1(i)||o.isEqual(St.min())?nt.resolve(null):this.fs.getDocuments(t,r).next((u=>{const c=this.bs(i,u);return this.Ss(i,c,r,o)?nt.resolve(null):(io()<=Bt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(i)),this.Ds(t,c,i,ZN(o,pu)).next((m=>m)))}))}bs(t,i){let r=new Be(dS(t));return i.forEach(((o,u)=>{mf(t,u)&&(r=r.add(u))})),r}Ss(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,i,r){return io()<=Bt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",so(i)),this.fs.getDocumentsMatchingQuery(t,i,mr.min(),r)}Ds(t,i,r,o){return this.fs.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="LocalStore",M3=3e8;class N3{constructor(t,i,r,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new fe(kt),this.Fs=new da((u=>zg(u)),jg),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new T3(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function I3(n,t,i,r){return new N3(n,t,i,r)}async function BS(n,t){const i=wt(n);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Os(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const c=[],m=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return i.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function O3(n,t){const i=wt(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,b=T.keys();let R=nt.resolve();return b.forEach((N=>{R=R.next((()=>v.getEntry(p,N))).next((j=>{const O=g.docVersions.get(N);Ft(O!==null,48541),j.version.compareTo(O)<0&&(T.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))}))})),R.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ut();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function FS(n){const t=wt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function P3(n,t){const i=wt(n),r=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const m=[];t.targetChanges.forEach(((v,T)=>{const b=o.get(T);if(!b)return;m.push(i.li.removeMatchingKeys(u,v.removedDocuments,T).next((()=>i.li.addMatchingKeys(u,v.addedDocuments,T))));let R=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?R=R.withResumeToken(sn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,r)),o=o.insert(T,R),(function(j,O,F){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=M3?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(b,R,v)&&m.push(i.li.updateTargetData(u,R))}));let p=_s(),g=Ut();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(L3(u,c,t.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!r.isEqual(St.min())){const v=i.li.getLastRemoteSnapshotVersion(u).next((T=>i.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(v)}return nt.waitFor(m).next((()=>c.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(i.vs=o,u)))}function L3(n,t,i){let r=Ut(),o=Ut();return i.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let c=_s();return i.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):dt(Xg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function k3(n,t){const i=wt(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Lg),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function U3(n,t){const i=wt(n);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,t).next((u=>u?(o=u,nt.resolve(o)):i.li.allocateTargetId(r).next((c=>(o=new rr(t,c,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(t,r.targetId)),r}))}async function Gp(n,t,i){const r=wt(n),o=r.vs.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Oo(c))throw c;dt(Xg,`Failed to update sequence numbers for target ${t}: ${c}`)}r.vs=r.vs.remove(t),r.Fs.delete(o.target)}function lE(n,t,i){const r=wt(n);let o=St.min(),u=Ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=wt(p),b=T.Fs.get(v);return b!==void 0?nt.resolve(T.vs.get(b)):T.li.getTargetData(g,v)})(r,c,qi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,i?o:St.min(),i?u:Ut()))).next((m=>(z3(r,xI(t),m),{documents:m,ks:u})))))}function z3(n,t,i){let r=n.Ms.get(t)||St.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Ms.set(t,r)}class uE{constructor(){this.activeTargetIds=NI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class j3{constructor(){this.vo=new uE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,r){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new uE,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="ConnectivityMonitor";class hE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){dt(cE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){dt(cE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function Kp(){return yh===null?yh=(function(){return 268435456+Math.round(2147483648*Math.random())})():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="RestConnection",F3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class H3{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Kh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,i,r,o,u){const c=Kp(),m=this.Qo(t,i.toUriEncodedString());dt(Jm,`Sending RPC '${t}' ${c}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),v=Ru(g);return this.zo(t,m,p,r,v).then((T=>(dt(Jm,`Received RPC '${t}' ${c}: `,T),T)),(T=>{throw Ao(Jm,`RPC '${t}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}jo(t,i,r,o,u,c){return this.Wo(t,i,r,o,u)}Go(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Qo(t,i){const r=F3[t];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection",Hl=(n,t,i)=>{n.listen(t,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class vo extends H3{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!vo.c_){const t=GA();Hl(t,qA.STAT_EVENT,(i=>{i.stat===Pp.PROXY?dt(an,"STAT_EVENT: detected buffering proxy"):i.stat===Pp.NOPROXY&&dt(an,"STAT_EVENT: detected no buffering proxy")})),vo.c_=!0}}zo(t,i,r,o,u){const c=Kp();return new Promise(((m,p)=>{const g=new FA;g.setWithCredentials(!0),g.listenOnce(HA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ch.NO_ERROR:const T=g.getResponseJson();dt(an,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),m(T);break;case Ch.TIMEOUT:dt(an,`RPC '${t}' ${c} timed out`),p(new mt(et.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const b=g.getStatus();if(dt(an,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R==null?void 0:R.error;if(N&&N.status&&N.message){const j=(function(F){const X=F.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(X)>=0?X:et.UNKNOWN})(N.status);p(new mt(j,N.message))}else p(new mt(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new mt(et.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{dt(an,`RPC '${t}' ${c} completed.`)}}));const v=JSON.stringify(o);dt(an,`RPC '${t}' ${c} sending request:`,o),g.send(i,"POST",v,r,15)}))}T_(t,i,r){const o=Kp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,i,r),m.encodeInitMessageHeaders=!0;const g=u.join("");dt(an,`Creating RPC '${t}' stream ${o}: ${g}`,m);const v=c.createWebChannel(g,m);this.I_(v);let T=!1,b=!1;const R=new q3({Ho:N=>{b?dt(an,`Not sending because RPC '${t}' stream ${o} is closed:`,N):(T||(dt(an,`Opening RPC '${t}' stream ${o} transport.`),v.open(),T=!0),dt(an,`RPC '${t}' stream ${o} sending:`,N),v.send(N))},Jo:()=>v.close()});return Hl(v,Kl.EventType.OPEN,(()=>{b||(dt(an,`RPC '${t}' stream ${o} transport opened.`),R.i_())})),Hl(v,Kl.EventType.CLOSE,(()=>{b||(b=!0,dt(an,`RPC '${t}' stream ${o} transport closed`),R.o_(),this.E_(v))})),Hl(v,Kl.EventType.ERROR,(N=>{b||(b=!0,Ao(an,`RPC '${t}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),R.o_(new mt(et.UNAVAILABLE,"The operation could not be completed")))})),Hl(v,Kl.EventType.MESSAGE,(N=>{var j;if(!b){const O=N.data[0];Ft(!!O,16349);const F=O,X=(F==null?void 0:F.error)||((j=F[0])==null?void 0:j.error);if(X){dt(an,`RPC '${t}' stream ${o} received error:`,X);const K=X.status;let st=(function(C){const S=Ie[C];if(S!==void 0)return xS(S)})(K),rt=X.message;K==="NOT_FOUND"&&rt.includes("database")&&rt.includes("does not exist")&&rt.includes(this.databaseId.database)&&Ao(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),st===void 0&&(st=et.INTERNAL,rt="Unknown error status: "+K+" with message "+X.message),b=!0,R.o_(new mt(st,rt)),v.close()}else dt(an,`RPC '${t}' stream ${o} received:`,O),R.__(O)}})),vo.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,r){super.Go(t,i,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(n){return new vo(n)}function tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(n){return new $I(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo.c_=!1;class $g{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=i,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&dt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="PersistentStream";class HS{constructor(t,i,r,o,u,c,m,p){this.Ci=t,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $g(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new mt(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(fE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(dt(fE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K3 extends HS{constructor(t,i,r,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=t3(this.serializer,t),r=(function(u){if(!("targetChange"in u))return St.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Un(c.readTime):St.min()})(t);return this.listener.J_(i,r)}Z_(t){const i={};i.database=qp(this.serializer),i.addTarget=(function(u,c){let m;const p=c.target;if(m=jp(p)?{documents:n3(u,p)}:{query:i3(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=DS(u,c.resumeToken);const g=Fp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(St.min())>0){m.readTime=Zh(u,c.snapshotVersion.toTimestamp());const g=Fp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const r=r3(this.serializer,t);r&&(i.labels=r),this.K_(i)}X_(t){const i={};i.database=qp(this.serializer),i.removeTarget=t,this.K_(i)}}class Y3 extends HS{constructor(t,i,r,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=e3(t.writeResults,t.commitTime),r=Un(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=qp(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>IS(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{}class X3 extends Q3{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(t,Hp(i,r),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(et.UNKNOWN,u.toString())}))}jo(t,i,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(t,Hp(i,r),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(et.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $3(n,t,i,r){return new X3(n,t,i,r)}class Z3{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(i),this.aa=!1):dt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class W3{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{ma(this)&&(dt(ua,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await Nu(g),g.Va.set("Unknown"),g.Ea.delete(4),await _f(g)})(this))}))})),this.Va=new Z3(r,o)}}async function _f(n){if(ma(n))for(const t of n.Ra)await t(!0)}async function Nu(n){for(const t of n.Ra)await t(!1)}function qS(n,t){const i=wt(n);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ty(i)?Jg(i):Po(i).O_()&&Wg(i,t))}function Zg(n,t){const i=wt(n),r=Po(i);i.Ia.delete(t),r.O_()&&GS(i,t),i.Ia.size===0&&(r.O_()?r.L_():ma(i)&&i.Va.set("Unknown"))}function Wg(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Po(n).Z_(t)}function GS(n,t){n.da.$e(t),Po(n).X_(t)}function Jg(n){n.da=new KI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Po(n).start(),n.Va.ua()}function ty(n){return ma(n)&&!Po(n).x_()&&n.Ia.size>0}function ma(n){return wt(n).Ea.size===0}function KS(n){n.da=void 0}async function J3(n){n.Va.set("Online")}async function tO(n){n.Ia.forEach(((t,i)=>{Wg(n,t)}))}async function eO(n,t){KS(n),ty(n)?(n.Va.ha(t),Jg(n)):n.Va.set("Unknown")}async function nO(n,t,i){if(n.Va.set("Online"),t instanceof CS&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(n,t)}catch(r){dt(ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await tf(n,r)}else if(t instanceof Nh?n.da.Xe(t):t instanceof RS?n.da.st(t):n.da.tt(t),!i.isEqual(St.min()))try{const r=await FS(n.localStore);i.compareTo(r)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(sn.EMPTY_BYTE_STRING,v.snapshotVersion)),GS(u,p);const T=new rr(v.target,p,g,v.sequenceNumber);Wg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(n,i)}catch(r){dt(ua,"Failed to raise snapshot:",r),await tf(n,r)}}async function tf(n,t,i){if(!Oo(t))throw t;n.Ea.add(1),await Nu(n),n.Va.set("Offline"),i||(i=()=>FS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{dt(ua,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await _f(n)}))}function YS(n,t){return t().catch((i=>tf(n,i,t)))}async function Tf(n){const t=wt(n),i=vr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lg;for(;iO(t);)try{const o=await k3(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,sO(t,o)}catch(o){await tf(t,o)}QS(t)&&XS(t)}function iO(n){return ma(n)&&n.Ta.length<10}function sO(n,t){n.Ta.push(t);const i=vr(n);i.O_()&&i.Y_&&i.ea(t.mutations)}function QS(n){return ma(n)&&!vr(n).x_()&&n.Ta.length>0}function XS(n){vr(n).start()}async function rO(n){vr(n).ra()}async function aO(n){const t=vr(n);for(const i of n.Ta)t.ea(i.mutations)}async function oO(n,t,i){const r=n.Ta.shift(),o=Hg.from(r,t,i);await YS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Tf(n)}async function lO(n,t){t&&vr(n).Y_&&await(async function(r,o){if((function(c){return wS(c)&&c!==et.ABORTED})(o.code)){const u=r.Ta.shift();vr(r).B_(),await YS(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Tf(r)}})(n,t),QS(n)&&XS(n)}async function dE(n,t){const i=wt(n);i.asyncQueue.verifyOperationInProgress(),dt(ua,"RemoteStore received new credentials");const r=ma(i);i.Ea.add(3),await Nu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await _f(i)}async function uO(n,t){const i=wt(n);t?(i.Ea.delete(2),await _f(i)):t||(i.Ea.add(2),await Nu(i),i.Va.set("Unknown"))}function Po(n){return n.ma||(n.ma=(function(i,r,o){const u=wt(i);return u.sa(),new K3(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:J3.bind(null,n),Yo:tO.bind(null,n),t_:eO.bind(null,n),J_:nO.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),ty(n)?Jg(n):n.Va.set("Unknown")):(await n.ma.stop(),KS(n))}))),n.ma}function vr(n){return n.fa||(n.fa=(function(i,r,o){const u=wt(i);return u.sa(),new Y3(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:rO.bind(null,n),t_:lO.bind(null,n),ta:aO.bind(null,n),na:oO.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Tf(n)):(await n.fa.stop(),n.Ta.length>0&&(dt(ua,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const c=Date.now()+r,m=new ey(t,i,c,o,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(n,t){if(vs("AsyncQueue",`${t}: ${n}`),Oo(n))return new mt(et.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(t){return new _o(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||Et.comparator(i.key,r.key):(i,r)=>Et.comparator(i.key,r.key),this.keyedMap=Yl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof _o)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new _o;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.ga=new fe(Et.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):bt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Co{constructor(t,i,r,o,u,c,m,p,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,o,u){const c=[];return i.forEach((m=>{c.push({type:0,doc:m})})),new Co(t,i,_o.emptySet(i),c,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&df(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class hO{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=wt(i),u=o.queries;o.queries=pE(),u.forEach(((c,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new mt(et.ABORTED,"Firestore shutting down"))}}function pE(){return new da((n=>fS(n)),df)}async function $S(n,t){const i=wt(n);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.Sa()&&t.Da()&&(r=2):(u=new cO,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(c){const m=ny(c,`Initialization of query '${so(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.ba.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&iy(i)}async function ZS(n,t){const i=wt(n),r=t.query;let o=3;const u=i.queries.get(r);if(u){const c=u.ba.indexOf(t);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function fO(n,t){const i=wt(n);let r=!1;for(const o of t){const u=o.query,c=i.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(r=!0);c.wa=o}}r&&iy(i)}function dO(n,t,i){const r=wt(n),o=r.queries.get(t);if(o)for(const u of o.ba)u.onError(i);r.queries.delete(t)}function iy(n){n.Ca.forEach((t=>{t.next()}))}var Yp,gE;(gE=Yp||(Yp={})).Ma="default",gE.Cache="cache";class WS{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Co(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t){this.key=t}}class tw{constructor(t){this.key=t}}class mO{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ut(),this.mutatedKeys=Ut(),this.eu=dS(t),this.tu=new _o(this.eu)}get nu(){return this.Za}ru(t,i){const r=i?i.iu:new mE,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((v,T)=>{const b=o.get(v),R=mf(this.query,T)?T:null,N=!!b&&this.mutatedKeys.has(b.key),j=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let O=!1;b&&R?b.data.isEqual(R.data)?N!==j&&(r.track({type:3,doc:R}),O=!0):this.su(b,R)||(r.track({type:2,doc:R}),O=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(m=!0)):!b&&R?(r.track({type:0,doc:R}),O=!0):b&&!R&&(r.track({type:1,doc:b}),O=!0,(p||g)&&(m=!0)),O&&(R?(c=c.add(R),u=j?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Ss:m,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((v,T)=>(function(R,N){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Vt:O})}};return j(R)-j(N)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(r),o=o??!1;const m=i&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new Co(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return t.forEach((r=>{this.Ya.has(r)||i.push(new tw(r))})),this.Ya.forEach((r=>{t.has(r)||i.push(new JS(r))})),i}cu(t){this.Za=t.ks,this.Ya=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sy="SyncEngine";class pO{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class gO{constructor(t){this.key=t,this.hu=!1}}class yO{constructor(t,i,r,o,u,c){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new da((m=>fS(m)),df),this.Iu=new Map,this.Eu=new Set,this.Ru=new fe(Et.comparator),this.Au=new Map,this.Vu=new Kg,this.du={},this.mu=new Map,this.fu=Ro.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vO(n,t,i=!0){const r=aw(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ew(r,t,i,!0),o}async function _O(n,t){const i=aw(n);await ew(i,t,!0,!1)}async function ew(n,t,i,r){const o=await U3(n.localStore,qi(t)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,i);let m;return r&&(m=await TO(n,t,u,c==="current",o.resumeToken)),n.isPrimaryClient&&i&&qS(n.remoteStore,o),m}async function TO(n,t,i,r,o){n.pu=(T,b,R)=>(async function(j,O,F,X){let K=O.view.ru(F);K.Ss&&(K=await lE(j.localStore,O.query,!1).then((({documents:C})=>O.view.ru(C,K))));const st=X&&X.targetChanges.get(O.targetId),rt=X&&X.targetMismatches.get(O.targetId)!=null,at=O.view.applyChanges(K,j.isPrimaryClient,st,rt);return vE(j,O.targetId,at.au),at.snapshot})(n,T,b,R);const u=await lE(n.localStore,t,!0),c=new mO(t,u.ks),m=c.ru(u.documents),p=Mu.createSynthesizedTargetChangeForCurrentChange(i,r&&n.onlineState!=="Offline",o),g=c.applyChanges(m,n.isPrimaryClient,p);vE(n,i,g.au);const v=new pO(t,i,c);return n.Tu.set(t,v),n.Iu.has(i)?n.Iu.get(i).push(t):n.Iu.set(i,[t]),g.snapshot}async function EO(n,t,i){const r=wt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((c=>!df(c,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Gp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Zg(r.remoteStore,o.targetId),Qp(r,o.targetId)})).catch(Io)):(Qp(r,o.targetId),await Gp(r.localStore,o.targetId,!0))}async function bO(n,t){const i=wt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Zg(i.remoteStore,r.targetId))}async function AO(n,t,i){const r=VO(n);try{const o=await(function(c,m){const p=wt(c),g=le.now(),v=m.reduce(((R,N)=>R.add(N.key)),Ut());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let N=_s(),j=Ut();return p.xs.getEntries(R,v).next((O=>{N=O,N.forEach(((F,X)=>{X.isValidDocument()||(j=j.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,N))).next((O=>{T=O;const F=[];for(const X of m){const K=jI(X,T.get(X.key).overlayedDocument);K!=null&&F.push(new br(X.key,K,rS(K.value.mapValue),dn.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,F,m)})).next((O=>{b=O;const F=O.applyToLocalDocumentSet(T,j);return p.documentOverlayCache.saveOverlays(R,O.batchId,F)}))})).then((()=>({batchId:b.batchId,changes:pS(T)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.du[c.currentUser.toKey()];g||(g=new fe(kt)),g=g.insert(m,p),c.du[c.currentUser.toKey()]=g})(r,o.batchId,i),await Iu(r,o.changes),await Tf(r.remoteStore)}catch(o){const u=ny(o,"Failed to persist write");i.reject(u)}}async function nw(n,t){const i=wt(n);try{const r=await P3(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=i.Au.get(u);c&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ft(c.hu,14607):o.removedDocuments.size>0&&(Ft(c.hu,42227),c.hu=!1))})),await Iu(i,r,t)}catch(r){await Io(r)}}function yE(n,t,i){const r=wt(n);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((u,c)=>{const m=c.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=wt(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const b of T.ba)b.va(m)&&(g=!0)})),g&&iy(p)})(r.eventManager,t),o.length&&r.Pu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function SO(n,t,i){const r=wt(n);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),u=o&&o.key;if(u){let c=new fe(Et.comparator);c=c.insert(u,Ye.newNoDocument(u,St.min()));const m=Ut().add(u),p=new yf(St.min(),new Map,new fe(kt),c,m);await nw(r,p),r.Ru=r.Ru.remove(u),r.Au.delete(t),ry(r)}else await Gp(r.localStore,t,!1).then((()=>Qp(r,t,i))).catch(Io)}async function wO(n,t){const i=wt(n),r=t.batch.batchId;try{const o=await O3(i.localStore,t);sw(i,r,null),iw(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(i,o)}catch(o){await Io(o)}}async function xO(n,t,i){const r=wt(n);try{const o=await(function(c,m){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ft(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(r.localStore,t);sw(r,t,i),iw(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Iu(r,o)}catch(o){await Io(o)}}function iw(n,t){(n.mu.get(t)||[]).forEach((i=>{i.resolve()})),n.mu.delete(t)}function sw(n,t,i){const r=wt(n);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.du[r.currentUser.toKey()]=o}}function Qp(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),i&&n.Pu.yu(r,i);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((r=>{n.Vu.containsKey(r)||rw(n,r)}))}function rw(n,t){n.Eu.delete(t.path.canonicalString());const i=n.Ru.get(t);i!==null&&(Zg(n.remoteStore,i),n.Ru=n.Ru.remove(t),n.Au.delete(i),ry(n))}function vE(n,t,i){for(const r of i)r instanceof JS?(n.Vu.addReference(r.key,t),RO(n,r)):r instanceof tw?(dt(sy,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,t),n.Vu.containsKey(r.key)||rw(n,r.key)):bt(19791,{wu:r})}function RO(n,t){const i=t.key,r=i.path.canonicalString();n.Ru.get(i)||n.Eu.has(r)||(dt(sy,"New document in limbo: "+i),n.Eu.add(r),ry(n))}function ry(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const i=new Et(ie.fromString(t)),r=n.fu.next();n.Au.set(r,new gO(i)),n.Ru=n.Ru.insert(i,r),qS(n.remoteStore,new rr(qi(ff(i.path)),r,"TargetPurposeLimboResolution",uf.ce))}}async function Iu(n,t,i){const r=wt(n),o=[],u=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{c.push(r.pu(p,t,i).then((g=>{var v;if((g||i)&&r.isPrimaryClient){const T=g?!g.fromCache:(v=i==null?void 0:i.targetChanges.get(p.targetId))==null?void 0:v.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Qg.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(c),r.Pu.J_(o),await(async function(p,g){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(g,(b=>nt.forEach(b.Ts,(R=>v.persistence.referenceDelegate.addReference(T,b.targetId,R))).next((()=>nt.forEach(b.Is,(R=>v.persistence.referenceDelegate.removeReference(T,b.targetId,R)))))))))}catch(T){if(!Oo(T))throw T;dt(Xg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const R=v.vs.get(b),N=R.snapshotVersion,j=R.withLastLimboFreeSnapshotVersion(N);v.vs=v.vs.insert(b,j)}}})(r.localStore,u))}async function CO(n,t){const i=wt(n);if(!i.currentUser.isEqual(t)){dt(sy,"User change. New user:",t.toKey());const r=await BS(i.localStore,t);i.currentUser=t,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new mt(et.CANCELLED,c))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Iu(i,r.Ns)}}function DO(n,t){const i=wt(n),r=i.Au.get(t);if(r&&r.hu)return Ut().add(r.key);{let o=Ut();const u=i.Iu.get(t);if(!u)return o;for(const c of u){const m=i.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function aw(n){const t=wt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=nw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SO.bind(null,t),t.Pu.J_=fO.bind(null,t.eventManager),t.Pu.yu=dO.bind(null,t.eventManager),t}function VO(n){const t=wt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xO.bind(null,t),t}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return I3(this.persistence,new V3,t.initialUser,this.serializer)}Cu(t){return new jS(Yg.Vi,this.serializer)}Du(t){return new j3}async terminate(){var t,i;(t=this.gcScheduler)==null||t.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class MO extends ef{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof Jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new p3(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new jS((r=>Jh.Vi(r,i)),this.serializer)}}class Xp{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CO.bind(null,this.syncEngine),await uO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hO})()}createDatastore(t){const i=vf(t.databaseInfo.databaseId),r=G3(t.databaseInfo);return $3(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,c,m){return new W3(r,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(i=>yE(this.syncEngine,i,0)),(function(){return hE.v()?new hE:new B3})())}createSyncEngine(t,i){return(function(o,u,c,m,p,g,v){const T=new yO(o,u,c,m,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(o){const u=wt(o);dt(ua,"RemoteStore shutting down."),u.Ea.add(5),await Nu(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(i=this.eventManager)==null||i.terminate()}}Xp.provider={build:()=>new Xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NO=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new mt(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(o,u){const c=wt(o),m={documents:u.map((T=>Wh(c.serializer,T)))},p=await c.jo("BatchGetDocuments",c.serializer.databaseId,ie.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const b=JI(c.serializer,T);g.set(b.key.toString(),b)}));const v=[];return u.forEach((T=>{const b=g.get(T.toString());Ft(!!b,55234,{key:T}),v.push(b)})),v})(this.datastore,t);return i.forEach((r=>this.recordVersion(r))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new Fg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,r)=>{const o=Et.fromPath(r);this.mutations.push(new SS(o,this.precondition(o)))})),await(async function(r,o){const u=wt(r),c={writes:o.map((m=>IS(u.serializer,m)))};await u.Wo("Commit",u.serializer.databaseId,ie.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw bt(50498,{Gu:t.constructor.name});i=St.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!i.isEqual(r))throw new mt(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(St.min())?dn.exists(!1):dn.updateTime(i):dn.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(St.min()))throw new mt(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dn.updateTime(i)}return dn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,i,r,o,u){this.asyncQueue=t,this.datastore=i,this.options=r,this.updateFunction=o,this.deferred=u,this.zu=r.maxAttempts,this.M_=new $g(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new NO(this.datastore),i=this.Ju(t);i&&i.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((o=>{this.Zu(o)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(t){try{const i=this.updateFunction(t);return!Du(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if((t==null?void 0:t.name)==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!wS(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class OO{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=An.UNAUTHENTICATED,this.clientId=Og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async c=>{dt(_r,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(dt(_r,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ny(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function ep(n,t){n.asyncQueue.verifyOperationInProgress(),dt(_r,"Initializing OfflineComponentProvider");const i=n.configuration;await t.initialize(i);let r=i.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await BS(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function _E(n,t){n.asyncQueue.verifyOperationInProgress();const i=await PO(n);dt(_r,"Initializing OnlineComponentProvider"),await t.initialize(i,n.configuration),n.setCredentialChangeListener((r=>dE(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>dE(t.remoteStore,o))),n._onlineComponents=t}async function PO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(_r,"Using user provided OfflineComponentProvider");try{await ep(n,n._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ao("Error using user provided cache. Falling back to memory cache: "+i),await ep(n,new ef)}}else dt(_r,"Using default OfflineComponentProvider"),await ep(n,new MO(void 0));return n._offlineComponents}async function ay(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(_r,"Using user provided OnlineComponentProvider"),await _E(n,n._uninitializedComponentsProvider._online)):(dt(_r,"Using default OnlineComponentProvider"),await _E(n,new Xp))),n._onlineComponents}function LO(n){return ay(n).then((t=>t.syncEngine))}function kO(n){return ay(n).then((t=>t.datastore))}async function $p(n){const t=await ay(n),i=t.eventManager;return i.onListen=vO.bind(null,t.syncEngine),i.onUnlisten=EO.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=_O.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=bO.bind(null,t.syncEngine),i}function UO(n,t,i,r){const o=new ow(r),u=new WS(t,o,i);return n.asyncQueue.enqueueAndForget((async()=>$S(await $p(n),u))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>ZS(await $p(n),u)))}}function zO(n,t,i={}){const r=new ms;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new ow({next:b=>{v.Nu(),c.enqueueAndForget((()=>ZS(u,T)));const R=b.docs.has(m);!R&&b.fromCache?g.reject(new mt(et.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&p&&p.source==="server"?g.reject(new mt(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new WS(ff(m.path),v,{includeMetadataChanges:!0,Ka:!0});return $S(u,T)})(await $p(n),n.asyncQueue,t,i,r))),r.promise}function jO(n,t){const i=new ms;return n.asyncQueue.enqueueAndForget((async()=>AO(await LO(n),t,i))),i.promise}function BO(n,t,i){const r=new ms;return n.asyncQueue.enqueueAndForget((async()=>{const o=await kO(n);new IO(n.asyncQueue,o,i,t,r).ju()})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="ComponentProvider",TE=new Map;function HO(n,t,i,r,o){return new oI(n,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,lw(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="firestore.googleapis.com",EE=!0;class bE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qO,this.ssl=EE}else this.host=t.host,this.ssl=t.ssl??EE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=US;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zS)throw new mt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$N("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lw(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class oy{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new BN;switch(r.type){case"firstParty":return new qN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new mt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=TE.get(i);r&&(dt(FO,"Removing Datastore"),TE.delete(i),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ef(this.firestore,t,this._query)}}class Ae{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ae(this.firestore,t,this._key)}toJSON(){return{type:Ae._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Cu(i,Ae._jsonSchema))return new Ae(t,r||null,new Et(ie.fromString(i.referencePath)))}}Ae._jsonSchemaVersion="firestore/documentReference/1.0",Ae._jsonSchema={type:Pe("string",Ae._jsonSchemaVersion),referencePath:Pe("string")};class cr extends Ef{constructor(t,i,r){super(t,i,ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ae(this.firestore,null,new Et(t))}withConverter(t){return new cr(this.firestore,t,this._path)}}function GO(n,t,...i){if(n=wn(n),QA("collection","path",t),n instanceof oy){const r=ie.fromString(t,...i);return L1(r),new cr(n,null,r)}{if(!(n instanceof Ae||n instanceof cr))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(t,...i));return L1(r),new cr(n.firestore,null,r)}}function oo(n,t,...i){if(n=wn(n),arguments.length===1&&(t=Og.newId()),QA("doc","path",t),n instanceof oy){const r=ie.fromString(t,...i);return P1(r),new Ae(n,null,new Et(r))}{if(!(n instanceof Ae||n instanceof cr))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ie.fromString(t,...i));return P1(r),new Ae(n.firestore,n instanceof cr?n.converter:null,new Et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class SE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $g(this,"async_queue_retry"),this._c=()=>{const r=tp();r&&dt(AE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=tp();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=tp();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Oo(t))throw t;dt(AE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",wE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=ey.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:wE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function wE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class ca extends oy{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new SE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new SE(t),this._firestoreClient=void 0,await t}}}function KO(n,t,i){i||(i=Kh);const r=PA(n,"firestore");if(r.isInitialized(i)){const o=r.getImmediate({identifier:i}),u=r.getOptions(i);if(Hh(u,t))return o;throw new mt(et.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new mt(et.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zS)throw new mt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Ru(t.host)&&VA(t.host),r.initialize({options:t,instanceIdentifier:i})}function bf(n){if(n._terminated)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YO(n),n._firestoreClient}function YO(n){var r,o,u,c;const t=n._freezeSettings(),i=HO(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(o=n._app)==null?void 0:o.options.apiKey,t);n._componentsProvider||(u=t.localCache)!=null&&u._offlineComponentProvider&&((c=t.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new OO(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(sn.fromBase64String(t))}catch(i){throw new mt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(sn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Cu(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Pe("string",Pn._jsonSchemaVersion),bytes:Pe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new mt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new mt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new mt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(t){if(Cu(t,Gi._jsonSchema))return new Gi(t.latitude,t.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:Pe("string",Gi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Cu(t,gi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new gi(t.vectorValues);throw new mt(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Pe("string",gi._jsonSchemaVersion),vectorValues:Pe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=/^__.*__$/;class XO{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new br(t,this.data,this.fieldMask,i,this.fieldTransforms):new Vu(t,this.data,i,this.fieldTransforms)}}class uw{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new br(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function cw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{dataSource:n})}}class uy{constructor(t,i,r,o,u,c){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new uy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var o;const i=(o=this.path)==null?void 0:o.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var o;const i=(o=this.path)==null?void 0:o.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return nf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(cw(this.dataSource)&&QO.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class $O{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||vf(t)}createContext(t,i,r,o=!1){return new uy({dataSource:t,methodName:i,targetDoc:r,path:nn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cy(n){const t=n._freezeSettings(),i=vf(n._databaseId);return new $O(n._databaseId,!!t.ignoreUndefinedProperties,i)}function hy(n,t,i,r,o,u={}){const c=n.createContext(u.merge||u.mergeFields?2:0,t,i,o);dy("Data must be an object, but it was:",c,r);const m=hw(r,c);let p,g;if(u.merge)p=new Ln(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const b=bu(t,T,i);if(!c.contains(b))throw new mt(et.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);mw(v,b)||v.push(b)}p=new Ln(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new XO(new fn(m),p,g)}class Sf extends Af{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Sf}}class fy extends Af{_toFieldTransform(t){return new LI(t.path,new _u)}isEqual(t){return t instanceof fy}}function ZO(n,t,i,r){const o=n.createContext(1,t,i);dy("Data must be an object, but it was:",o,r);const u=[],c=fn.empty();Er(r,((p,g)=>{const v=dw(t,p,i);g=wn(g);const T=o.childContextForFieldPath(v);if(g instanceof Sf)u.push(v);else{const b=wf(g,T);b!=null&&(u.push(v),c.set(v,b))}}));const m=new Ln(u);return new uw(c,m,o.fieldTransforms)}function WO(n,t,i,r,o,u){const c=n.createContext(1,t,i),m=[bu(t,r,i)],p=[o];if(u.length%2!=0)throw new mt(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(bu(t,u[b])),p.push(u[b+1]);const g=[],v=fn.empty();for(let b=m.length-1;b>=0;--b)if(!mw(g,m[b])){const R=m[b];let N=p[b];N=wn(N);const j=c.childContextForFieldPath(R);if(N instanceof Sf)g.push(R);else{const O=wf(N,j);O!=null&&(g.push(R),v.set(R,O))}}const T=new Ln(g);return new uw(v,T,c.fieldTransforms)}function wf(n,t){if(fw(n=wn(n)))return dy("Unsupported field value:",t,n),hw(n,t);if(n instanceof Af)return(function(r,o){if(!cw(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,o){const u=[];let c=0;for(const m of r){let p=wf(m,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=wn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return II(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=le.fromDate(r);return{timestampValue:Zh(o.serializer,u)}}if(r instanceof le){const u=new le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zh(o.serializer,u)}}if(r instanceof Gi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:DS(o.serializer,r._byteString)};if(r instanceof Ae){const u=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Gg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof gi)return(function(c,m){const p=c instanceof gi?c.toArray():c;return{mapValue:{fields:{[iS]:{stringValue:sS},[Yh]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw m.createError("VectorValues must only contain numeric values.");return Bg(m.serializer,v)}))}}}}}})(r,o);if(kS(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Pg(r)}`)})(n,t)}function hw(n,t){const i={};return ZA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Er(n,((r,o)=>{const u=wf(o,t.childContextForField(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function fw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof le||n instanceof Gi||n instanceof Pn||n instanceof Ae||n instanceof Af||n instanceof gi||kS(n))}function dy(n,t,i){if(!fw(i)||!XA(i)){const r=Pg(i);throw r==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+r)}}function bu(n,t,i){if((t=wn(t))instanceof ly)return t._internalPath;if(typeof t=="string")return dw(n,t);throw nf("Field path arguments must be of type string or ",n,!1,void 0,i)}const JO=new RegExp("[~\\*/\\[\\]]");function dw(n,t,i){if(t.search(JO)>=0)throw nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new ly(...t.split("."))._internalPath}catch{throw nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function nf(n,t,i,r,o){const u=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${r}`),c&&(p+=` in document ${o}`),p+=")"),new mt(et.INVALID_ARGUMENT,m+n+p)}function mw(n,t){return n.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{convertValue(t,i="none"){switch(yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Er(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){var r,o,u;const i=(u=(o=(r=t.fields)==null?void 0:r[Yh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((c=>be(c.doubleValue)));return new gi(i)}convertGeoPoint(t){return new Gi(be(t.latitude),be(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=cf(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(gu(t));default:return null}}convertTimestamp(t){const i=pr(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ie.fromString(t);Ft(LS(r),9688,{name:t});const o=new yu(r.get(1),r.get(3)),u=new Et(r.popFirst(5));return o.isEqual(i)||vs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my extends pw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ae(this.firestore,null,i)}}function xE(){return new fy("serverTimestamp")}const RE="@firebase/firestore",CE="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ae(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new t6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const i=this._document.data.field(bu("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class t6 extends sf{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function py(n,t,i){let r;return r=n?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t,r}class n6 extends pw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ae(this.firestore,null,i)}}class po{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hr extends sf{constructor(t,i,r,o,u,c){super(t,i,r,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(bu("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=hr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}hr._jsonSchemaVersion="firestore/documentSnapshot/1.0",hr._jsonSchema={type:Pe("string",hr._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Ih extends hr{data(t={}){return super.data(t)}}class To{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new po(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Ih(this._firestore,this._userDataWriter,r.key,r,new po(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new po(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new po(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:i6(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=To._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function i6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:Pe("string",To._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};const s6={maxAttempts:5};function Xl(n,t){if((n=wn(n)).firestore!==t)throw new mt(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=cy(t)}get(t){const i=Xl(t,this._firestore),r=new n6(this._firestore);return this._transaction.lookup([i._key]).then((o=>{if(!o||o.length!==1)return bt(24041);const u=o[0];if(u.isFoundDocument())return new sf(this._firestore,r,u.key,u,i.converter);if(u.isNoDocument())return new sf(this._firestore,r,i._key,null,i.converter);throw bt(18433,{doc:u})}))}set(t,i,r){const o=Xl(t,this._firestore),u=py(o.converter,i,r),c=hy(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,r);return this._transaction.set(o._key,c),this}update(t,i,r,...o){const u=Xl(t,this._firestore);let c;return c=typeof(i=wn(i))=="string"||i instanceof ly?WO(this._dataReader,"Transaction.update",u._key,i,r,o):ZO(this._dataReader,"Transaction.update",u._key,i),this._transaction.update(u._key,c),this}delete(t){const i=Xl(t,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6 extends r6{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Xl(t,this._firestore),r=new my(this._firestore);return super.get(t).then((o=>new hr(this._firestore,r,i._key,o._document,new po(!1,!1),i.converter)))}}function VE(n,t,i){n=ps(n,ca);const r={...s6,...i};(function(c){if(c.maxAttempts<1)throw new mt(et.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const o=bf(n);return BO(o,(u=>t(new a6(n,u))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(n){n=ps(n,Ae);const t=ps(n.firestore,ca),i=bf(t);return zO(i,n._key).then((r=>yw(t,n,r)))}function l6(n,t,i){n=ps(n,Ae);const r=ps(n.firestore,ca),o=py(n.converter,t,i),u=cy(r);return gw(r,[hy(u,"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,dn.none())])}function u6(n,t){const i=ps(n.firestore,ca),r=oo(n),o=py(n.converter,t),u=cy(n.firestore);return gw(i,[hy(u,"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,dn.exists(!1))]).then((()=>r))}function c6(n,...t){var g,v,T;n=wn(n);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||DE(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(DE(t[r])){const b=t[r];t[r]=(g=b.next)==null?void 0:g.bind(b),t[r+1]=(v=b.error)==null?void 0:v.bind(b),t[r+2]=(T=b.complete)==null?void 0:T.bind(b)}let u,c,m;if(n instanceof Ae)c=ps(n.firestore,ca),m=ff(n._key.path),u={next:b=>{t[r]&&t[r](yw(c,n,b))},error:t[r+1],complete:t[r+2]};else{const b=ps(n,Ef);c=ps(b.firestore,ca),m=b._query;const R=new my(c);u={next:N=>{t[r]&&t[r](new To(c,R,b,N))},error:t[r+1],complete:t[r+2]},e6(n._query)}const p=bf(c);return UO(p,m,o,u)}function gw(n,t){const i=bf(n);return jO(i,t)}function yw(n,t,i){const r=i.docs.get(t._key),o=new my(n);return new hr(n,o,t._key,r,new po(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){zN(kA),du(new bo("firestore",((r,{instanceIdentifier:o,options:u})=>{const c=r.getProvider("app").getImmediate(),m=new ca(new FN(r.getProvider("auth-internal")),new GN(c,r.getProvider("app-check-internal")),lI(c,o),c);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),lr(RE,CE,t),lr(RE,CE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="firebasestorage.googleapis.com",_w="storageBucket",h6=120*1e3,f6=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye extends fa{constructor(t,i,r=0){super(np(t),`Firebase Storage: ${i} (${np(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ye.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return np(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ge;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ge||(ge={}));function np(n){return"storage/"+n}function gy(){const n="An unknown error occurred, please check the error payload for server response.";return new ye(ge.UNKNOWN,n)}function d6(n){return new ye(ge.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function m6(n){return new ye(ge.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function p6(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ye(ge.UNAUTHENTICATED,n)}function g6(){return new ye(ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function y6(n){return new ye(ge.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function v6(){return new ye(ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _6(){return new ye(ge.CANCELED,"User canceled the upload/download.")}function T6(n){return new ye(ge.INVALID_URL,"Invalid URL '"+n+"'.")}function E6(n){return new ye(ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function b6(){return new ye(ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_w+"' property when initializing the app?")}function A6(){return new ye(ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function S6(){return new ye(ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function w6(n){return new ye(ge.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Zp(n){return new ye(ge.INVALID_ARGUMENT,n)}function Tw(){return new ye(ge.APP_DELETED,"The Firebase app was deleted.")}function x6(n){return new ye(ge.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function au(n,t){return new ye(ge.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function ql(n){throw new ye(ge.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let r;try{r=kn.makeFromUrl(t,i)}catch{return new kn(t,"")}if(r.path==="")return r;throw E6(t)}static makeFromUrl(t,i){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(st){st.path.charAt(st.path.length-1)==="/"&&(st.path_=st.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(st){st.path_=decodeURIComponent(st.path)}const v="v[A-Za-z0-9_]+",T=i.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${T}/${v}/b/${o}/o${b}`,"i"),N={bucket:1,path:3},j=i===vw?"(?:storage.googleapis.com|storage.cloud.google.com)":i,O="([^?#]*)",F=new RegExp(`^https?://${j}/${o}/${O}`,"i"),K=[{regex:m,indices:p,postModify:u},{regex:R,indices:N,postModify:g},{regex:F,indices:{bucket:1,path:2},postModify:g}];for(let st=0;st<K.length;st++){const rt=K[st],at=rt.regex.exec(t);if(at){const C=at[rt.indices.bucket];let S=at[rt.indices.path];S||(S=""),r=new kn(C,S),rt.postModify(r);break}}if(r==null)throw T6(t);return r}}class R6{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(n,t,i){let r=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let g=!1;function v(...O){g||(g=!0,t.apply(null,O))}function T(O){o=setTimeout(()=>{o=null,n(R,p())},O)}function b(){u&&clearTimeout(u)}function R(O,...F){if(g){b();return}if(O){b(),v.call(null,O,...F);return}if(p()||c){b(),v.call(null,O,...F);return}r<64&&(r*=2);let K;m===1?(m=2,K=0):K=(r+Math.random())*1e3,T(K)}let N=!1;function j(O){N||(N=!0,b(),!g&&(o!==null?(O||(m=2),clearTimeout(o),T(0)):O||(m=1)))}return T(0),u=setTimeout(()=>{c=!0,j(!0)},i),j}function D6(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(n){return n!==void 0}function M6(n){return typeof n=="object"&&!Array.isArray(n)}function yy(n){return typeof n=="string"||n instanceof String}function ME(n){return vy()&&n instanceof Blob}function vy(){return typeof Blob<"u"}function NE(n,t,i,r){if(r<t)throw Zp(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>i)throw Zp(`Invalid value for '${n}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n,t,i){let r=t;return i==null&&(r=`https://${t}`),`${i}://${r}/v0${n}`}function Ew(n){const t=encodeURIComponent;let i="?";for(const r in n)if(n.hasOwnProperty(r)){const o=t(r)+"="+t(n[r]);i=i+o+"&"}return i=i.slice(0,-1),i}var oa;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(oa||(oa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(n,t){const i=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,u=t.indexOf(n)!==-1;return i||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(t,i,r,o,u,c,m,p,g,v,T,b=!0,R=!1){this.url_=t,this.method_=i,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=T,this.retry=b,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,j)=>{this.resolve_=N,this.reject_=j,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new vh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===oa.NO_ERROR,p=u.getStatus();if(!m||N6(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===oa.ABORT;r(!1,new vh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;r(!0,new vh(g,u))})},i=(r,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());V6(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=gy();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?Tw():_6();c(p)}else{const p=v6();c(p)}};this.canceled_?i(!1,new vh(!1,null,!0)):this.backoffId_=C6(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&D6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(t,i,r){this.wasSuccessCode=t,this.connection=i,this.canceled=!!r}}function O6(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function P6(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function L6(n,t){t&&(n["X-Firebase-GMPID"]=t)}function k6(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function U6(n,t,i,r,o,u,c=!0,m=!1){const p=Ew(n.urlParams),g=n.url+p,v=Object.assign({},n.headers);return L6(v,t),O6(v,i),P6(v,u),k6(v,r),new I6(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function j6(...n){const t=z6();if(t!==void 0){const i=new t;for(let r=0;r<n.length;r++)i.append(n[r]);return i.getBlob()}else{if(vy())return new Blob(n);throw new ye(ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function B6(n,t,i){return n.webkitSlice?n.webkitSlice(t,i):n.mozSlice?n.mozSlice(t,i):n.slice?n.slice(t,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(n){if(typeof atob>"u")throw w6("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ip{constructor(t,i){this.data=t,this.contentType=i||null}}function H6(n,t){switch(n){case Fi.RAW:return new ip(bw(t));case Fi.BASE64:case Fi.BASE64URL:return new ip(Aw(n,t));case Fi.DATA_URL:return new ip(G6(t),K6(t))}throw gy()}function bw(n){const t=[];for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(i<n.length-1&&(n.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const u=r,c=n.charCodeAt(++i);r=65536|(u&1023)<<10|c&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function q6(n){let t;try{t=decodeURIComponent(n)}catch{throw au(Fi.DATA_URL,"Malformed data URL.")}return bw(t)}function Aw(n,t){switch(n){case Fi.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw au(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Fi.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw au(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=F6(t)}catch(o){throw o.message.includes("polyfill")?o:au(n,"Invalid character found")}const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r}class Sw{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw au(Fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=i[1]||null;r!=null&&(this.base64=Y6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function G6(n){const t=new Sw(n);return t.base64?Aw(Fi.BASE64,t.rest):q6(t.rest)}function K6(n){return new Sw(n).contentType}function Y6(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,i){let r=0,o="";ME(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,i){if(ME(this.data_)){const r=this.data_,o=B6(r,t,i);return o===null?null:new ir(o)}else{const r=new Uint8Array(this.data_.buffer,t,i-t);return new ir(r,!0)}}static getBlob(...t){if(vy()){const i=t.map(r=>r instanceof ir?r.data_:r);return new ir(j6.apply(null,i))}else{const i=t.map(c=>yy(c)?H6(Fi.RAW,c).data:c.data_);let r=0;i.forEach(c=>{r+=c.byteLength});const o=new Uint8Array(r);let u=0;return i.forEach(c=>{for(let m=0;m<c.length;m++)o[u++]=c[m]}),new ir(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n){let t;try{t=JSON.parse(n)}catch{return null}return M6(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function X6(n,t){const i=t.split("/").filter(r=>r.length>0).join("/");return n.length===0?i:n+"/"+i}function xw(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(n,t){return t}class hn{constructor(t,i,r,o){this.server=t,this.local=i||t,this.writable=!!r,this.xform=o||$6}}let _h=null;function Z6(n){return!yy(n)||n.length<2?n:xw(n)}function Rw(){if(_h)return _h;const n=[];n.push(new hn("bucket")),n.push(new hn("generation")),n.push(new hn("metageneration")),n.push(new hn("name","fullPath",!0));function t(u,c){return Z6(c)}const i=new hn("name");i.xform=t,n.push(i);function r(u,c){return c!==void 0?Number(c):c}const o=new hn("size");return o.xform=r,n.push(o),n.push(new hn("timeCreated")),n.push(new hn("updated")),n.push(new hn("md5Hash",null,!0)),n.push(new hn("cacheControl",null,!0)),n.push(new hn("contentDisposition",null,!0)),n.push(new hn("contentEncoding",null,!0)),n.push(new hn("contentLanguage",null,!0)),n.push(new hn("contentType",null,!0)),n.push(new hn("metadata","customMetadata",!0)),_h=n,_h}function W6(n,t){function i(){const r=n.bucket,o=n.fullPath,u=new kn(r,o);return t._makeStorageReference(u)}Object.defineProperty(n,"ref",{get:i})}function J6(n,t,i){const r={};r.type="file";const o=i.length;for(let u=0;u<o;u++){const c=i[u];r[c.local]=c.xform(r,t[c.server])}return W6(r,n),r}function Cw(n,t,i){const r=ww(t);return r===null?null:J6(n,r,i)}function t5(n,t,i,r){const o=ww(t);if(o===null||!yy(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(g=>{const v=n.bucket,T=n.fullPath,b="/b/"+c(v)+"/o/"+c(T),R=_y(b,i,r),N=Ew({alt:"media",token:g});return R+N})[0]}function e5(n,t){const i={},r=t.length;for(let o=0;o<r;o++){const u=t[o];u.writable&&(i[u.server]=n[u.local])}return JSON.stringify(i)}class Dw{constructor(t,i,r,o){this.url=t,this.method=i,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n){if(!n)throw gy()}function n5(n,t){function i(r,o){const u=Cw(n,o,t);return Vw(u!==null),u}return i}function i5(n,t){function i(r,o){const u=Cw(n,o,t);return Vw(u!==null),t5(u,o,n.host,n._protocol)}return i}function Mw(n){function t(i,r){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=g6():o=p6():i.getStatus()===402?o=m6(n.bucket):i.getStatus()===403?o=y6(n.path):o=r,o.status=i.getStatus(),o.serverResponse=r.serverResponse,o}return t}function s5(n){const t=Mw(n);function i(r,o){let u=t(r,o);return r.getStatus()===404&&(u=d6(n.path)),u.serverResponse=o.serverResponse,u}return i}function r5(n,t,i){const r=t.fullServerUrl(),o=_y(r,n.host,n._protocol),u="GET",c=n.maxOperationRetryTime,m=new Dw(o,u,i5(n,i),c);return m.errorHandler=s5(t),m}function a5(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function o5(n,t,i){const r=Object.assign({},i);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=a5(null,t)),r}function l5(n,t,i,r,o){const u=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let K="";for(let st=0;st<2;st++)K=K+Math.random().toString().slice(2);return K}const p=m();c["Content-Type"]="multipart/related; boundary="+p;const g=o5(t,r,o),v=e5(g,i),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,b=`\r
--`+p+"--",R=ir.getBlob(T,r,b);if(R===null)throw A6();const N={name:g.fullPath},j=_y(u,n.host,n._protocol),O="POST",F=n.maxUploadRetryTime,X=new Dw(j,O,n5(n,i),F);return X.urlParams=N,X.headers=c,X.body=R.uploadData(),X.errorHandler=Mw(t),X}class u5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oa.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oa.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oa.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,r,o,u){if(this.sent_)throw ql("cannot .send() more than once");if(Ru(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,t,!0),u!==void 0)for(const c in u)u.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,u[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class c5 extends u5{initXhr(){this.xhr_.responseType="text"}}function Nw(){return new c5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t,i){this._service=t,i instanceof kn?this._location=i:this._location=kn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new ha(t,i)}get root(){const t=new kn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xw(this._location.path)}get storage(){return this._service}get parent(){const t=Q6(this._location.path);if(t===null)return null;const i=new kn(this._location.bucket,t);return new ha(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw x6(t)}}function h5(n,t,i){n._throwIfRoot("uploadBytes");const r=l5(n.storage,n._location,Rw(),new ir(t,!0),i);return n.storage.makeRequestWithTokens(r,Nw).then(o=>({metadata:o,ref:n}))}function f5(n){n._throwIfRoot("getDownloadURL");const t=r5(n.storage,n._location,Rw());return n.storage.makeRequestWithTokens(t,Nw).then(i=>{if(i===null)throw S6();return i})}function d5(n,t){const i=X6(n._location.path,t),r=new kn(n._location.bucket,i);return new ha(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(n){return/^[A-Za-z]+:\/\//.test(n)}function p5(n,t){return new ha(n,t)}function Iw(n,t){if(n instanceof Ty){const i=n;if(i._bucket==null)throw b6();const r=new ha(i,i._bucket);return t!=null?Iw(r,t):r}else return t!==void 0?d5(n,t):n}function g5(n,t){if(t&&m5(t)){if(n instanceof Ty)return p5(n,t);throw Zp("To use ref(service, url), the first argument must be a Storage instance.")}else return Iw(n,t)}function IE(n,t){const i=t==null?void 0:t[_w];return i==null?null:kn.makeFromBucketSpec(i,n)}function y5(n,t,i,r={}){n.host=`${t}:${i}`;const o=Ru(t);o&&(VA(`https://${n.host}/b`),_4("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(n._overrideAuthToken=typeof u=="string"?u:g4(u,n.app.options.projectId))}class Ty{constructor(t,i,r,o,u,c=!1){this.app=t,this._authProvider=i,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=vw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=h6,this._maxUploadRetryTime=f6,this._requests=new Set,o!=null?this._bucket=kn.makeFromBucketSpec(o,this._host):this._bucket=IE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=kn.makeFromBucketSpec(this._url,t):this._bucket=IE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){NE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){NE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(LA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ha(this,t)}_makeRequest(t,i,r,o,u=!0){if(this._deleted)return new R6(Tw());{const c=U6(t,this._appId,r,o,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,i){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,r,o).getPromise()}}const OE="@firebase/storage",PE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="storage";function v5(n,t,i){return n=wn(n),h5(n,t,i)}function _5(n){return n=wn(n),f5(n)}function T5(n,t){return n=wn(n),g5(n,t)}function E5(n=xN(),t){n=wn(n);const r=PA(n,Ow).getImmediate({identifier:t}),o=m4("storage");return o&&b5(r,...o),r}function b5(n,t,i,r={}){y5(n,t,i,r)}function A5(n,{instanceIdentifier:t}){const i=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Ty(i,r,o,t,kA)}function S5(){du(new bo(Ow,A5,"PUBLIC").setMultipleInstances(!0)),lr(OE,PE,""),lr(OE,PE,"esm2020")}S5();const w5={apiKey:"AIzaSyDxW5AYKt7K4PqxEjIFaPEms7DzLJ1Pubk",authDomain:"scratch-off-card.firebaseapp.com",projectId:"scratch-off-card",storageBucket:"scratch-off-card.firebasestorage.app",messagingSenderId:"991656177100",appId:"1:991656177100:web:7e14d90ad067a2250f0169"},Pw=UA(w5),tr=KO(Pw,{ignoreUndefinedProperties:!0}),LE=E5(Pw),Th="games",Eh="default",kE="cards",go={async uploadFile(n,t){if(console.log(`[GameService] : ${t}, : ${n.size} bytes`),!LE)throw new Error("Firebase Storage not initialized");try{const i=T5(LE,t);console.log("[GameService] storageRef  uploadBytes...");const r=v5(i,n),o=new Promise((c,m)=>setTimeout(()=>m(new Error(" (60s) CORS  or ")),6e4));await Promise.race([r,o]),console.log("[GameService] uploadBytes ...");const u=await _5(i);return console.log(`[GameService] : ${u}`),u}catch(i){throw console.error("[GameService] :",i),i}},async saveCard(n,t){const i=GO(tr,kE);return(await u6(i,{config:n,deck:t,createdAt:xE()})).id},async getCard(n){const t=oo(tr,kE,n),i=await o6(t);return i.exists()?i.data():null},async saveGameToCloud(n,t){const i=oo(tr,Th,Eh),r={config:n,deck:t,updatedAt:xE()},o=JSON.stringify({config:n,deck:t}),u=new TextEncoder().encode(o).length,c=(u/(1024*1024)).toFixed(2);return console.log(`Payload size: ${c} MB`),u>1e6&&console.warn(`Warning: Payload size is ${c} MB, which is close to or over Firestore limit.`),await l6(i,r),!0},subscribeToGame(n){const t=oo(tr,Th,Eh);return c6(t,i=>{i.exists()?n(i.data()):n(null)})},async lockCard(n,t){const i=oo(tr,Th,Eh);try{return await VE(tr,async r=>{const o=await r.get(i);if(!o.exists())throw"Game does not exist";const c=o.data().deck,m=c.findIndex(b=>b.id===n);if(m===-1)throw"Card not found";const p=c[m];if(p.isPlayed)throw"Card already played";const g=Date.now(),v=120*1e3;if(p.lockedBy&&p.lockedBy!==t&&p.lockedAt&&g-p.lockedAt<v)throw"Card is locked by someone else";const T=[...c];T[m]={...p,lockedBy:t,lockedAt:g},r.update(i,{deck:T})}),!0}catch(r){return console.error("Lock failed:",r),!1}},async updateCardState(n,t){const i=oo(tr,Th,Eh);await VE(tr,async r=>{const o=await r.get(i);if(!o.exists())throw"Game does not exist";const c=o.data().deck,m=c.findIndex(g=>g.id===n);if(m===-1)throw"Card not found";const p=[...c];p[m]={...p[m],...t},r.update(i,{deck:p})})}},x5=95,R5=()=>new URLSearchParams(window.location.search).get("admin")==="true",sp={totalCards:100,tiers:[{count:1,amount:5e3},{count:5,amount:500},{count:15,amount:50},{count:30,amount:10}],winMessage:"!",loseMessage:"...",scratchSound:"https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.m4a",bgMusic:"",bgMusicLoopStart:0,bgMusicLoopEnd:0,bgMusicEnabled:!0},C5="data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='600' viewBox='0 0 400 600'%3E%3Cdefs%3E%3ClinearGradient id='bg' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23FCD34D'/%3E%3Cstop offset='100%25' stop-color='%23F59E0B'/%3E%3C/linearGradient%3E%3Cpattern id='pattern' width='40' height='40' patternUnits='userSpaceOnUse'%3E%3Ccircle cx='20' cy='20' r='2' fill='%23FFFFFF' opacity='0.3'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23bg)'/%3E%3Crect width='100%25' height='100%25' fill='url(%23pattern)'/%3E%3Ccircle cx='200' cy='220' r='100' fill='%23FFFBEB' stroke='%23FBBF24' stroke-width='8'/%3E%3Cpath d='M160 180 Q200 220 240 180 Q260 140 220 120 Q200 140 180 120 Q140 140 160 180' fill='%23F59E0B'/%3E%3Ctext x='200' y='400' font-family='sans-serif' font-weight='900' font-size='48' fill='%2378350F' text-anchor='middle' stroke='%23FFF' stroke-width='2'%3ELUCKY%3C/text%3E%3Ctext x='200' y='450' font-family='sans-serif' font-weight='900' font-size='48' fill='%2378350F' text-anchor='middle' stroke='%23FFF' stroke-width='2'%3EPAWS%3C/text%3E%3Crect x='50' y='500' width='300' height='60' rx='30' fill='%23FFFFFF' stroke='%2378350F' stroke-width='4'/%3E%3Ctext x='200' y='542' font-family='sans-serif' font-weight='bold' font-size='24' fill='%23D97706' text-anchor='middle'%3ESCRATCH TO WIN%3C/text%3E%3C/svg%3E",ra=new e4,D5=({isOpen:n,onClose:t,config:i,setConfig:r,onRegenerate:o,onUploadCover:u,currentCover:c,onSave:m,onShare:p,isSyncing:g,isUploading:v,setIsUploading:T,onShareSnapshot:b})=>{const R=(O,F,X)=>{const K=[...i.tiers];K[O]={...K[O],[F]:X},r({...i,tiers:K})},N=()=>{r({...i,tiers:[...i.tiers,{count:1,amount:10}]})},j=O=>{const F=i.tiers.filter((X,K)=>K!==O);r({...i,tiers:F})};return V.jsx(mA,{children:n&&V.jsx(fu.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",children:V.jsxs(fu.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white w-full max-w-lg rounded-3xl p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[V.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[V.jsxs("h3",{className:"text-2xl font-black text-gray-800 flex items-center gap-2",children:[V.jsx(rp,{className:"text-orange-500"}),"  (Settings)"]}),V.jsx("button",{onClick:t,className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200",children:V.jsx(BE,{size:20})})]}),V.jsxs("div",{className:"space-y-6",children:[V.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[V.jsxs("h4",{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[V.jsx(B2,{size:18,className:"text-purple-500"}),"  (Appearance)"]}),V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsxs("div",{className:"w-16 h-20 rounded-lg overflow-hidden border border-gray-300 shadow-sm flex-shrink-0 bg-white relative",children:[V.jsx("img",{src:i.coverImage||c,alt:"Preview",className:"w-full h-full object-cover"}),v&&V.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:V.jsx(tT,{className:"animate-spin text-white",size:20})})]}),V.jsxs("div",{className:"flex-1",children:[V.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),V.jsxs("label",{className:`inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-bold text-gray-700 cursor-pointer hover:bg-gray-50 transition shadow-sm ${v?"opacity-50 pointer-events-none":""}`,children:[V.jsx(iT,{size:16}),v?"...":"",V.jsx("input",{type:"file",className:"hidden",accept:"image/*",disabled:v,onChange:async O=>{var X;const F=(X=O.target.files)==null?void 0:X[0];if(F)try{T==null||T(!0);const K=await go.uploadFile(F,`covers/${Date.now()}_${F.name}`);u(F),r({...i,coverImage:K})}catch(K){console.error(K),alert(`
${K.message||""}

 Firebase Storage  CORS `)}finally{T==null||T(!1)}}})]})]})]})]}),V.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[V.jsxs("h4",{className:"font-bold text-blue-800 mb-2 flex items-center gap-2",children:[V.jsx(eT,{size:18}),"  (Messages)"]}),V.jsxs("div",{className:"space-y-3",children:[V.jsxs("div",{children:[V.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1",children:" (Win Message)"}),V.jsx("input",{type:"text",value:i.winMessage,onChange:O=>r({...i,winMessage:O.target.value}),className:"w-full border rounded-lg px-3 py-2 text-sm font-bold text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"!"})]}),V.jsxs("div",{children:[V.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1",children:" (Lose Message)"}),V.jsx("input",{type:"text",value:i.loseMessage,onChange:O=>r({...i,loseMessage:O.target.value}),className:"w-full border rounded-lg px-3 py-2 text-sm font-bold text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"..."})]})]})]})]}),V.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl border border-purple-100",children:[V.jsxs("h4",{className:"font-bold text-purple-800 mb-2 flex items-center gap-2 justify-between",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(eT,{size:18}),"  (BGM)"]}),V.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[V.jsx("input",{type:"checkbox",checked:i.bgMusicEnabled,onChange:O=>r({...i,bgMusicEnabled:O.target.checked}),className:"w-4 h-4 text-purple-600 rounded focus:ring-purple-500"}),V.jsx("span",{className:"text-xs font-bold text-purple-700",children:""})]})]}),V.jsxs("div",{className:"space-y-3",children:[V.jsx("div",{children:V.jsxs("div",{children:[V.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1",children:" MP3  ()"}),V.jsxs("label",{className:`flex items-center gap-2 px-3 py-2 bg-white border border-purple-200 rounded-lg text-sm font-bold text-purple-700 cursor-pointer hover:bg-purple-50 transition shadow-sm w-full justify-center ${v?"opacity-50 pointer-events-none":""}`,children:[v?V.jsx(tT,{className:"animate-spin",size:16}):V.jsx(iT,{size:16}),v?"...":i.bgMusic?" ()":"",V.jsx("input",{type:"file",className:"hidden",accept:"audio/mp3,audio/wav",disabled:v,onChange:async O=>{var X;const F=(X=O.target.files)==null?void 0:X[0];if(F)try{T==null||T(!0);const K=await go.uploadFile(F,`music/${Date.now()}_${F.name}`);r({...i,bgMusic:K})}catch(K){console.error(K),alert(`
${K.message||""}

 Firebase Storage  CORS `)}finally{T==null||T(!1)}}})]})]})}),V.jsxs("div",{className:"flex gap-3",children:[V.jsxs("div",{className:"flex-1",children:[V.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1",children:" ()"}),V.jsx("input",{type:"number",min:"0",step:"0.1",value:i.bgMusicLoopStart||0,onChange:O=>r({...i,bgMusicLoopStart:Number(O.target.value)}),className:"w-full border rounded-lg px-2 py-1.5 font-bold text-gray-700 text-sm focus:ring-2 focus:ring-purple-400 focus:outline-none"})]}),V.jsxs("div",{className:"flex-1",children:[V.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1",children:" ()"}),V.jsx("input",{type:"number",min:"0",step:"0.1",placeholder:"0 ()",value:i.bgMusicLoopEnd||0,onChange:O=>r({...i,bgMusicLoopEnd:Number(O.target.value)}),className:"w-full border rounded-lg px-2 py-1.5 font-bold text-gray-700 text-sm focus:ring-2 focus:ring-purple-400 focus:outline-none"})]})]}),V.jsx("p",{className:"text-[10px] text-gray-400",children:" 0"})]})]}),V.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border border-orange-100",children:[V.jsxs("h4",{className:"font-bold text-orange-800 mb-2 flex items-center gap-2 justify-between",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(lo,{size:18}),"  (Prize Rules)"]}),V.jsxs("button",{type:"button",onClick:N,className:"text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded-md hover:bg-orange-200 flex items-center gap-1 font-bold",children:[V.jsx(Z2,{size:12})," "]})]}),V.jsxs("p",{className:"text-xs text-orange-600/70 mb-3",children:[" ",i.totalCards,"  $0"]}),V.jsxs("div",{className:"space-y-2",children:[i.tiers.map((O,F)=>V.jsxs("div",{className:"flex items-center gap-3 bg-white p-2 rounded-lg border border-orange-100 shadow-sm",children:[V.jsxs("div",{className:"flex-1",children:[V.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:" (Count)"}),V.jsx("input",{type:"number",min:"0",value:O.count,onChange:X=>R(F,"count",parseInt(X.target.value)||0),className:"w-full border rounded-lg px-2 py-1.5 font-bold text-gray-700 text-sm"})]}),V.jsxs("div",{className:"flex-1",children:[V.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:" ($)"}),V.jsx("input",{type:"number",min:"0",value:O.amount,onChange:X=>R(F,"amount",parseInt(X.target.value)||0),className:"w-full border rounded-lg px-2 py-1.5 font-bold text-green-600 text-sm"})]}),V.jsx("div",{className:"flex-none pt-4",children:V.jsx("button",{onClick:()=>j(F),className:"p-1.5 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-md transition",title:"",children:V.jsx(eR,{size:16})})})]},F)),i.tiers.length===0&&V.jsx("div",{className:"text-center py-4 text-gray-400 text-sm italic",children:" $0"})]})]}),V.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t border-gray-100 mt-6",children:[V.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2",children:[V.jsx(rp,{size:18,className:"text-gray-400"}),"  (Actions)"]}),V.jsxs("button",{type:"button",onClick:O=>{O.preventDefault(),o()},className:"w-full py-3 bg-gray-100 text-gray-700 rounded-xl font-bold hover:bg-gray-200 transaction flex items-center justify-center gap-2",children:[V.jsx(nT,{size:18})," (Local Preview)"]}),m&&V.jsxs("button",{type:"button",onClick:O=>{O.preventDefault(),m&&m()},disabled:g,className:"w-full py-4 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transform active:scale-95 transition flex items-center justify-center gap-2 disabled:opacity-50",children:[g?V.jsx(nT,{className:"animate-spin",size:20}):V.jsx(P2,{size:20}),g?"...":" (Save & Deploy)"]}),p&&V.jsxs("button",{type:"button",onClick:O=>{O.preventDefault(),p&&p()},className:"w-full py-3 bg-green-50 text-green-700 border border-green-200 rounded-xl font-bold hover:bg-green-100 transition flex items-center justify-center gap-2",children:[V.jsx(G2,{size:18}),""]})]})]})})})},UE=({game:n,index:t})=>V.jsxs("div",{className:"flex-1 flex flex-row items-stretch bg-white/50 backdrop-blur-sm border-b border-gray-300 last:border-0 relative",children:[V.jsxs("div",{className:"flex-1 border-r border-gray-300 flex flex-col items-center justify-center bg-white/40 pt-1 pb-1",children:[V.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:""}),V.jsx("span",{className:"text-5xl font-black text-gray-800 leading-none drop-shadow-sm font-mono mt-1 mb-0",children:n.house<10?`0${n.house}`:n.house}),V.jsxs("span",{className:"text-sm font-black text-gray-700 tracking-tighter mt-1",children:["$",n.prize.toLocaleString()]})]}),V.jsx("div",{className:"w-12 flex items-center justify-center relative",children:V.jsx("div",{className:"text-xl font-black text-gray-400/30 italic absolute",children:"VS"})}),V.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-white/40",children:[V.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:""}),V.jsx("span",{className:"text-5xl font-black text-gray-800 leading-none drop-shadow-sm font-mono",children:n.my<10?`0${n.my}`:n.my}),V.jsx("span",{className:"text-xs font-black text-transparent tracking-tighter -mt-1 scale-y-90 select-none",children:"$0"})]})]}),V5=({cardData:n,coverImage:t,winMessage:i,loseMessage:r,onBack:o,onComplete:u})=>{const c=n.isPlayed,[m,p]=it.useState(c),[g,v]=it.useState(!1),T=it.useRef(null),[b,R]=it.useState({width:0,height:0});it.useEffect(()=>{const X=()=>{T.current&&R({width:T.current.clientWidth,height:T.current.clientHeight})},K=setTimeout(X,50);return window.addEventListener("resize",X),()=>{window.removeEventListener("resize",X),clearTimeout(K)}},[]);const N=()=>{ra.playScratch()},j=()=>{ra.stopScratch()},O=()=>{m||(Dp([20,50,20]),p(!0),v(!0),ra.stopScratch(),u(n.id))},F=m||c;return V.jsxs("div",{className:"min-h-screen bg-[#FFF8F0] flex flex-col items-center pt-6 pb-4 px-4 relative overflow-hidden",children:[V.jsxs("div",{className:"w-full max-w-md flex justify-between items-center mb-4 z-10",children:[V.jsx("button",{onClick:o,disabled:!F,className:`p-3 bg-white rounded-full shadow-md transition border border-gray-100 ${F?"text-gray-600 hover:bg-gray-50 cursor-pointer":"text-gray-300 cursor-not-allowed opacity-50"}`,children:V.jsx(BE,{size:24})}),V.jsxs("div",{className:"bg-white border border-yellow-200 text-yellow-600 px-4 py-1.5 rounded-full text-sm font-bold shadow-sm",children:["Card #",n.id]})]}),V.jsxs("div",{className:"w-full max-w-md aspect-[3/4.6] shadow-2xl rounded-3xl relative bg-white border-[6px] border-white overflow-hidden box-border",children:[V.jsxs("div",{className:"absolute inset-0 flex flex-col bg-gray-100",children:[V.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(#9ca3af 1px, transparent 1px)",backgroundSize:"12px 12px"}}),V.jsxs("div",{className:"flex-none h-20 bg-gradient-to-r from-orange-400 to-yellow-500 flex items-center justify-center shadow-md z-10 relative",children:[V.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(45deg, #ffffff 25%, transparent 25%, transparent 50%, #ffffff 50%, #ffffff 75%, transparent 75%, transparent)",backgroundSize:"10px 10px"}}),V.jsx("div",{className:"text-3xl font-black text-white tracking-widest drop-shadow-md z-10 uppercase italic",children:""})]}),V.jsxs("div",{className:"flex-1 flex flex-col relative z-0",children:[V.jsx(UE,{game:n.games[0],index:0}),V.jsx(UE,{game:n.games[1],index:1})]}),V.jsxs("div",{className:"h-40 bg-gradient-to-br from-purple-600 to-indigo-700 flex flex-col items-center justify-center relative overflow-hidden text-white shadow-[0_-4px_10px_rgba(0,0,0,0.1)] z-10",children:[V.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, #ffffff 10px, #ffffff 20px)"}}),V.jsx("span",{className:"text-sm font-bold text-purple-200 tracking-widest mb-2 z-10 bg-purple-900/50 px-3 py-1 rounded-full border border-purple-400/30",children:" (BONUS)"}),V.jsxs("div",{className:"z-10 flex items-baseline relative flex-col items-center",children:[n.bonusPrize>0&&V.jsx("span",{className:"text-yellow-300 font-bold text-xs animate-pulse mb-1",children:"WINNER!"}),V.jsxs("span",{className:"text-6xl font-black drop-shadow-lg tracking-tighter",children:["$",n.bonusPrize.toLocaleString()]})]})]})]}),!c&&V.jsx("div",{className:"absolute inset-0 z-20",ref:T,children:b.width>0&&V.jsx(n4,{width:b.width,height:b.height,imageSrc:t,onScratchStart:N,onScratchEnd:j,onRevealComplete:O,isRevealed:m,threshold:x5})})]}),V.jsx(i4,{isOpen:g,result:n,onBackToList:o,onViewCard:()=>v(!1),winMessage:i,loseMessage:r})]})},M5=()=>{const[n,t]=it.useState(sp),[i,r]=it.useState([]),[o,u]=it.useState(new Set),[c,m]=it.useState(null),[p,g]=it.useState(!1),[v,T]=it.useState(!1),[b,R]=it.useState(""),[N,j]=it.useState(""),[O,F]=it.useState(C5),[X]=it.useState(R5()),[K,st]=it.useState(!1),[rt,at]=it.useState(""),[C,S]=it.useState(new Set),[x,P]=it.useState(null),[I,U]=it.useState(!1),[D,Gt]=it.useState(!1);if(it.useEffect(()=>{const gt=new URLSearchParams(window.location.search).get("id");if(gt){(async()=>{var Vt,Qt;try{st(!0);const Le=await go.getCard(gt);if(Le){console.log("Loaded snapshot:",Le);const zn={...Le.config};(Vt=zn.bgMusic)!=null&&Vt.startsWith("blob:")&&(zn.bgMusic=""),(Qt=zn.coverImage)!=null&&Qt.startsWith("blob:")&&(zn.coverImage=""),t(zn),r(Le.deck),Gt(!0);const Ts=Le.deck.filter(yi=>yi.isPlayed).map(yi=>yi.id);u(new Set(Ts))}else P("")}catch(Le){console.error(Le),P("")}finally{st(!1)}})();return}try{const _t=go.subscribeToGame(Vt=>{if(Vt&&Vt.deck&&Vt.deck.length>0){console.log("Received game update from cloud:",Vt),t(Vt.config),r(Vt.deck);const Qt=Vt.deck.filter(Le=>Le.isPlayed).map(Le=>Le.id);u(new Set(Qt)),S(new Set(Vt.lockedCards||[]))}else console.log("No valid cloud data found, using default/local."),i.length===0&&r(Ym(sp));Vt&&Vt.config&&Vt.config.coverImage&&!Vt.config.coverImage.startsWith("blob:")&&F(Vt.config.coverImage)});return()=>_t()}catch(_t){console.error("Firebase Init Error:",_t),P(": "+(_t.message||_t)),i.length===0&&r(Ym(sp))}},[]),x)return V.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:V.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-red-200 text-center max-w-md",children:[V.jsx(M2,{size:48,className:"text-red-500 mx-auto mb-4"}),V.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),V.jsx("p",{className:"text-gray-600 mb-4 font-mono text-sm bg-gray-100 p-2 rounded break-all",children:x}),V.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-bold",children:" (Retry)"})]})});it.useEffect(()=>{n.scratchSound&&ra.setScratchSound(n.scratchSound),n.bgMusic?(ra.setBgMusic(n.bgMusic,n.bgMusicLoopStart,n.bgMusicLoopEnd),ra.setBgMusicEnabled(n.bgMusicEnabled)):ra.stopBgMusic()},[n.scratchSound,n.bgMusic,n.bgMusicLoopStart,n.bgMusicLoopEnd,n.bgMusicEnabled]);const re=ut=>{r(gt=>gt.map(_t=>_t.id===ut?{..._t,isPlayed:!0}:_t)),u(gt=>new Set(gt).add(ut))},$=()=>{r(Ym(n)),u(new Set)},ot=async()=>{var ut,gt;if((ut=n.bgMusic)!=null&&ut.startsWith("blob:")||(gt=n.coverImage)!=null&&gt.startsWith("blob:")){alert(" (blob:)");return}if(confirm(`

 (Regenerate)

`)){st(!0);try{await go.saveGameToCloud(n,i);const _t=window.location.origin+window.location.pathname;at(_t),prompt("",_t)}catch(_t){console.error(_t),alert(" Firebase ")}finally{st(!1)}}},ft=()=>{const ut=window.location.origin+window.location.pathname;navigator.clipboard.writeText(ut).then(()=>{alert("")})},Rt=async()=>{try{st(!0);const ut=await go.saveCard(n,i);let gt=window.location.origin+window.location.pathname;(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&(gt="https://stevenbocheng.github.io/Scratch-off-card/");const _t=`${gt}?id=${ut}`;prompt("",_t)}catch(ut){console.error(ut),alert("")}finally{st(!1)}},Nt=ut=>{const gt=new FileReader;gt.onload=_t=>{var Vt;(Vt=_t.target)!=null&&Vt.result&&F(_t.target.result)},gt.readAsDataURL(ut)},L=i.find(ut=>ut.id===c),J=i.reduce((ut,gt)=>ut+gt.totalPrizeAmount,0),ct=i.filter(ut=>ut.isWin).length,ht=i.length>0?(ct/i.length*100).toFixed(1):"0.0";return L?V.jsx(V5,{cardData:L,coverImage:O,winMessage:n.winMessage,loseMessage:n.loseMessage,onBack:()=>m(null),onComplete:()=>re(L.id)}):V.jsxs("div",{className:"min-h-screen bg-[#FFF8F0] p-4 font-sans",children:[V.jsxs("header",{className:"p-4 flex justify-between items-center relative z-10",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm border border-white/30 shadow-inner",children:V.jsx(lo,{className:"text-yellow-300 drop-shadow-sm",size:24})}),V.jsxs("div",{children:[V.jsxs("h1",{className:"text-2xl font-black text-white italic tracking-tighter drop-shadow-md",children:[V.jsx("span",{className:"text-yellow-300",children:"LUCKY"})," SCRATCH"]}),V.jsxs("p",{className:"text-[10px] text-white/80 font-bold tracking-widest uppercase -mt-1",children:["WIN UP TO ",Math.max(...n.tiers.map(ut=>ut.amount)).toLocaleString()]})]})]}),X&&!D&&V.jsx("button",{onClick:()=>g(!0),className:"bg-white/20 p-2 rounded-full hover:bg-white/30 transition border border-white/30 backdrop-blur-md shadow-lg group",children:V.jsx(rp,{className:"text-white group-hover:rotate-45 transition-transform duration-500",size:24})}),D&&V.jsx("div",{className:"bg-blue-50/80 backdrop-blur-sm border border-blue-200 px-3 py-1.5 rounded-full text-[10px] font-black text-blue-700 shadow-sm",children:" "})]}),V.jsxs("div",{className:"max-w-4xl mx-auto mb-6 grid grid-cols-2 gap-3",children:[V.jsx("div",{className:"bg-white px-4 py-3 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:V.jsxs("div",{children:[V.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[V.jsx(lo,{size:14,className:"text-gray-400"}),V.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:""})]}),V.jsxs("span",{className:"text-xl font-black text-gray-800",children:[o.size," ",V.jsxs("span",{className:"text-sm text-gray-400",children:["/ ",i.length]})]})]})}),V.jsx("div",{className:"bg-white px-4 py-3 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:V.jsxs("div",{children:[V.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[V.jsx(k2,{size:14,className:"text-green-500"}),V.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:""})]}),V.jsxs("span",{className:"text-xl font-black text-green-500",children:["$",Array.from(o).reduce((ut,gt)=>{const _t=i.find(Vt=>Vt.id===gt);return ut+((_t==null?void 0:_t.totalPrizeAmount)||0)},0).toLocaleString()]})]})}),V.jsx("div",{className:"bg-white px-4 py-3 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:V.jsxs("div",{children:[V.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[V.jsx(X2,{size:14,className:"text-blue-400"}),V.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:""})]}),V.jsxs("span",{className:"text-xl font-black text-blue-500",children:[ht,"%"]})]})}),V.jsx("div",{className:"bg-white px-4 py-3 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:V.jsxs("div",{children:[V.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[V.jsx(lo,{size:14,className:"text-orange-400"}),V.jsx("span",{className:"text-xs text-gray-400 font-bold uppercase",children:""})]}),V.jsxs("span",{className:"text-xl font-black text-orange-500",children:["$",J.toLocaleString()]})]})})]}),D&&V.jsxs("div",{className:"max-w-4xl mx-auto mb-6 bg-blue-50 border-2 border-blue-200 p-4 rounded-3xl text-center text-blue-700 font-bold shadow-lg",children:[V.jsx("p",{children:"  ()"}),V.jsx("button",{onClick:()=>window.location.search="",className:"text-xs underline mt-2 text-blue-500 hover:text-blue-700 font-black",children:""})]}),V.jsx("div",{className:"max-w-4xl mx-auto pb-8",children:V.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:i.map(ut=>{const gt=o.has(ut.id);return V.jsxs(fu.button,{whileHover:{scale:1.03,y:-4},whileTap:{scale:.95},onClick:()=>m(ut.id),className:`w-full aspect-[3/4.2] focus:outline-none rounded-2xl overflow-hidden shadow-md relative group bg-white ${gt?"opacity-100":""}`,children:[gt?V.jsx("div",{className:`w-full h-full flex flex-col items-center justify-center border-4 ${ut.isWin?"bg-yellow-50 border-yellow-400":"bg-gray-100 border-gray-300"}`,children:ut.isWin?V.jsxs(V.Fragment,{children:[V.jsx(lo,{className:"text-yellow-500 w-8 h-8 mb-2"}),V.jsxs("span",{className:"text-green-600 font-black text-xl",children:["$",ut.totalPrizeAmount]})]}):V.jsxs(V.Fragment,{children:[V.jsx("span",{className:"text-3xl grayscale opacity-50",children:""}),V.jsx("span",{className:"text-gray-400 font-bold mt-2",children:"No Win"})]})}):V.jsx("img",{src:O,alt:"Cover",className:"w-full h-full object-cover"}),V.jsxs("div",{className:"absolute top-2 right-2 bg-white/90 backdrop-blur text-gray-800 text-xs font-bold px-2 py-1 rounded-md shadow-sm z-10",children:["#",ut.id]})]},ut.id)})})}),V.jsx(D5,{isOpen:p,onClose:()=>g(!1),config:n,setConfig:t,onRegenerate:$,onSave:ot,onShare:ft,isSyncing:K,onUploadCover:Nt,currentCover:O,isUploading:I,setIsUploading:U,onShareSnapshot:Rt})]})},Lw=document.getElementById("root");if(!Lw)throw new Error("Could not find root element to mount to");const N5=S2.createRoot(Lw);N5.render(V.jsx(g2.StrictMode,{children:V.jsx(M5,{})}));
